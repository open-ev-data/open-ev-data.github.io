{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to OpenEV Data","text":"<ul> <li> <p>Single Source of Truth</p> <p>The world's most accurate, scientifically validated, and accessible open database of Electric Vehicle specifications.</p> </li> <li> <p>Built for Performance</p> <p>High-performance Rust ecosystem with API deployment, providing global low-latency access to data.</p> </li> <li> <p>Data-as-Code</p> <p>Version control, strict schema validation, and community review for every data point\u2014from battery chemistry to charging curves.</p> </li> <li> <p>Open &amp; Collaborative</p> <p>Community-driven project with contributions from EV enthusiasts, engineers, and manufacturers worldwide.</p> </li> </ul>"},{"location":"#what-is-openev-data","title":"What is OpenEV Data?","text":"<p>OpenEV Data develops and maintains the world's most accurate open database of Electric Vehicle specifications. Unlike fragmented proprietary lists, OpenEV is built on Data-as-Code principles, ensuring:</p> <ul> <li>Version Control: Every change is tracked and reviewable</li> <li>Schema Validation: Strict typing prevents invalid data</li> <li>Community Review: Multiple eyes on every specification</li> <li>Global Standards: Support for CCS, NACS, CHAdeMO, GB/T, and more</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p>Get Started \u2192</p> <p>Learn how to use the dataset or API</p> </li> <li> <p>Project Governance \u2192</p> <p>Learn about project structure and policies</p> </li> <li> <p>API Documentation \u2192</p> <p>Explore the REST API documentation</p> </li> <li> <p>Dataset Documentation \u2192</p> <p>Learn about the EV dataset structure</p> </li> <li> <p>Contribute \u2192</p> <p>Help improve the database</p> </li> </ul>"},{"location":"#project-status","title":"Project Status","text":"Component Status Website API Dataset"},{"location":"#repository-structure","title":"Repository Structure","text":"<p>OpenEV Data is modular by design to separate concerns between data curation and software engineering.</p> Repository Description Tech Stack open-ev-data-dataset The core database. Contains all vehicle JSONs and validation schemas. JSON, JSON Schema open-ev-data-api The high-performance engine. Handles ETL, SQL generation, and the API. Rust open-ev-data.github.io Official documentation, guides, and API reference. MkDocs, Material .github Governance, organization-wide policies, and issue templates. Markdown"},{"location":"#use-cases","title":"Use Cases","text":"DevelopersResearchersCharging Networks <p>Integrate EV specifications into your applications:</p> <ul> <li>EV comparison tools</li> <li>Range calculators</li> <li>Charging time estimators</li> <li>Route planning with charging stops</li> </ul> <p>Access structured data for analysis:</p> <ul> <li>EV market analysis</li> <li>Charging infrastructure planning</li> <li>Battery technology trends</li> <li>Energy consumption studies</li> </ul> <p>Optimize charging infrastructure:</p> <ul> <li>Vehicle compatibility databases</li> <li>Charging curve optimization</li> <li>Protocol support validation</li> <li>Power requirements planning</li> </ul>"},{"location":"#supported-standards","title":"Supported Standards","text":"<p>OpenEV Data standardizes specifications across multiple global charging standards:</p> <ul> <li>CCS2 (EU/Global)</li> <li>NACS / J3400 (North America/Tesla)</li> <li>CCS1 (North America Legacy)</li> <li>GB/T (China)</li> <li>CHAdeMO (Japan/Legacy)</li> <li>Type 2 / Type 1 (AC Charging)</li> </ul>"},{"location":"#technical-highlights","title":"Technical Highlights","text":"<ul> <li>Strict Typing: All data is validated against rigorous JSON Schemas before merging</li> <li>Deep Merge Architecture: Hierarchical inheritance model (Base \u2192 Year \u2192 Trim) ensures DRY data entry</li> <li>High Performance: API optimized for low-latency global access using efficient Rust infrastructure</li> <li>Rust Core: All tooling (ETL, Validation, Server) written in Rust for safety and performance</li> </ul>"},{"location":"#docker-compose-example","title":"Docker Compose Example","text":"<p>Create a <code>docker-compose.yml</code> file with the following content:</p> <pre><code>name: open-ev-data\n\nservices:\n  api:\n    image: ghcr.io/open-ev-data/ev-server:latest\n    container_name: open-ev-data-api\n    restart: unless-stopped\n    environment:\n      DATABASE_URL: /app/vehicles.db\n      PORT: 8080\n      HOST: 0.0.0.0\n      RUST_LOG: info\n    ports:\n      - \"8080:8080\"\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 15s\n    init: true\n    entrypoint: &gt;\n      sh -c \"\n        echo '[INFO] Getting latest release version...' &amp;&amp;\n        LATEST_VERSION=$$(curl -sL https://api.github.com/repos/open-ev-data/open-ev-data-dataset/releases/latest | grep '\\\"tag_name\\\":' | cut -d'\\\"' -f4) &amp;&amp;\n        echo \\\"[INFO] Latest version: $$LATEST_VERSION\\\" &amp;&amp;\n        DOWNLOAD_URL=\\\"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$$LATEST_VERSION/open-ev-data-$$LATEST_VERSION.db\\\" &amp;&amp;\n        echo \\\"[INFO] Downloading from: $$DOWNLOAD_URL\\\" &amp;&amp;\n        curl -fSL -o /app/vehicles.db \\\"$$DOWNLOAD_URL\\\" &amp;&amp;\n        echo \\\"[INFO] Database downloaded\\\" &amp;&amp;\n        ls -lh /app/vehicles.db &amp;&amp;\n        echo \\\"[INFO] Starting API server...\\\" &amp;&amp;\n        exec /app/ev-server\n      \"\n</code></pre> <p>Run <code>docker compose up -d --build --pull always</code> to start the API server.</p> <p>Access the API at <code>http://localhost:8080/docs</code>.</p>"},{"location":"#license","title":"License","text":"<p>This project employs a dual-licensing strategy:</p> <ol> <li>Software (API/CLI): Apache License, Version 2.0</li> <li>Database (Dataset): CDLA-Permissive-2.0</li> <li>Documentation: CC-BY 4.0</li> </ol> <p>See License for details.</p>"},{"location":"changelog-api/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>This project adheres to Semantic Versioning and Conventional Commits.</p>"},{"location":"changelog-api/#123-2025-12-28","title":"1.2.3 (2025-12-28)","text":""},{"location":"changelog-api/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>changelogs: definitely adjust the changelog standard (b2e2350)</li> </ul>"},{"location":"changelog-api/#documentation","title":"Documentation","text":"<ul> <li>remove outdated data of referente api (536335a)</li> </ul>"},{"location":"changelog-api/#122-2025-12-28","title":"1.2.2 (2025-12-28)","text":""},{"location":"changelog-api/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>adjust vehicle creation, validation and tests on merge actions (99a4ba7)</li> </ul>"},{"location":"changelog-api/#121-2025-12-27","title":"1.2.1 (2025-12-27)","text":""},{"location":"changelog-api/#bug-fixes_2","title":"Bug Fixes","text":"<ul> <li>correct punctuation in architectural documentation (696cd0b)</li> </ul>"},{"location":"changelog-api/#miscellaneous-chores","title":"Miscellaneous Chores","text":"<ul> <li>add GitHub Actions workflow for syncing documentation to website (99d04ff)</li> </ul>"},{"location":"changelog-api/#120-2025-12-27","title":"1.2.0 (2025-12-27)","text":""},{"location":"changelog-api/#features","title":"Features","text":"<ul> <li>coverage: implement automatic coverage README update (da725a8)</li> </ul>"},{"location":"changelog-api/#110-2025-12-27","title":"1.1.0 (2025-12-27)","text":""},{"location":"changelog-api/#features_1","title":"Features","text":"<ul> <li>docker: add development Dockerfiles and update configurations for local development (c70a0b7)</li> <li>tests: implement initial unit tests (6bae1ec)</li> </ul>"},{"location":"changelog-api/#documentation_1","title":"Documentation","text":"<ul> <li>update rust version documentations and test documentation aux (4a588dd)</li> </ul>"},{"location":"changelog-api/#miscellaneous-chores_1","title":"Miscellaneous Chores","text":"<ul> <li>update project dependencies (e03027d)</li> <li>upgrade rust version (1221d2e)</li> </ul>"},{"location":"changelog-api/#104-2025-12-27","title":"1.0.4 (2025-12-27)","text":""},{"location":"changelog-api/#bug-fixes_3","title":"Bug Fixes","text":"<ul> <li>remove release extra job (2f3756c)</li> </ul>"},{"location":"changelog-api/#103-2025-12-27","title":"1.0.3 (2025-12-27)","text":""},{"location":"changelog-api/#bug-fixes_4","title":"Bug Fixes","text":"<ul> <li>adjust dependencies (59ac120)</li> <li>adjust dockerfile for etl release (bc57012)</li> <li>adjust release flow (eee0fd0)</li> <li>adjust release flow (a1d0ee1)</li> <li>adjust release flow (7778131)</li> <li>simple doc adjust (53cabfa)</li> <li>update release configuration to generate and commit Cargo.lock during release (f92befb)</li> </ul>"},{"location":"changelog-api/#102-2025-12-26","title":"1.0.2 (2025-12-26)","text":""},{"location":"changelog-api/#bug-fixes_5","title":"Bug Fixes","text":"<ul> <li>adjust dockerfile (d67ec68)</li> </ul>"},{"location":"changelog-api/#101-2025-12-26","title":"1.0.1 (2025-12-26)","text":""},{"location":"changelog-api/#bug-fixes_6","title":"Bug Fixes","text":"<ul> <li>adjust release flow (8494b9b)</li> </ul>"},{"location":"changelog-api/#100-2025-12-26","title":"1.0.0 (2025-12-26)","text":""},{"location":"changelog-api/#bug-fixes_7","title":"Bug Fixes","text":"<ul> <li>add open-ev-data-bot to release flow (4b1fd11)</li> <li>adjust ci for linting (0bfbf12)</li> <li>adjust ci for linting (e5546e1)</li> <li>adjust ci linting (c5b98dc)</li> <li>adjust ci workflow and linting (d2ac5f9)</li> <li>adjust formatting with rustfmt (7db0d40)</li> <li>adjust workflow with node version and ci block (b1d60e2)</li> </ul>"},{"location":"changelog-api/#features_2","title":"Features","text":"<ul> <li>api: implement complete api, documentations, release, workflows and more (7296d29)</li> <li>docs: add initial documentation files: base rules, architecture overview, getting started guide, and Rust development guidelines (7f6272b)</li> </ul>"},{"location":"changelog-dataset/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>This project adheres to Semantic Versioning and Conventional Commits.</p>"},{"location":"changelog-dataset/#1170-2025-12-29","title":"1.17.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features","title":"Features","text":"<ul> <li>audi: add specifications for A6 e-tron, e-tron GT, Q4 e-tron, Q6 e-tron, and Q8 e-tron (c750da2)</li> </ul>"},{"location":"changelog-dataset/#1160-2025-12-29","title":"1.16.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_1","title":"Features","text":"<ul> <li>ford: add specifications for new electric vehicle models including Capri EV and more (30d275c)</li> </ul>"},{"location":"changelog-dataset/#1150-2025-12-29","title":"1.15.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_2","title":"Features","text":"<ul> <li>gwm: add specifications for Haval H6 GT, H6 PHEV19, H6 PHEV34, and ORA 03 models for 2023-2025 (9b3990d)</li> </ul>"},{"location":"changelog-dataset/#1140-2025-12-29","title":"1.14.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_3","title":"Features","text":"<ul> <li>renault: add specifications for Renault 4 E-Tech, 5 E-Tech, Kangoo E-Tech, Megane and more (57bf882)</li> </ul>"},{"location":"changelog-dataset/#miscellaneous-chores","title":"Miscellaneous Chores","text":"<ul> <li>husky: remove unnecessary lines from commit-msg hook (952f728)</li> </ul>"},{"location":"changelog-dataset/#1130-2025-12-29","title":"1.13.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_4","title":"Features","text":"<ul> <li>hyundai: add specifications for IONIQ 5, IONIQ 6, and IONIQ 9 models for 2023-2025 (a4c0778)</li> </ul>"},{"location":"changelog-dataset/#1120-2025-12-29","title":"1.12.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_5","title":"Features","text":"<ul> <li>volvo: add specifications for EC40, EX30, EX40, and EX90 models for 2023-2025 (4bba13c)</li> </ul>"},{"location":"changelog-dataset/#1110-2025-12-29","title":"1.11.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_6","title":"Features","text":"<ul> <li>volkswagen: add specifications for ID.3, ID.4, ID.5, ID.7, and ID. Buzz models for 2023-2025 (f877cc8)</li> </ul>"},{"location":"changelog-dataset/#1100-2025-12-29","title":"1.10.0 (2025-12-29)","text":""},{"location":"changelog-dataset/#features_7","title":"Features","text":"<ul> <li>mercedes_benz: add specifications for various Mercedes-Benz electric vehicle models (edbfa66)</li> </ul>"},{"location":"changelog-dataset/#190-2025-12-28","title":"1.9.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_8","title":"Features","text":"<ul> <li>peugeot: add specifications for e-2008, e-208, e-3008, e-408, and e-5008 models for 2023-2025 (b319980)</li> </ul>"},{"location":"changelog-dataset/#182-2025-12-28","title":"1.8.2 (2025-12-28)","text":""},{"location":"changelog-dataset/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>changelogs: definitely helps the changelog standard (dd2f563)</li> </ul>"},{"location":"changelog-dataset/#181-2025-12-28","title":"1.8.1 (2025-12-28)","text":""},{"location":"changelog-dataset/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>changelog: adjust release format (ea4c966)</li> </ul>"},{"location":"changelog-dataset/#180-2025-12-28","title":"1.8.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_9","title":"Features","text":"<ul> <li>bmw: add data for various model years (7360a02)</li> </ul>"},{"location":"changelog-dataset/#170-2025-12-28","title":"1.7.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_10","title":"Features","text":"<ul> <li>tesla: add Tesla vehicles models and variants specs (ddbe4e5)</li> </ul>"},{"location":"changelog-dataset/#160-2025-12-28","title":"1.6.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_11","title":"Features","text":"<ul> <li>byd: add data for various BYD EV models (eca4351)</li> </ul>"},{"location":"changelog-dataset/#bug-fixes_2","title":"Bug Fixes","text":"<ul> <li>schema: update connector format (913ffa8)</li> </ul>"},{"location":"changelog-dataset/#151-2025-12-28","title":"1.5.1 (2025-12-28)","text":""},{"location":"changelog-dataset/#bug-fixes_3","title":"Bug Fixes","text":"<ul> <li>adjust to validate with latest image docker (8c7d030)</li> </ul>"},{"location":"changelog-dataset/#150-2025-12-28","title":"1.5.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_12","title":"Features","text":"<ul> <li>byd: add dolphin mini data vehicles variations (3db735b)</li> <li>byd: include dolphing 202, 2024 and 2025 variations (155501b)</li> <li>validation: implement complete dataset validation scripts (5a3660a)</li> </ul>"},{"location":"changelog-dataset/#140-2025-12-28","title":"1.4.0 (2025-12-28)","text":""},{"location":"changelog-dataset/#features_13","title":"Features","text":"<ul> <li>add full data validation script and a guide for contributing vehicle data (47503d8)</li> </ul>"},{"location":"changelog-dataset/#miscellaneous-chores_1","title":"Miscellaneous Chores","text":"<ul> <li>add documentation sync workflow for GitHub Pages (52d5932)</li> <li>update OpenEV Data logo in README (c68f49c)</li> </ul>"},{"location":"changelog-dataset/#130-2025-12-27","title":"1.3.0 (2025-12-27)","text":""},{"location":"changelog-dataset/#features_14","title":"Features","text":"<ul> <li>docker: implement docker compose with latest version (2e7f7ce)</li> <li>scripts: add build and validation scripts for dataset management (c1df23d)</li> </ul>"},{"location":"changelog-dataset/#bug-fixes_4","title":"Bug Fixes","text":"<ul> <li>dockerignore: exclude SQL dump from Docker context (4a0e590)</li> <li>dockerignore: refine exclusion rules for distribution files (7b28dee)</li> <li>scripts: enhance build and format generation scripts with additional checks (077b3b9)</li> </ul>"},{"location":"changelog-dataset/#120-2025-12-27","title":"1.2.0 (2025-12-27)","text":""},{"location":"changelog-dataset/#features_15","title":"Features","text":"<ul> <li>release: enhance release process and update dependencies (0ffae55)</li> <li>release: enhance release workflow and dataset generation script (f8ecd4c)</li> </ul>"},{"location":"changelog-dataset/#bug-fixes_5","title":"Bug Fixes","text":"<ul> <li>release: update Docker authentication method in release workflow (529e8ed)</li> <li>release: update Docker authentication method in workflows (0988094)</li> </ul>"},{"location":"changelog-dataset/#performance-improvements","title":"Performance Improvements","text":"<ul> <li>release: streamline dataset generation and update release process (bd90f8b)</li> </ul>"},{"location":"changelog-dataset/#miscellaneous-chores_2","title":"Miscellaneous Chores","text":"<ul> <li>add vscode settings to workspace (8f9552b)</li> <li>docs: update README structure and enhance project governance section (39ba76f)</li> </ul>"},{"location":"changelog-dataset/#110-2025-12-25","title":"1.1.0 (2025-12-25)","text":""},{"location":"changelog-dataset/#features_16","title":"Features","text":"<ul> <li>byd: add new vehicle data for BYD models (4b657c2)</li> <li>schemas, docs, examples: update README, add schema and new documentations (7670ead)</li> </ul>"},{"location":"changelog-dataset/#miscellaneous-chores_3","title":"Miscellaneous Chores","text":"<ul> <li>rules: update vehicle data guidelines in base.mdc (e90df56)</li> </ul>"},{"location":"changelog-dataset/#100-2025-12-24","title":"1.0.0 (2025-12-24)","text":""},{"location":"changelog-dataset/#features_17","title":"Features","text":"<ul> <li>add release documentation and update GitHub Actions workflow for token generation (7dc2316)</li> <li>initialize project with essential configuration files and documentation (9ae1086)</li> </ul>"},{"location":"changelog-dataset/#documentation","title":"Documentation","text":"<ul> <li>add comprehensive architecture documentation for OpenEV Data Dataset (7837a75)</li> </ul>"},{"location":"changelog-dataset/#miscellaneous-chores_4","title":"Miscellaneous Chores","text":"<ul> <li>add CDLA-Permissive-2.0 licence (9b550f6)</li> <li>update Node.js version to 20 in configuration files (0b94154)</li> <li>update Node.js version to 22 in configuration files (0f382b8)</li> </ul>"},{"location":"api/","title":"Overview","text":""},{"location":"api/#openev-data-api","title":"OpenEV Data API","text":"<p>A high-performance REST API for querying electric vehicle specifications, built with Rust.</p> <p> </p>"},{"location":"api/#overview","title":"Overview","text":"<p>This repository provides a production-ready REST API for querying electric vehicle data from the OpenEV Data Dataset. Built with Rust for maximum performance, type safety and reliability.</p>"},{"location":"api/#documentation","title":"Documentation","text":""},{"location":"api/#getting-started","title":"Getting Started","text":"<ul> <li>Get Started \u2014 Setup, build, run, and test the system</li> </ul>"},{"location":"api/#technical-documentation","title":"Technical Documentation","text":"<ul> <li>Architecture \u2014 Hexagonal architecture and design decisions</li> <li>Rust Guidelines \u2014 Coding standards and best practices</li> </ul>"},{"location":"api/#crate-documentation","title":"Crate Documentation","text":"<ul> <li>ev-core \u2014 Domain types and validation</li> <li>ev-etl \u2014 ETL pipeline for data processing</li> <li>ev-server \u2014 REST API server with OpenAPI</li> </ul>"},{"location":"api/#project-governance","title":"Project Governance","text":"<ul> <li>Contributing Guide \u2014 How to contribute</li> <li>Code of Conduct \u2014 Community standards</li> </ul>"},{"location":"api/#features","title":"Features","text":"<ul> <li>High Performance: Built with Rust and Axum for maximum throughput</li> <li>Type Safety: Strong typing with compile-time guarantees</li> <li>Multiple Formats: JSON, SQLite, PostgreSQL, CSV, XML output support</li> <li>OpenAPI/Swagger: Interactive API documentation</li> <li>Pagination: Efficient handling of large datasets</li> <li>Full-text Search: Search across manufacturers, models, and trims</li> </ul>"},{"location":"api/#api-endpoints","title":"API Endpoints","text":"Endpoint Description <code>GET /api/v1/health</code> Health check <code>GET /api/v1/vehicles</code> List vehicles with filters <code>GET /api/v1/vehicles/{make}/{model}/{year}</code> Get vehicle details <code>GET /api/v1/vehicles/{make}/{model}/{year}/variants</code> List variants <code>GET /api/v1/makes</code> List manufacturers <code>GET /api/v1/makes/{make}/models</code> List models <code>GET /api/v1/search?q=query</code> Full-text search"},{"location":"api/#use-cases","title":"Use Cases","text":"<ul> <li>Applications: EV comparison tools, range calculators, charging time estimators</li> <li>Integrations: Backend data source for automotive applications</li> <li>Analytics: EV market analysis, charging infrastructure planning</li> <li>Research: Academic studies on EV technology and adoption</li> </ul>"},{"location":"api/#license","title":"License","text":"<p>This project is licensed under the GNU Affero General Public License v3.0 (AGPL-3.0).</p> <p>See LICENCE for full terms.</p>"},{"location":"api/#acknowledgments","title":"Acknowledgments","text":"<p>This project is part of the OpenEV Data initiative, providing open, structured, and verifiable EV data. Special thanks to all contributors who help maintain and improve this API.</p>"},{"location":"api/API_ERRORS/","title":"API Errors","text":"<p>All errors follow RFC 7807 Problem Details.</p>"},{"location":"api/API_ERRORS/#error-types","title":"Error Types","text":""},{"location":"api/API_ERRORS/#errorsnot-found","title":"<code>/errors/not-found</code>","text":"<p>Status: 404 Not Found</p> <p>When: The requested resource does not exist.</p> <p>Common causes: - Vehicle with specified make/model/year does not exist - Manufacturer slug is invalid or has no models</p> <p>Resolution: Verify the resource identifier. Use <code>/api/v1/makes</code> to list valid manufacturers or <code>/api/v1/vehicles</code> to browse available vehicles.</p> <p>Example: <pre><code>{\n  \"type\": \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsnot-found\",\n  \"title\": \"Resource Not Found\",\n  \"status\": 404,\n  \"detail\": \"Vehicle not found: invalid/model/2024\",\n  \"instance\": \"/api/v1/vehicles/invalid/model/2024\"\n}\n</code></pre></p>"},{"location":"api/API_ERRORS/#errorsbad-request","title":"<code>/errors/bad-request</code>","text":"<p>Status: 400 Bad Request</p> <p>When: The request contains invalid parameters.</p> <p>Common causes: - Search query is empty or too short (minimum 2 characters) - Invalid query parameter values or types</p> <p>Resolution: Check the <code>detail</code> field for specific validation errors. Review the API documentation for parameter requirements.</p> <p>Example: <pre><code>{\n  \"type\": \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsbad-request\",\n  \"title\": \"Invalid Request\",\n  \"status\": 400,\n  \"detail\": \"Search query must be at least 2 characters\",\n  \"instance\": \"/api/v1/search\"\n}\n</code></pre></p>"},{"location":"api/API_ERRORS/#errorsinternal-error","title":"<code>/errors/internal-error</code>","text":"<p>Status: 500 Internal Server Error</p> <p>When: An unexpected error occurred on the server.</p> <p>Common causes: - Database connection failure - Unexpected server-side exception</p> <p>Resolution: Retry the request. If the problem persists, report the issue with the <code>instance</code> URI.</p> <p>Example: <pre><code>{\n  \"type\": \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsinternal-error\",\n  \"title\": \"Internal Server Error\",\n  \"status\": 500,\n  \"detail\": \"Database query failed\",\n  \"instance\": \"/api/v1/vehicles\"\n}\n</code></pre></p>"},{"location":"api/API_ERRORS/#errorsservice-unavailable","title":"<code>/errors/service-unavailable</code>","text":"<p>Status: 503 Service Unavailable</p> <p>When: The service is temporarily unavailable.</p> <p>Common causes: - Database is offline or unreachable - Server is overloaded</p> <p>Resolution: Wait and retry after a few seconds. Check service status if issue persists.</p> <p>Example: <pre><code>{\n  \"type\": \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsservice-unavailable\",\n  \"title\": \"Service Unavailable\",\n  \"status\": 503,\n  \"detail\": \"Database connection unavailable\",\n  \"instance\": \"/api/v1/health\"\n}\n</code></pre></p>"},{"location":"api/API_ERRORS/#endpoints-and-possible-errors","title":"Endpoints and Possible Errors","text":"Endpoint Possible Errors <code>GET /health</code> 500, 503 <code>GET /makes</code> 500 <code>GET /makes/{make}/models</code> 404, 500 <code>GET /vehicles</code> 400, 500 <code>GET /vehicles/code/{unique_code}</code> 404, 500 <code>GET /vehicles/{make}/{model}/{year}</code> 404, 500 <code>GET /vehicles/{make}/{model}/{year}/variants</code> 404, 500 <code>GET /search</code> 400, 500"},{"location":"api/ARCHITECTURE/","title":"Architecture Reference: OpenEV Data API","text":""},{"location":"api/ARCHITECTURE/#1-introduction-architectural-style","title":"1. Introduction &amp; Architectural Style","text":"<p>The OpenEV Data API is engineered using Hexagonal Architecture (Ports and Adapters), implemented via a Rust Cargo Workspace. This architectural choice strictly enforces the Dependency Rule, ensuring that the business logic (Core) remains independent of frameworks, databases and external interfaces.</p>"},{"location":"api/ARCHITECTURE/#11-system-objective","title":"1.1. System Objective","text":"<p>The system serves two primary objectives:</p> <ol> <li>Data Processing Pipeline (ETL): Transform the layered JSON dataset into multiple ready-to-consume formats:</li> <li>Complete canonical JSON (all vehicles expanded and validated)</li> <li>SQLite database (embedded, ready-to-query)</li> <li>PostgreSQL schema + data (production-ready)</li> <li>CSV export (analysis and spreadsheet integration)</li> <li> <p>XML export (legacy system compatibility)</p> </li> <li> <p>API Server: Provide a high-performance REST API to query vehicle data, deployable in multiple environments (containers, serverless, edge).</p> </li> </ol> <p>The system prioritizes correctness (via strict typing), reproducibility (deterministic builds), and portability (multiple output formats and deployment targets).</p>"},{"location":"api/ARCHITECTURE/#12-build-time-vs-runtime-strategy","title":"1.2. Build-Time vs Runtime Strategy","text":"<p>Build-Time (CI/CD Pipeline): - Dataset compilation happens during the release process - Validation and merge logic executed once - Multiple output artifacts generated and attached to releases - Ensures data quality before distribution</p> <p>Runtime (API Server): - Serves pre-compiled, validated data - No runtime validation overhead - Optimized for read performance - Stateless and horizontally scalable</p>"},{"location":"api/ARCHITECTURE/#13-component-roles-crates","title":"1.3. Component Roles (Crates)","text":"<p>The workspace is divided into three distinct crates, each representing a specific architectural layer:</p> <ul> <li> <p><code>crates/ev-core</code> (The Core / Inner Hexagon):</p> <ul> <li>Role: Pure Domain Library</li> <li>Responsibility: Defines domain types (<code>Vehicle</code>, <code>Battery</code>, <code>Charging</code>, etc.), validation rules, and business logic. Contains no I/O, HTTP, or Database code. Shared dependency for all other crates.</li> <li>Principle: \"Make invalid states unrepresentable\"</li> <li>Key Features:<ul> <li>Rust structs mirroring the JSON schema</li> <li>Serde serialization/deserialization</li> <li>Type-safe enums for classifications</li> <li>Validation logic for data integrity</li> <li>Schema generation support</li> </ul> </li> </ul> </li> <li> <p><code>crates/ev-etl</code> (Data Processing Pipeline):</p> <ul> <li>Role: CLI Tool for Batch Processing</li> <li>Responsibility: Executes during CI/CD to transform source data into distributable artifacts</li> <li>Key Features:<ul> <li>Reads layered JSON files from dataset repository</li> <li>Implements deep merge strategy (base.json \u2192 year \u2192 variant)</li> <li>Validates against JSON schema and domain types</li> <li>Generates multiple output formats:<ul> <li><code>vehicles.json</code> - Complete canonical dataset</li> <li><code>vehicles.db</code> - SQLite database with full schema</li> <li><code>vehicles.sql</code> - PostgreSQL DDL + INSERT statements</li> <li><code>vehicles.csv</code> - Flattened tabular export</li> <li><code>vehicles.xml</code> - XML representation</li> </ul> </li> <li>Provides validation reports and statistics</li> </ul> </li> </ul> </li> <li> <p><code>crates/ev-server</code> (API Server):</p> <ul> <li>Role: HTTP REST API Server</li> <li>Responsibility: Exposes vehicle data through HTTP endpoints</li> <li>Key Features:<ul> <li>RESTful API design</li> <li>Query by make, model, year, variant</li> <li>Search and filter capabilities</li> <li>OpenAPI/Swagger documentation</li> <li>Multiple deployment targets:<ul> <li>Standalone binary (Linux/Windows/macOS)</li> <li>Docker container</li> <li>Kubernetes deployment</li> <li>Serverless functions (future)</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"api/ARCHITECTURE/#14-architectural-principles","title":"1.4. Architectural Principles","text":"<ol> <li>Dependency Inversion: High-level modules (Adapters) depend on low-level modules (Core). The Core depends on nothing.</li> <li>Single Source of Truth: The dataset repository is the canonical source; all artifacts are derived.</li> <li>Zero-Cost Abstractions: Usage of Rust Generics and Traits over runtime polymorphism for compile-time optimization.</li> <li>Type-Driven Development: Leverage Rust's type system to prevent invalid states.</li> <li>Deterministic Builds: Same input always produces identical output.</li> <li>Format Agnostic Core: Core domain logic is independent of serialization formats.</li> </ol>"},{"location":"api/ARCHITECTURE/#2-file-directory-tree","title":"2. File Directory Tree","text":"<p>This structure represents the physical layout of the Monorepo/Workspace.</p> <pre><code>open-ev-data-api/\n\u251c\u2500\u2500 .github/\n\u2502   \u251c\u2500\u2500 workflows/\n\u2502   \u2502   \u251c\u2500\u2500 ci.yml                # Quality Gates (Clippy, Fmt, Test)\n\u2502   \u2502   \u251c\u2500\u2500 etl-artifacts.yml     # ETL Pipeline: Build and Attach Artifacts\n\u2502   \u2502   \u2514\u2500\u2500 release.yml           # Semantic Release + Docker Build\n\u2502   \u2514\u2500\u2500 CODEOWNERS                # Governance\n\u251c\u2500\u2500 .cargo/\n\u2502   \u2514\u2500\u2500 config.toml               # Global build flags\n\u251c\u2500\u2500 crates/                       # [WORKSPACE MEMBERS]\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 ev-core/                  # [LAYER: DOMAIN]\n\u2502   \u2502   \u251c\u2500\u2500 Cargo.toml\n\u2502   \u2502   \u2514\u2500\u2500 src/\n\u2502   \u2502       \u251c\u2500\u2500 lib.rs            # Library entry point\n\u2502   \u2502       \u251c\u2500\u2500 domain/           # Domain Entities\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 mod.rs\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 vehicle.rs    # Main aggregate root\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 battery.rs    # Battery specifications\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 charging.rs   # Charging capabilities\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 powertrain.rs # Motor and drivetrain\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 range.rs      # Range and efficiency\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 types.rs      # Common types and enums\n\u2502   \u2502       \u2514\u2500\u2500 validation/       # Validation rules\n\u2502   \u2502           \u2514\u2500\u2500 mod.rs\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 ev-etl/                   # [LAYER: DATA PROCESSING]\n\u2502   \u2502   \u251c\u2500\u2500 Cargo.toml\n\u2502   \u2502   \u2514\u2500\u2500 src/\n\u2502   \u2502       \u251c\u2500\u2500 main.rs           # CLI entry point\n\u2502   \u2502       \u251c\u2500\u2500 ingest/           # Data ingestion\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 mod.rs\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 reader.rs     # File system reader\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 parser.rs     # JSON parsing\n\u2502   \u2502       \u251c\u2500\u2500 merge/            # Deep merge logic\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 mod.rs\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 strategy.rs   # Merge precedence rules\n\u2502   \u2502       \u251c\u2500\u2500 validate/         # Validation pipeline\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 mod.rs\n\u2502   \u2502       \u2514\u2500\u2500 output/           # Output generators\n\u2502   \u2502           \u251c\u2500\u2500 mod.rs\n\u2502   \u2502           \u251c\u2500\u2500 json.rs       # Canonical JSON output\n\u2502   \u2502           \u251c\u2500\u2500 sqlite.rs     # SQLite database generator\n\u2502   \u2502           \u251c\u2500\u2500 postgresql.rs # PostgreSQL schema + data\n\u2502   \u2502           \u251c\u2500\u2500 csv.rs        # CSV export\n\u2502   \u2502           \u2514\u2500\u2500 xml.rs        # XML export\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 ev-server/                # [LAYER: API SERVER]\n\u2502       \u251c\u2500\u2500 Cargo.toml\n\u2502       \u2514\u2500\u2500 src/\n\u2502           \u251c\u2500\u2500 main.rs           # Binary entry point\n\u2502           \u251c\u2500\u2500 config.rs         # Configuration management\n\u2502           \u251c\u2500\u2500 api/              # HTTP Handlers\n\u2502           \u2502   \u251c\u2500\u2500 mod.rs\n\u2502           \u2502   \u251c\u2500\u2500 routes.rs     # Route definitions\n\u2502           \u2502   \u251c\u2500\u2500 vehicles.rs   # Vehicle endpoints\n\u2502           \u2502   \u251c\u2500\u2500 search.rs     # Search endpoints\n\u2502           \u2502   \u2514\u2500\u2500 health.rs     # Health check\n\u2502           \u251c\u2500\u2500 db/               # Database layer\n\u2502           \u2502   \u251c\u2500\u2500 mod.rs\n\u2502           \u2502   \u251c\u2500\u2500 sqlite.rs     # SQLite connection\n\u2502           \u2502   \u2514\u2500\u2500 postgresql.rs # PostgreSQL connection (optional)\n\u2502           \u2514\u2500\u2500 models/           # API response models\n\u2502               \u2514\u2500\u2500 mod.rs\n\u2502\n\u251c\u2500\u2500 tests/                        # [INTEGRATION TESTS]\n\u2502   \u251c\u2500\u2500 etl_pipeline_test.rs      # ETL processing tests\n\u2502   \u251c\u2500\u2500 merge_logic_test.rs       # Merge strategy tests\n\u2502   \u251c\u2500\u2500 output_format_test.rs     # Output validation tests\n\u2502   \u2514\u2500\u2500 api_integration_test.rs   # API endpoint tests\n\u251c\u2500\u2500 fixtures/                     # [TEST DATA]\n\u2502   \u2514\u2500\u2500 sample_vehicles/          # Sample vehicle data for testing\n\u251c\u2500\u2500 schemas/                      # [DATABASE SCHEMAS]\n\u2502   \u251c\u2500\u2500 sqlite/\n\u2502   \u2502   \u2514\u2500\u2500 schema.sql            # SQLite schema definition\n\u2502   \u2514\u2500\u2500 postgresql/\n\u2502       \u2514\u2500\u2500 schema.sql            # PostgreSQL schema definition\n\u251c\u2500\u2500 docker/\n\u2502   \u251c\u2500\u2500 Dockerfile                # API server container\n\u2502   \u2514\u2500\u2500 docker-compose.yml        # Local development setup\n\u251c\u2500\u2500 Cargo.toml                    # Workspace Root Config\n\u251c\u2500\u2500 .releaserc.json               # Semantic Release Config\n\u251c\u2500\u2500 README.md                     # Project Overview\n\u2514\u2500\u2500 docs/\n    \u251c\u2500\u2500 ARCHITECTURE.md           # This Document\n    \u2514\u2500\u2500 RUST_GUIDELINES.md        # Rust Development Standards\n</code></pre>"},{"location":"api/ARCHITECTURE/#3-system-relationship-diagram","title":"3. System Relationship Diagram","text":"<p>This diagram visualizes the dependencies and data flow boundaries. All dependencies point inward toward <code>ev-core</code>.</p> <pre><code>graph TD\n    subgraph \"Data Sources\"\n        Dataset[Dataset Repository&lt;br/&gt;Layered JSON Files]\n    end\n\n    subgraph \"Build-Time (CI/CD)\"\n        ETL[ev-etl CLI]\n\n        subgraph \"Output Artifacts\"\n            JSON[vehicles.json]\n            SQLite[vehicles.db]\n            PostgreSQL[vehicles.sql]\n            CSV[vehicles.csv]\n            XML[vehicles.xml]\n        end\n    end\n\n    subgraph \"Runtime (Production)\"\n        Server[ev-server&lt;br/&gt;REST API]\n        DB[(Database&lt;br/&gt;SQLite/PostgreSQL)]\n        Client[HTTP Clients]\n    end\n\n    subgraph \"Core Domain\"\n        Core[ev-core&lt;br/&gt;Domain Types]\n    end\n\n    Dataset --&gt;|Read| ETL\n    Core --&gt;|Used by| ETL\n    Core --&gt;|Used by| Server\n\n    ETL --&gt;|Generate| JSON\n    ETL --&gt;|Generate| SQLite\n    ETL --&gt;|Generate| PostgreSQL\n    ETL --&gt;|Generate| CSV\n    ETL --&gt;|Generate| XML\n\n    SQLite -.-&gt;|Deploy| DB\n    PostgreSQL -.-&gt;|Deploy| DB\n\n    Server --&gt;|Query| DB\n    Client --&gt;|HTTP Request| Server\n    Server --&gt;|JSON Response| Client\n</code></pre>"},{"location":"api/ARCHITECTURE/#dependency-flow","title":"Dependency Flow","text":"<ol> <li>ev-core is the foundation - no dependencies</li> <li>ev-etl depends on ev-core for types and validation</li> <li>ev-server depends on ev-core for types and serialization</li> <li>Output artifacts are standalone - no runtime dependencies on Rust code</li> </ol>"},{"location":"api/ARCHITECTURE/#4-operational-data-flow","title":"4. Operational Data Flow","text":"<p>This sequence diagram illustrates both the Build-Time Pipeline (artifact generation) and the Runtime Path (API consumption).</p> <pre><code>sequenceDiagram\n    autonumber\n    participant Contributor\n    participant DatasetRepo as Dataset Repository\n    participant CI as GitHub Actions\n    participant ETL as ev-etl CLI\n    participant Artifacts as Release Artifacts\n    participant Deploy as Deployment\n    participant API as ev-server\n    participant Client as API Consumer\n\n    note over Contributor, Artifacts: BUILD-TIME PIPELINE\n\n    Contributor-&gt;&gt;DatasetRepo: Commit JSON changes\n    DatasetRepo-&gt;&gt;CI: Trigger workflow\n    CI-&gt;&gt;ETL: Run cargo build --release -p ev-etl\n    ETL-&gt;&gt;ETL: Load layered JSON files\n    ETL-&gt;&gt;ETL: Deep merge (base \u2192 year \u2192 variant)\n    ETL-&gt;&gt;ETL: Validate against schema\n    ETL-&gt;&gt;Artifacts: Generate vehicles.json\n    ETL-&gt;&gt;Artifacts: Generate vehicles.db (SQLite)\n    ETL-&gt;&gt;Artifacts: Generate vehicles.sql (PostgreSQL)\n    ETL-&gt;&gt;Artifacts: Generate vehicles.csv\n    ETL-&gt;&gt;Artifacts: Generate vehicles.xml\n    CI-&gt;&gt;DatasetRepo: Attach artifacts to release\n\n    note over Deploy, Client: RUNTIME PATH\n\n    Deploy-&gt;&gt;API: Deploy ev-server + vehicles.db\n    API-&gt;&gt;API: Load database into memory\n    Client-&gt;&gt;API: GET /api/v1/vehicles?make=tesla\n    API-&gt;&gt;API: Query local database\n    API--&gt;&gt;Client: Return JSON response\n\n    Client-&gt;&gt;API: GET /api/v1/vehicles/tesla/model_3/2024\n    API-&gt;&gt;API: Query by composite key\n    API--&gt;&gt;Client: Return vehicle details\n</code></pre>"},{"location":"api/ARCHITECTURE/#pipeline-stages","title":"Pipeline Stages","text":""},{"location":"api/ARCHITECTURE/#build-time-cicd","title":"Build-Time (CI/CD)","text":"<ol> <li>Trigger: Dataset repository receives commits</li> <li>Compilation: ETL reads and merges layered JSON</li> <li>Validation: Schema validation + business rules</li> <li>Generation: Multiple output formats created</li> <li>Distribution: Artifacts attached to GitHub releases</li> </ol>"},{"location":"api/ARCHITECTURE/#runtime-api-server","title":"Runtime (API Server)","text":"<ol> <li>Initialization: Server loads pre-built database</li> <li>Request Handling: REST endpoints process queries</li> <li>Query Execution: Fast lookups in local database</li> <li>Response: JSON serialization and delivery</li> </ol>"},{"location":"api/ARCHITECTURE/#5-technology-stack-versioning","title":"5. Technology Stack &amp; Versioning","text":"<p>The project utilizes the Rust 2024 Edition. Below is the technology stack for the ecosystem.</p>"},{"location":"api/ARCHITECTURE/#51-language-environment","title":"5.1. Language Environment","text":"<ul> <li>Language: Rust</li> <li>Edition: <code>2024</code> (Latest Stable Edition)</li> <li>Toolchain: <code>stable</code> (Version 1.85+)</li> <li>MSRV: 1.92.0 (Minimum Supported Rust Version)</li> </ul>"},{"location":"api/ARCHITECTURE/#52-core-libraries","title":"5.2. Core Libraries","text":"Crate Version Usage serde <code>1.0</code> Serialization/deserialization framework serde_json <code>1.0</code> JSON parsing and generation anyhow <code>1.0</code> Application-level error handling (ETL, Server) thiserror <code>2.0</code> Library-level error definitions (ev-core)"},{"location":"api/ARCHITECTURE/#53-etl-specific-libraries","title":"5.3. ETL-Specific Libraries","text":"Crate Version Usage walkdir <code>2.5+</code> Recursive directory traversal jsonschema <code>0.25+</code> JSON schema validation rusqlite <code>0.34+</code> SQLite database generation postgres <code>0.19+</code> PostgreSQL SQL generation csv <code>1.3+</code> CSV serialization quick-xml <code>0.37+</code> XML serialization rayon <code>1.10+</code> Parallel processing of vehicle files"},{"location":"api/ARCHITECTURE/#54-server-specific-libraries","title":"5.4. Server-Specific Libraries","text":"Crate Version Usage axum <code>0.8+</code> Web framework for REST API tokio <code>1.42+</code> Async runtime tower <code>0.5+</code> Middleware and service abstractions tower-http <code>0.6+</code> HTTP middleware (CORS, compression, tracing) rusqlite <code>0.34+</code> SQLite query layer sqlx <code>0.8+</code> PostgreSQL async query layer (optional) utoipa <code>5.3+</code> OpenAPI documentation generation tracing <code>0.1+</code> Structured logging tracing-subscriber <code>0.3+</code> Log collection and formatting"},{"location":"api/ARCHITECTURE/#55-development-testing","title":"5.5. Development &amp; Testing","text":"Crate Version Usage criterion <code>0.5+</code> Benchmarking proptest <code>1.6+</code> Property-based testing tempfile <code>3.14+</code> Temporary file creation for tests mockall <code>0.13+</code> Mocking framework"},{"location":"api/ARCHITECTURE/#56-infrastructure-deployment","title":"5.6. Infrastructure &amp; Deployment","text":"<ul> <li>Container Runtime: Docker 27.0+</li> <li>Container Orchestration: Kubernetes 1.30+ (optional)</li> <li>CI/CD: GitHub Actions</li> <li>Release Automation: semantic-release</li> <li>Database (Production):</li> <li>SQLite 3.45+ (embedded mode)</li> <li>PostgreSQL 16+ (server mode)</li> </ul>"},{"location":"api/ARCHITECTURE/#57-api-standards","title":"5.7. API Standards","text":"<ul> <li>OpenAPI Specification: 3.1.0</li> <li>REST API Versioning: URL-based (<code>/api/v1/</code>)</li> <li>Response Format: JSON (RFC 8259)</li> <li>Date/Time Format: ISO 8601</li> <li>Character Encoding: UTF-8</li> </ul>"},{"location":"api/ARCHITECTURE/#6-etl-pipeline-specification","title":"6. ETL Pipeline Specification","text":""},{"location":"api/ARCHITECTURE/#61-input-processing","title":"6.1. Input Processing","text":""},{"location":"api/ARCHITECTURE/#discovery-phase","title":"Discovery Phase","text":"<ul> <li>Recursively scan the dataset repository <code>src/</code> directory</li> <li>Identify all manufacturer directories (first level)</li> <li>Identify all model directories (second level)</li> <li>Collect all JSON files: <code>base.json</code>, year directories, and variant files</li> </ul>"},{"location":"api/ARCHITECTURE/#file-classification","title":"File Classification","text":"<ul> <li>Base Files: <code>src/&lt;make&gt;/&lt;model&gt;/base.json</code></li> <li>Year Base Files: <code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;.json</code></li> <li>Variant Files: <code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code></li> </ul>"},{"location":"api/ARCHITECTURE/#62-merge-strategy","title":"6.2. Merge Strategy","text":"<p>The ETL implements a deterministic deep merge with the following precedence (lowest to highest):</p> <ol> <li>Model Base (<code>base.json</code>) - Shared attributes across all years</li> <li>Year Base (<code>&lt;vehicle_slug&gt;.json</code>) - Specific year configuration</li> <li>Variant (<code>&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code>) - Delta from year base</li> </ol>"},{"location":"api/ARCHITECTURE/#merge-rules","title":"Merge Rules","text":"<ul> <li>Objects: Deep merge by key (recursive)</li> <li>Scalars (string, number, boolean): Replace (higher precedence wins)</li> <li>Arrays: Complete replacement (no concatenation)</li> <li>Null values: Not allowed (use explicit empty states instead)</li> <li>Unknown keys: Validation failure</li> </ul>"},{"location":"api/ARCHITECTURE/#output-cardinality","title":"Output Cardinality","text":"<ul> <li>Each year base file produces one canonical vehicle</li> <li>Each variant file produces one additional canonical vehicle</li> <li>Example: <code>model_3.json</code> + <code>model_3_long_range.json</code> = 2 canonical vehicles</li> </ul>"},{"location":"api/ARCHITECTURE/#63-validation-pipeline","title":"6.3. Validation Pipeline","text":"<p>Each canonical vehicle must pass:</p> <ol> <li>JSON Schema Validation: Against <code>schema.json</code> from dataset repository</li> <li>Required Fields Check: All mandatory fields present</li> <li>Type Validation: Correct data types for all fields</li> <li>Business Rules:</li> <li>At least one battery capacity (gross or net)</li> <li>At least one charge port</li> <li>At least one rated range entry</li> <li>At least one source</li> <li>Valid slug patterns (lowercase, alphanumeric + underscore)</li> <li>Valid ISO codes (country, currency)</li> <li>Referential Integrity: Variant files reference valid base vehicles</li> </ol>"},{"location":"api/ARCHITECTURE/#64-output-formats","title":"6.4. Output Formats","text":""},{"location":"api/ARCHITECTURE/#641-canonical-json-vehiclesjson","title":"6.4.1. Canonical JSON (<code>vehicles.json</code>)","text":"<p>Format: Single JSON file with array of all canonical vehicles</p> <p>Structure: <pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"generated_at\": \"2025-12-25T12:00:00Z\",\n  \"vehicle_count\": 1234,\n  \"vehicles\": [\n    { /* canonical vehicle 1 */ },\n    { /* canonical vehicle 2 */ },\n    ...\n  ],\n  \"metadata\": {\n    \"etl_version\": \"1.0.0\",\n    \"dataset_commit\": \"abc123def\",\n    \"processing_time_ms\": 5432\n  }\n}\n</code></pre></p> <p>Use Cases: - Direct JSON consumption by applications - Import into other systems - Data analysis and exploration</p>"},{"location":"api/ARCHITECTURE/#642-sqlite-database-vehiclesdb","title":"6.4.2. SQLite Database (<code>vehicles.db</code>)","text":"<p>Schema Design: Normalized relational structure</p> <p>Tables: - <code>vehicles</code> - Core vehicle information - <code>battery_specs</code> - Battery specifications - <code>charging_specs</code> - Charging capabilities - <code>charge_ports</code> - Physical charge ports - <code>motors</code> - Electric motor details - <code>range_ratings</code> - Range by test cycle - <code>sources</code> - Data sources - <code>variants</code> - Variant metadata</p> <p>Indexes: - Primary keys on all tables - Composite index on (make_slug, model_slug, year, trim_slug) - Index on make_slug, model_slug separately - Full-text search index on model names</p> <p>Use Cases: - Embedded applications - Desktop applications - Quick queries without server setup - API server data source (embedded mode)</p>"},{"location":"api/ARCHITECTURE/#643-postgresql-schema-vehiclessql","title":"6.4.3. PostgreSQL Schema (<code>vehicles.sql</code>)","text":"<p>Contents: - Complete DDL (CREATE TABLE, CREATE INDEX) - INSERT statements for all data - Views for common queries - Functions for search operations</p> <p>Features: - JSONB columns for complex nested data - GiST indexes for JSONB queries - Full-text search with tsvector - Materialized views for aggregations</p> <p>Use Cases: - Production API deployments - Advanced analytics - Multi-tenant scenarios - High-concurrency environments</p>"},{"location":"api/ARCHITECTURE/#644-csv-export-vehiclescsv","title":"6.4.4. CSV Export (<code>vehicles.csv</code>)","text":"<p>Format: Flattened denormalized structure</p> <p>Columns: - Vehicle identification (make, model, year, trim, variant) - Key specifications (battery, range, charging) - Performance metrics - Pricing information - Source URLs (concatenated)</p> <p>Handling Complex Fields: - Arrays: Pipe-separated values (<code>value1|value2|value3</code>) - Objects: Dot notation (<code>battery.pack_capacity_kwh_net</code>) - Nested structures: Flattened to top level</p> <p>Use Cases: - Spreadsheet analysis (Excel, Google Sheets) - Data science workflows (pandas, R) - Business intelligence tools - Legacy system integration</p>"},{"location":"api/ARCHITECTURE/#645-xml-export-vehiclesxml","title":"6.4.5. XML Export (<code>vehicles.xml</code>)","text":"<p>Format: Hierarchical XML structure</p> <p>Root Element: <code>&lt;vehicles&gt;</code></p> <p>Vehicle Structure: <pre><code>&lt;vehicle id=\"oed:tesla:model_3:2024:base\"&gt;\n  &lt;make slug=\"tesla\"&gt;Tesla&lt;/make&gt;\n  &lt;model slug=\"model_3\"&gt;Model 3&lt;/model&gt;\n  &lt;year&gt;2024&lt;/year&gt;\n  &lt;battery&gt;\n    &lt;pack_capacity_kwh_net&gt;60.0&lt;/pack_capacity_kwh_net&gt;\n    &lt;!-- ... --&gt;\n  &lt;/battery&gt;\n  &lt;!-- ... --&gt;\n&lt;/vehicle&gt;\n</code></pre></p> <p>Features: - XML Schema (XSD) generation - Namespace support - XSLT transformation support</p> <p>Use Cases: - Enterprise system integration - SOAP-based services - Government/regulatory systems - Legacy XML pipelines</p>"},{"location":"api/ARCHITECTURE/#65-error-handling-and-reporting","title":"6.5. Error Handling and Reporting","text":""},{"location":"api/ARCHITECTURE/#validation-errors","title":"Validation Errors","text":"<ul> <li>Collect all errors (don't fail fast)</li> <li>Categorize by severity: ERROR, WARNING, INFO</li> <li>Generate detailed error report with file paths and line numbers</li> </ul>"},{"location":"api/ARCHITECTURE/#statistics-generation","title":"Statistics Generation","text":"<ul> <li>Total vehicles processed</li> <li>Variants generated</li> <li>Files scanned</li> <li>Validation failures</li> <li>Processing time per stage</li> </ul>"},{"location":"api/ARCHITECTURE/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code>: Success - all vehicles valid</li> <li><code>1</code>: Validation failures - some vehicles invalid</li> <li><code>2</code>: Schema errors - malformed JSON</li> <li><code>3</code>: File system errors - cannot read files</li> </ul>"},{"location":"api/ARCHITECTURE/#7-api-server-specification","title":"7. API Server Specification","text":""},{"location":"api/ARCHITECTURE/#71-architecture","title":"7.1. Architecture","text":"<p>Pattern: Three-layer architecture - Presentation Layer: HTTP handlers and routing - Service Layer: Business logic and queries - Data Layer: Database abstraction</p>"},{"location":"api/ARCHITECTURE/#72-endpoints","title":"7.2. Endpoints","text":""},{"location":"api/ARCHITECTURE/#get-apiv1health","title":"GET <code>/api/v1/health</code>","text":"<p>Health check endpoint</p> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"version\": \"1.0.0\",\n  \"database\": \"connected\",\n  \"vehicle_count\": 1234\n}\n</code></pre></p>"},{"location":"api/ARCHITECTURE/#get-apiv1vehicles","title":"GET <code>/api/v1/vehicles</code>","text":"<p>List all vehicles with pagination and filtering</p> <p>Query Parameters: - <code>make</code>: Filter by manufacturer (slug) - <code>model</code>: Filter by model (slug) - <code>year</code>: Filter by year - <code>vehicle_type</code>: Filter by type (suv, sedan, etc.) - <code>min_range_km</code>: Minimum range - <code>max_range_km</code>: Maximum range - <code>page</code>: Page number (default: 1) - <code>per_page</code>: Items per page (default: 20, max: 100)</p> <p>Response: <pre><code>{\n  \"vehicles\": [ /* vehicle summaries */ ],\n  \"pagination\": {\n    \"page\": 1,\n    \"per_page\": 20,\n    \"total\": 1234,\n    \"total_pages\": 62\n  }\n}\n</code></pre></p>"},{"location":"api/ARCHITECTURE/#get-apiv1vehiclesmakemodelyear","title":"GET <code>/api/v1/vehicles/{make}/{model}/{year}</code>","text":"<p>Get specific vehicle details</p> <p>Path Parameters: - <code>make</code>: Manufacturer slug - <code>model</code>: Model slug - <code>year</code>: Model year</p> <p>Response: Full canonical vehicle object</p>"},{"location":"api/ARCHITECTURE/#get-apiv1vehiclesmakemodelyearvariants","title":"GET <code>/api/v1/vehicles/{make}/{model}/{year}/variants</code>","text":"<p>List all variants for a specific vehicle</p> <p>Response: Array of variant vehicles</p>"},{"location":"api/ARCHITECTURE/#get-apiv1makes","title":"GET <code>/api/v1/makes</code>","text":"<p>List all manufacturers</p> <p>Response: <pre><code>{\n  \"makes\": [\n    { \"slug\": \"tesla\", \"name\": \"Tesla\", \"vehicle_count\": 42 },\n    { \"slug\": \"byd\", \"name\": \"BYD\", \"vehicle_count\": 38 }\n  ]\n}\n</code></pre></p>"},{"location":"api/ARCHITECTURE/#get-apiv1makesmakemodels","title":"GET <code>/api/v1/makes/{make}/models</code>","text":"<p>List all models for a manufacturer</p> <p>Response: Array of models with vehicle counts</p>"},{"location":"api/ARCHITECTURE/#get-apiv1search","title":"GET <code>/api/v1/search</code>","text":"<p>Full-text search across vehicles</p> <p>Query Parameters: - <code>q</code>: Search query - <code>page</code>, <code>per_page</code>: Pagination</p> <p>Response: Ranked search results</p>"},{"location":"api/ARCHITECTURE/#73-configuration","title":"7.3. Configuration","text":"<p>Configuration via environment variables:</p> <ul> <li><code>DATABASE_URL</code>: SQLite or PostgreSQL connection string</li> <li><code>PORT</code>: Server port (default: 3000)</li> <li><code>HOST</code>: Bind address (default: 0.0.0.0)</li> <li><code>LOG_LEVEL</code>: Logging level (debug, info, warn, error)</li> <li><code>CORS_ORIGINS</code>: Allowed CORS origins</li> <li><code>MAX_PAGE_SIZE</code>: Maximum items per page</li> <li><code>ENABLE_COMPRESSION</code>: Enable gzip compression</li> <li><code>ENABLE_OPENAPI</code>: Enable OpenAPI endpoint</li> </ul>"},{"location":"api/ARCHITECTURE/#74-performance-characteristics","title":"7.4. Performance Characteristics","text":"<p>Targets: - Cold start: &lt; 100ms (with SQLite embedded) - Response time (p50): &lt; 10ms - Response time (p99): &lt; 50ms - Throughput: &gt; 10,000 req/s (single instance, cached) - Memory footprint: &lt; 100MB (with in-memory SQLite)</p>"},{"location":"api/ARCHITECTURE/#8-cicd-pipeline","title":"8. CI/CD Pipeline","text":""},{"location":"api/ARCHITECTURE/#81-dataset-repository-pipeline","title":"8.1. Dataset Repository Pipeline","text":"<p>Triggered by: Push to <code>main</code> or release creation</p> <p>Workflow: ETL Artifacts Generation</p> <pre><code>name: Generate Data Artifacts\n\non:\n  push:\n    branches: [main]\n  release:\n    types: [created]\n\njobs:\n  build-etl:\n    - Checkout API repository\n    - Install Rust toolchain\n    - Build ev-etl in release mode\n\n  generate-artifacts:\n    - Run ev-etl against dataset source\n    - Generate all output formats\n    - Validate all artifacts\n    - Calculate checksums\n\n  publish-artifacts:\n    - Upload to GitHub Release\n    - Tag with semantic version\n    - Generate release notes\n</code></pre> <p>Artifacts Produced: - <code>vehicles.json</code> + <code>vehicles.json.sha256</code> - <code>vehicles.db</code> + <code>vehicles.db.sha256</code> - <code>vehicles.sql</code> + <code>vehicles.sql.sha256</code> - <code>vehicles.csv</code> + <code>vehicles.csv.sha256</code> - <code>vehicles.xml</code> + <code>vehicles.xml.sha256</code> - <code>validation-report.txt</code> - <code>statistics.json</code></p>"},{"location":"api/ARCHITECTURE/#82-api-repository-pipeline","title":"8.2. API Repository Pipeline","text":"<p>Triggered by: Push, PR, or release</p> <p>Workflow 1: Continuous Integration</p> <pre><code>name: CI\n\non: [push, pull_request]\n\njobs:\n  test:\n    - cargo fmt --check\n    - cargo clippy -- -D warnings\n    - cargo test --all-features\n    - cargo test --doc\n\n  build:\n    - cargo build --release -p ev-etl\n    - cargo build --release -p ev-server\n</code></pre> <p>Workflow 2: Release</p> <pre><code>name: Release\n\non:\n  push:\n    branches: [main]\n\njobs:\n  semantic-release:\n    - Run semantic-release\n    - Generate changelog\n    - Create GitHub release\n\n  build-binaries:\n    - Cross-compile for multiple platforms\n    - Upload binaries to release\n\n  build-docker:\n    - Build Docker image\n    - Push to container registry\n    - Tag with semantic version\n</code></pre> <p>Release Artifacts: - Binaries: <code>ev-etl-linux-x64</code>, <code>ev-etl-windows-x64</code>, <code>ev-etl-macos-arm64</code> - Binaries: <code>ev-server-linux-x64</code>, <code>ev-server-windows-x64</code>, <code>ev-server-macos-arm64</code> - Docker image: <code>ghcr.io/open-ev-data/ev-server:latest</code> - Docker image: <code>ghcr.io/open-ev-data/ev-server:v1.2.3</code></p>"},{"location":"api/ARCHITECTURE/#9-deployment-scenarios","title":"9. Deployment Scenarios","text":""},{"location":"api/ARCHITECTURE/#91-embedded-mode-sqlite","title":"9.1. Embedded Mode (SQLite)","text":"<p>Use Case: Single-server deployments, edge locations, development</p> <p>Setup: <pre><code># Download artifacts\nwget https://github.com/.../vehicles.db\nwget https://github.com/.../ev-server-linux-x64\n\n# Run server\nDATABASE_URL=vehicles.db ./ev-server-linux-x64\n</code></pre></p> <p>Characteristics: - Zero external dependencies - &lt; 100MB total footprint - Single binary deployment - Fast startup time</p>"},{"location":"api/ARCHITECTURE/#92-container-deployment-docker","title":"9.2. Container Deployment (Docker)","text":"<p>Use Case: Cloud deployments, Kubernetes, scalability</p> <p>Docker Compose: <pre><code>version: '3.8'\nservices:\n  api:\n    image: ghcr.io/open-ev-data/ev-server:latest\n    environment:\n      - DATABASE_URL=vehicles.db\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./vehicles.db:/app/vehicles.db:ro\n</code></pre></p> <p>Kubernetes Deployment: - Deployment with multiple replicas - ConfigMap for database file - HorizontalPodAutoscaler - Ingress for external access</p>"},{"location":"api/ARCHITECTURE/#93-postgresql-mode","title":"9.3. PostgreSQL Mode","text":"<p>Use Case: High-concurrency production, multi-tenant</p> <p>Setup: <pre><code># Import schema\npsql -d openev -f vehicles.sql\n\n# Run server\nDATABASE_URL=postgresql://user:pass@localhost/openev ./ev-server\n</code></pre></p> <p>Characteristics: - Advanced query capabilities - Connection pooling - Read replicas support - Full ACID compliance</p>"},{"location":"api/ARCHITECTURE/#10-development-workflow","title":"10. Development Workflow","text":"<p>Important: For detailed Rust coding standards, best practices, and implementation guidelines, see RUST_GUIDELINES.md.</p>"},{"location":"api/ARCHITECTURE/#101-initial-setup","title":"10.1. Initial Setup","text":"<pre><code># Clone API repository\ngit clone https://github.com/open-ev-data/open-ev-data-api.git\ncd open-ev-data-api\n\n# Install Rust toolchain\nrustup install stable\nrustup default stable\n\n# Build all crates\ncargo build --all\n\n# Run tests\ncargo test --all\n</code></pre>"},{"location":"api/ARCHITECTURE/#102-etl-development-cycle","title":"10.2. ETL Development Cycle","text":"<pre><code># Point to local dataset\nexport DATASET_PATH=../open-ev-data-dataset/src\n\n# Build and run ETL\ncargo run -p ev-etl -- \\\n  --input $DATASET_PATH \\\n  --output ./output \\\n  --formats json,sqlite,csv\n\n# Validate output\ncargo run -p ev-etl -- \\\n  --validate ./output/vehicles.json\n</code></pre>"},{"location":"api/ARCHITECTURE/#103-server-development-cycle","title":"10.3. Server Development Cycle","text":"<pre><code># Use test database\ncargo run -p ev-server -- \\\n  --database ./output/vehicles.db \\\n  --port 3000\n\n# Run with hot reload (cargo-watch)\ncargo watch -x 'run -p ev-server'\n\n# Run integration tests\ncargo test -p ev-server --test integration\n</code></pre>"},{"location":"api/ARCHITECTURE/#104-release-process","title":"10.4. Release Process","text":"<ol> <li>Dataset Release: Triggers ETL artifact generation</li> <li>API Development: Happens independently</li> <li>API Release: semantic-release handles versioning</li> <li>Docker Build: Automatic on API release</li> <li>Deployment: Manual or automatic depending on environment</li> </ol>"},{"location":"api/ARCHITECTURE/#11-future-enhancements","title":"11. Future Enhancements","text":""},{"location":"api/ARCHITECTURE/#phase-2-api-improvements","title":"Phase 2 - API Improvements","text":"<ul> <li>GraphQL endpoint alongside REST</li> <li>WebSocket support for real-time updates</li> <li>Advanced search with Elasticsearch</li> <li>Caching layer with Redis</li> <li>Rate limiting and API keys</li> </ul>"},{"location":"api/ARCHITECTURE/#phase-3-analytics","title":"Phase 3 - Analytics","text":"<ul> <li>Usage analytics and telemetry</li> <li>Popular vehicle tracking</li> <li>Search query analysis</li> <li>Performance monitoring dashboard</li> </ul>"},{"location":"api/ARCHITECTURE/#phase-4-data-quality","title":"Phase 4 - Data Quality","text":"<ul> <li>Automated data quality scoring</li> <li>Community contribution workflow</li> <li>Diff visualization for updates</li> <li>Historical data tracking (versioned snapshots)</li> </ul>"},{"location":"api/ARCHITECTURE/#12-summary","title":"12. Summary","text":"<p>The OpenEV Data API provides a comprehensive solution for transforming the layered dataset into multiple consumption formats:</p> <p>Core Strengths: 1. Build-Time Compilation: Data validation happens once, not on every request 2. Multiple Formats: Single source, five output formats 3. Type Safety: Rust's type system prevents invalid states 4. Performance: Optimized for read-heavy workloads 5. Portability: Works embedded (SQLite) or client-server (PostgreSQL) 6. Automation: Fully automated CI/CD pipeline</p> <p>Architecture Benefits: - Clean separation of concerns (Hexagonal Architecture) - Testable and maintainable codebase - Independent deployability of components - Multiple deployment strategies supported</p> <p>Integration Points: - Dataset updates trigger artifact regeneration - API releases follow semantic versioning - Multiple consumption patterns supported (files, API, embedded)</p>"},{"location":"api/CRATE_EV_CORE/","title":"ev-core","text":"<p>Core domain types and validation logic for OpenEV Data.</p>"},{"location":"api/CRATE_EV_CORE/#overview","title":"Overview","text":"<p>This crate provides the foundational domain model for the OpenEV Data API, implementing a pure domain library with no I/O dependencies. It follows hexagonal architecture principles where this crate forms the inner hexagon.</p>"},{"location":"api/CRATE_EV_CORE/#features","title":"Features","text":"<ul> <li>Type-safe domain entities matching the OpenEV Data JSON schema</li> <li>Comprehensive validation with detailed error messages</li> <li>Zero I/O dependencies (no HTTP, database, or file system access)</li> <li>Serde serialization/deserialization support</li> <li>Extensive unit tests</li> </ul>"},{"location":"api/CRATE_EV_CORE/#usage","title":"Usage","text":"<pre><code>use ev_core::{Vehicle, SlugName, Year, Validate};\n\n// Create validated types\nlet make = SlugName::new(\"tesla\", \"Tesla\")?;\nlet year = Year::new(2024)?;\n\n// Validate a vehicle\nlet vehicle: Vehicle = serde_json::from_str(json_data)?;\nvehicle.validate()?;\n</code></pre>"},{"location":"api/CRATE_EV_CORE/#architecture","title":"Architecture","text":"<p>This crate is the Core of the Hexagonal Architecture: - No dependencies on ev-etl or ev-server - No I/O, HTTP, or database code - All external interactions happen through trait boundaries in adapter crates</p>"},{"location":"api/CRATE_EV_ETL/","title":"ev-etl","text":"<p>ETL pipeline for processing OpenEV Data vehicle datasets.</p>"},{"location":"api/CRATE_EV_ETL/#overview","title":"Overview","text":"<p>This crate provides a command-line tool for transforming layered JSON vehicle data from the dataset repository into multiple output formats.</p>"},{"location":"api/CRATE_EV_ETL/#usage","title":"Usage","text":"<pre><code>ev-etl --input ../open-ev-data-dataset/src --output ./output --formats json,sqlite\n</code></pre>"},{"location":"api/CRATE_EV_ETL/#output-formats","title":"Output Formats","text":"<ul> <li>JSON: Canonical vehicle array with metadata</li> <li>SQLite: Normalized relational database</li> <li>PostgreSQL: DDL + INSERT statements</li> <li>CSV: Flattened tabular format</li> <li>XML: Hierarchical structure</li> </ul>"},{"location":"api/CRATE_EV_ETL/#options","title":"Options","text":"<ul> <li><code>--input, -i</code>: Input directory containing vehicle JSON files</li> <li><code>--output, -o</code>: Output directory for artifacts (default: ./output)</li> <li><code>--formats, -f</code>: Comma-separated output formats (default: json,sqlite)</li> <li><code>--validate-only</code>: Validate without generating output</li> <li><code>--verbose, -v</code>: Enable debug logging</li> </ul>"},{"location":"api/CRATE_EV_SERVER/","title":"ev-server","text":"<p>REST API server for OpenEV Data.</p>"},{"location":"api/CRATE_EV_SERVER/#overview","title":"Overview","text":"<p>This crate provides a high-performance HTTP REST API server for querying electric vehicle data using the Axum web framework.</p>"},{"location":"api/CRATE_EV_SERVER/#usage","title":"Usage","text":"<pre><code>DATABASE_URL=vehicles.db ev-server\n</code></pre>"},{"location":"api/CRATE_EV_SERVER/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>DATABASE_URL</code>: Path to SQLite database (default: vehicles.db)</li> <li><code>PORT</code>: Server port (default: 3000)</li> <li><code>HOST</code>: Bind address (default: 0.0.0.0)</li> <li><code>LOG_LEVEL</code>: Logging level - debug, info, warn, error (default: info)</li> <li><code>CORS_ORIGINS</code>: Comma-separated allowed origins (default: *)</li> <li><code>MAX_PAGE_SIZE</code>: Maximum items per page (default: 100)</li> <li><code>ENABLE_COMPRESSION</code>: Enable gzip compression (default: true)</li> <li><code>ENABLE_OPENAPI</code>: Enable Swagger UI (default: true)</li> </ul>"},{"location":"api/CRATE_EV_SERVER/#endpoints","title":"Endpoints","text":"<ul> <li><code>GET /api/v1/health</code> - Health check</li> <li><code>GET /api/v1/vehicles</code> - List vehicles with filters</li> <li><code>GET /api/v1/vehicles/{make}/{model}/{year}</code> - Get vehicle details</li> <li><code>GET /api/v1/vehicles/{make}/{model}/{year}/variants</code> - List variants</li> <li><code>GET /api/v1/makes</code> - List manufacturers</li> <li><code>GET /api/v1/makes/{make}/models</code> - List models</li> <li><code>GET /api/v1/search?q=query</code> - Full-text search</li> </ul>"},{"location":"api/CRATE_EV_SERVER/#openapi-documentation","title":"OpenAPI Documentation","text":"<p>When enabled, Swagger UI is available at <code>/swagger-ui</code>.</p>"},{"location":"api/GET_STARTED/","title":"Getting Started with OpenEV Data API","text":"<p>This guide covers the API-specific setup. For general environment setup (cloning repositories and opening the workspace), see the Governance Getting Started Guide.</p>"},{"location":"api/GET_STARTED/#prerequisites","title":"Prerequisites","text":"<p>Ensure you have completed the Governance Getting Started Guide and have:</p> <ul> <li>All repositories cloned in the <code>open-ev-data/</code> directory</li> <li>The multi-repository workspace open in VS Code or Cursor</li> <li>Rust toolchain installed (1.92.0+)</li> </ul> <p>Verify Rust installation:</p> <pre><code>rustc --version\ncargo --version\n</code></pre>"},{"location":"api/GET_STARTED/#build","title":"Build","text":"<p>From the <code>open-ev-data-api</code> directory:</p> <pre><code>cargo build --all\n</code></pre> <p>For production builds:</p> <pre><code>cargo build --release\n</code></pre> <p>Run tests to verify installation:</p> <pre><code>cargo test --all\n</code></pre>"},{"location":"api/GET_STARTED/#run-the-etl-pipeline","title":"Run the ETL Pipeline","text":"<p>The ETL reads layered JSON from the Dataset repository and generates output artifacts.</p> <pre><code>cargo run -p ev-etl -- \\\n  --input ../open-ev-data-dataset/src \\\n  --output ./output \\\n  --formats json,sqlite\n</code></pre> <p>Available formats: <code>json</code>, <code>sqlite</code>, <code>postgresql</code>, <code>csv</code>, <code>xml</code></p> <p>Generated files:</p> File Description <code>output/vehicles.json</code> Canonical JSON with all vehicles <code>output/vehicles.db</code> SQLite database <code>output/statistics.json</code> Processing statistics <p>Verify output:</p> <pre><code>cat output/vehicles.json | jq '.vehicle_count'\nsqlite3 output/vehicles.db \"SELECT COUNT(*) FROM vehicles;\"\n</code></pre>"},{"location":"api/GET_STARTED/#run-the-api-server","title":"Run the API Server","text":"<pre><code>DATABASE_URL=./output/vehicles.db cargo run -p ev-server\n</code></pre> <p>Or with hot-reload:</p> <pre><code>DATABASE_URL=./output/vehicles.db cargo watch -x \"run -p ev-server\"\n</code></pre> <p>The server starts at <code>http://localhost:3000</code>.</p> <p>Test endpoints:</p> <pre><code>curl http://localhost:3000/api/v1/health\ncurl http://localhost:3000/api/v1/makes\ncurl http://localhost:3000/api/v1/vehicles\ncurl http://localhost:3000/api/v1/vehicles/tesla/model_3/2024\ncurl \"http://localhost:3000/api/v1/search?q=dolphin\"\n</code></pre> <p>Swagger UI is available at: <code>http://localhost:3000/docs</code></p>"},{"location":"api/GET_STARTED/#development-workflow","title":"Development Workflow","text":"<ol> <li>Edit vehicle JSON files in <code>open-ev-data-dataset/src</code></li> <li>Run ETL to regenerate artifacts</li> <li>Restart the API server</li> <li>Test changes via API endpoints</li> </ol> <p>For hot-reload during development:</p> <pre><code>cargo install cargo-watch\ncargo watch -x 'run -p ev-server -- --database ./output/vehicles.db'\n</code></pre>"},{"location":"api/GET_STARTED/#docker","title":"Docker","text":""},{"location":"api/GET_STARTED/#development-build","title":"Development Build","text":"<p>For local development (builds inside the container):</p> <pre><code>docker build -t ev-server -f docker/Dockerfile.dev .\ndocker run -p 3000:3000 -v $(pwd)/output/vehicles.db:/app/vehicles.db:ro ev-server\n</code></pre> <p>Or use Docker Compose:</p> <pre><code>docker-compose -f docker/docker-compose.yml up\n</code></pre>"},{"location":"api/GET_STARTED/#production-build","title":"Production Build","text":"<p>For CI/CD and production deployments (uses pre-compiled binaries):</p> <pre><code>cargo build --release\ndocker build -t ev-server -f docker/Dockerfile .\ndocker run -p 3000:3000 -v $(pwd)/output/vehicles.db:/app/vehicles.db:ro ev-server\n</code></pre> <p>The production Dockerfile expects binaries to be pre-built in <code>target/release/</code>, which significantly reduces build time and image size.</p>"},{"location":"api/GET_STARTED/#command-reference","title":"Command Reference","text":"Command Description <code>cargo build --all</code> Build all crates <code>cargo test --all</code> Run all tests <code>cargo fmt --all</code> Format code <code>cargo clippy --all</code> Run linter <code>cargo run -p ev-etl -- --help</code> ETL options <code>cargo run -p ev-server -- --help</code> Server options"},{"location":"api/GET_STARTED/#troubleshooting","title":"Troubleshooting","text":"Issue Solution <code>cargo: command not found</code> Install Rust via rustup.rs Database not found Run ETL first to generate <code>output/vehicles.db</code> Port already in use Use <code>PORT=8080 cargo run -p ev-server</code>"},{"location":"api/GET_STARTED/#further-reading","title":"Further Reading","text":"<ul> <li>Architecture</li> <li>Rust Guidelines</li> <li>ev-core Crate</li> <li>ev-etl Crate</li> <li>ev-server Crate</li> </ul>"},{"location":"api/PROBLEM_DETAILS_RFC_7807/","title":"RFC 7807 Problem Details","text":"<p>This API uses RFC 7807 Problem Details for standardized error responses.</p>"},{"location":"api/PROBLEM_DETAILS_RFC_7807/#response-format","title":"Response Format","text":"<p>All error responses return a JSON object with these fields:</p> Field Type Required Description <code>type</code> string Yes URL to the documentation for this error type <code>title</code> string Yes Short, human-readable summary <code>status</code> integer Yes HTTP status code <code>detail</code> string Yes Specific explanation of this occurrence <code>instance</code> string No URI of the specific request that caused the error"},{"location":"api/PROBLEM_DETAILS_RFC_7807/#example-response","title":"Example Response","text":"<pre><code>{\n  \"type\": \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsnot-found\",\n  \"title\": \"Resource Not Found\",\n  \"status\": 404,\n  \"detail\": \"Vehicle not found: tesla/model_x/2099\",\n  \"instance\": \"/api/v1/vehicles/tesla/model_x/2099\"\n}\n</code></pre>"},{"location":"api/PROBLEM_DETAILS_RFC_7807/#implementation","title":"Implementation","text":""},{"location":"api/PROBLEM_DETAILS_RFC_7807/#adding-new-error-types","title":"Adding New Error Types","text":"<ol> <li>Define the error variant in <code>error.rs</code>:</li> </ol> <pre><code>pub enum ApiError {\n    NotFound(String),\n    BadRequest(String),\n    // Add new variants here\n}\n</code></pre> <ol> <li>Map it in <code>to_problem_details()</code>:</li> </ol> <pre><code>Self::NewError(detail) =&gt; (\n    StatusCode::UNPROCESSABLE_ENTITY,\n    ProblemDetails::new(\n        \"https://github.com/open-ev-data/open-ev-data-api/blob/main/docs/API_ERRORS.md#errorsnew-error\",\n        \"New Error Title\",\n        StatusCode::UNPROCESSABLE_ENTITY,\n        detail.clone(),\n    ),\n),\n</code></pre> <ol> <li>Document in API_ERRORS.md with matching anchor ID.</li> </ol>"},{"location":"api/PROBLEM_DETAILS_RFC_7807/#references","title":"References","text":"<ul> <li>RFC 7807 - Problem Details for HTTP APIs</li> <li>IETF HTTP Problem Types Registry</li> <li>API Error Catalog</li> </ul>"},{"location":"api/RELEASE_STRATEGY/","title":"Release Strategy","text":"<p>This project uses a hybrid release strategy that ensures atomic releases while supporting multiple platforms.</p>"},{"location":"api/RELEASE_STRATEGY/#overview","title":"Overview","text":"<pre><code>flowchart TB\n    subgraph SR[\"SEMANTIC-RELEASE (Atomic)\"]\n        direction TB\n        A1[\"1. Analyze commits\"] --&gt; A2[\"2. Generate changelog\"]\n        A2 --&gt; A3[\"3. Build Linux binaries (exec)\"]\n        A3 --&gt; A4[\"4. Build &amp; push Docker (exec)\"]\n        A4 --&gt; A5[\"5. Update Cargo.toml version\"]\n        A5 --&gt; A6[\"6. Create Git tag\"]\n        A6 --&gt; A7[\"7. Upload Linux artifacts\"]\n    end\n\n    subgraph GA[\"GITHUB ACTIONS MATRIX (Non-blocking)\"]\n        direction TB\n        B1[\"Windows x86_64\"]\n        B2[\"macOS ARM (aarch64)\"]\n        B3[\"macOS Intel (x86_64)\"]\n    end\n\n    SR --&gt;|\"If ANY step fails \u2192 NO release\"| FAIL[\"\u274c Release Aborted\"]\n    SR --&gt;|\"All steps succeed\"| GA\n    GA --&gt;|\"continue-on-error: true\"| DONE[\"\u2705 Release Complete\"]\n\n    style SR fill:#1a5f2a,stroke:#2d8f47,color:#fff\n    style GA fill:#1a3d5f,stroke:#2d5f8f,color:#fff\n    style FAIL fill:#5f1a1a,stroke:#8f2d2d,color:#fff\n    style DONE fill:#1a5f2a,stroke:#2d8f47,color:#fff</code></pre>"},{"location":"api/RELEASE_STRATEGY/#why-hybrid","title":"Why Hybrid?","text":"Approach Pros Cons All in semantic-release Atomic, all-or-nothing Single runner, no parallelism All in GitHub Actions Parallel builds Release can exist without artifacts Hybrid (our choice) Critical builds atomic, extra platforms parallel Slight complexity"},{"location":"api/RELEASE_STRATEGY/#release-scripts","title":"Release Scripts","text":"<p>Located in <code>scripts/release/</code>:</p> Script Purpose When <code>prepare-artifacts.sh</code> Creates <code>dist/</code> directory <code>prepareCmd</code> <code>build-linux.sh</code> Builds Linux x86_64 binaries <code>publishCmd</code> <code>build-docker.sh</code> Builds &amp; pushes Docker images <code>publishCmd</code>"},{"location":"api/RELEASE_STRATEGY/#artifacts-generated","title":"Artifacts Generated","text":""},{"location":"api/RELEASE_STRATEGY/#atomic-always-available-if-release-exists","title":"Atomic (always available if release exists)","text":"Artifact Description <code>ev-server-x86_64-unknown-linux-gnu.tar.gz</code> API server (Linux) <code>ev-etl-x86_64-unknown-linux-gnu.tar.gz</code> ETL tool (Linux) <code>ghcr.io/open-ev-data/ev-server:X.Y.Z</code> Docker image (API) <code>ghcr.io/open-ev-data/ev-etl:X.Y.Z</code> Docker image (ETL)"},{"location":"api/RELEASE_STRATEGY/#extra-platforms-best-effort","title":"Extra Platforms (best-effort)","text":"Artifact Description <code>ev-server-x86_64-pc-windows-msvc.zip</code> API server (Windows) <code>ev-etl-x86_64-pc-windows-msvc.zip</code> ETL tool (Windows) <code>ev-server-aarch64-apple-darwin.tar.gz</code> API server (macOS ARM) <code>ev-etl-aarch64-apple-darwin.tar.gz</code> ETL tool (macOS ARM) <code>ev-server-x86_64-apple-darwin.tar.gz</code> API server (macOS Intel) <code>ev-etl-x86_64-apple-darwin.tar.gz</code> ETL tool (macOS Intel)"},{"location":"api/RELEASE_STRATEGY/#using-artifacts","title":"Using Artifacts","text":""},{"location":"api/RELEASE_STRATEGY/#download-from-release","title":"Download from Release","text":"<pre><code>gh release download v1.0.0 -R open-ev-data/open-ev-data-api -p 'ev-etl-x86_64-unknown-linux-gnu.tar.gz'\ntar -xzf ev-etl-x86_64-unknown-linux-gnu.tar.gz\n./ev-etl --help\n</code></pre>"},{"location":"api/RELEASE_STRATEGY/#use-docker-image","title":"Use Docker Image","text":"<pre><code>docker run -v $(pwd)/src:/data/input -v $(pwd)/output:/data/output \\\n  ghcr.io/open-ev-data/ev-etl:latest\n\ndocker run -p 3000:3000 -v $(pwd)/vehicles.db:/app/vehicles.db \\\n  ghcr.io/open-ev-data/ev-server:latest\n</code></pre>"},{"location":"api/RELEASE_STRATEGY/#dataset-repository-integration","title":"Dataset Repository Integration","text":"<p>The Dataset repository can use ev-etl to regenerate artifacts:</p> <pre><code># .github/workflows/generate-artifacts.yml\njobs:\n  generate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Run ETL\n        run: |\n          docker run -v ${{ github.workspace }}/src:/data/input \\\n                     -v ${{ github.workspace }}/output:/data/output \\\n                     ghcr.io/open-ev-data/ev-etl:latest\n</code></pre>"},{"location":"api/RELEASE_STRATEGY/#configuration-files","title":"Configuration Files","text":"File Purpose <code>package.json</code> semantic-release plugins and exec commands <code>.github/workflows/release.yml</code> GitHub Actions workflow <code>scripts/release/*.sh</code> Build scripts <code>docker/Dockerfile</code> ev-server image <code>docker/Dockerfile.etl</code> ev-etl image"},{"location":"api/RUST_GUIDELINES/","title":"Rust Development Guidelines - OpenEV Data API","text":"<p>This document establishes the coding standards, best practices, and architectural guidelines for developing the OpenEV Data API in Rust. All contributors must follow these guidelines to ensure code quality, maintainability, and consistency.</p>"},{"location":"api/RUST_GUIDELINES/#table-of-contents","title":"Table of Contents","text":"<ul> <li>1. Core Principles</li> <li>2. Project Structure</li> <li>3. Naming Conventions</li> <li>4. Type Design</li> <li>5. Error Handling</li> <li>6. Architectural Patterns</li> <li>7. Async/Await Patterns</li> <li>8. Testing Strategy</li> <li>9. Performance Guidelines</li> <li>10. Security Practices</li> <li>11. Documentation Standards</li> <li>12. Code Quality Tools</li> <li>13. Common Patterns</li> <li>14. Anti-Patterns to Avoid</li> </ul>"},{"location":"api/RUST_GUIDELINES/#1-core-principles","title":"1. Core Principles","text":""},{"location":"api/RUST_GUIDELINES/#11-solid-principles-in-rust","title":"1.1. SOLID Principles in Rust","text":""},{"location":"api/RUST_GUIDELINES/#single-responsibility-principle-srp","title":"Single Responsibility Principle (SRP)","text":"<p>Each module, struct, and function should have ONE clear responsibility.</p> <p>Good: <pre><code>// Each struct has a single responsibility\npub struct VehicleReader {\n    // Only reads vehicle files\n}\n\npub struct VehicleValidator {\n    // Only validates vehicle data\n}\n\npub struct VehicleRepository {\n    // Only handles vehicle persistence\n}\n</code></pre></p> <p>Bad: <pre><code>// This struct does too many things\npub struct VehicleManager {\n    // Reads, validates, transforms, saves, queries...\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#openclosed-principle-ocp","title":"Open/Closed Principle (OCP)","text":"<p>Types should be open for extension but closed for modification. Use traits for extensibility.</p> <p>Good: <pre><code>// Define behavior through traits\npub trait OutputGenerator {\n    fn generate(&amp;self, vehicles: &amp;[Vehicle]) -&gt; Result&lt;Vec&lt;u8&gt;&gt;;\n}\n\n// Easy to add new formats without modifying existing code\npub struct JsonGenerator;\nimpl OutputGenerator for JsonGenerator { /* ... */ }\n\npub struct SqliteGenerator;\nimpl OutputGenerator for SqliteGenerator { /* ... */ }\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#liskov-substitution-principle-lsp","title":"Liskov Substitution Principle (LSP)","text":"<p>Implementations should be substitutable for their trait bounds without breaking behavior.</p> <p>Good: <pre><code>pub trait VehicleStore {\n    fn save(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;()&gt;;\n    fn find(&amp;self, id: &amp;str) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt;;\n}\n\n// Both implementations respect the contract\nimpl VehicleStore for SqliteStore { /* ... */ }\nimpl VehicleStore for PostgresStore { /* ... */ }\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#interface-segregation-principle-isp","title":"Interface Segregation Principle (ISP)","text":"<p>Clients should not depend on traits they don't use. Keep traits focused.</p> <p>Good: <pre><code>// Segregated traits\npub trait Readable {\n    fn read(&amp;self, id: &amp;str) -&gt; Result&lt;Vehicle&gt;;\n}\n\npub trait Writable {\n    fn write(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;()&gt;;\n}\n\n// Implement only what you need\nimpl Readable for ReadOnlyStore { /* ... */ }\nimpl Readable + Writable for FullStore { /* ... */ }\n</code></pre></p> <p>Bad: <pre><code>// Fat trait forcing unnecessary implementations\npub trait Repository {\n    fn read(&amp;self, id: &amp;str) -&gt; Result&lt;Vehicle&gt;;\n    fn write(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;()&gt;;\n    fn delete(&amp;mut self, id: &amp;str) -&gt; Result&lt;()&gt;;\n    fn update(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;()&gt;;\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#dependency-inversion-principle-dip","title":"Dependency Inversion Principle (DIP)","text":"<p>Depend on abstractions (traits), not concrete types.</p> <p>Good: <pre><code>// Depend on trait, not concrete type\npub struct EtlPipeline&lt;G: OutputGenerator&gt; {\n    generator: G,\n}\n\nimpl&lt;G: OutputGenerator&gt; EtlPipeline&lt;G&gt; {\n    pub fn new(generator: G) -&gt; Self {\n        Self { generator }\n    }\n}\n</code></pre></p> <p>Bad: <pre><code>// Hardcoded dependency on concrete type\npub struct EtlPipeline {\n    generator: JsonGenerator, // Tightly coupled\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#12-hexagonal-architecture-enforcement","title":"1.2. Hexagonal Architecture Enforcement","text":"<p>The codebase is divided into layers with strict dependency rules:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Adapters (Outer)            \u2502\n\u2502  (ev-etl, ev-server)               \u2502\n\u2502         \u2193 depends on               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         Core (Inner)                \u2502\n\u2502         (ev-core)                   \u2502\n\u2502    \u2190 no dependencies               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Rules: 1. ev-core must NOT depend on ev-etl or ev-server 2. ev-core must NOT import any I/O, HTTP, or database crates 3. ev-etl and ev-server can depend on ev-core 4. Adapters communicate with Core through trait boundaries</p>"},{"location":"api/RUST_GUIDELINES/#13-make-invalid-states-unrepresentable","title":"1.3. Make Invalid States Unrepresentable","text":"<p>Use Rust's type system to prevent invalid states at compile time.</p> <p>Good: <pre><code>// Impossible to have a vehicle without required fields\npub struct Vehicle {\n    pub make: SlugName,          // Cannot be empty\n    pub model: SlugName,\n    pub year: Year,              // Validated range (1900-2100)\n    pub battery: BatterySpecs,   // At least one capacity required\n}\n\n// Year is constrained\npub struct Year(u16);\n\nimpl Year {\n    pub fn new(value: u16) -&gt; Result&lt;Self, ValidationError&gt; {\n        if (1900..=2100).contains(&amp;value) {\n            Ok(Year(value))\n        } else {\n            Err(ValidationError::InvalidYear(value))\n        }\n    }\n}\n</code></pre></p> <p>Bad: <pre><code>// Many ways to be invalid\npub struct Vehicle {\n    pub make: Option&lt;String&gt;,      // Could be None\n    pub model: Option&lt;String&gt;,\n    pub year: i32,                 // Could be negative or 9999\n    pub battery: Option&lt;Battery&gt;,  // Could be None\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#2-project-structure","title":"2. Project Structure","text":""},{"location":"api/RUST_GUIDELINES/#21-workspace-organization","title":"2.1. Workspace Organization","text":"<pre><code>Cargo.toml                    # Workspace manifest\n\u251c\u2500\u2500 crates/\n\u2502   \u251c\u2500\u2500 ev-core/             # Domain logic (no dependencies)\n\u2502   \u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 lib.rs       # Public API surface\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 domain/      # Domain entities\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 validation/  # Validation logic\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 error.rs     # Core error types\n\u2502   \u2502   \u2514\u2500\u2500 Cargo.toml\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 ev-etl/              # CLI adapter\n\u2502   \u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 main.rs      # Binary entry\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 cli.rs       # Argument parsing\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ingest/      # Input adapters\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 output/      # Output adapters\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 error.rs     # ETL-specific errors\n\u2502   \u2502   \u2514\u2500\u2500 Cargo.toml\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 ev-server/           # HTTP API adapter\n\u2502       \u251c\u2500\u2500 src/\n\u2502       \u2502   \u251c\u2500\u2500 main.rs      # Binary entry\n\u2502       \u2502   \u251c\u2500\u2500 api/         # HTTP handlers\n\u2502       \u2502   \u251c\u2500\u2500 db/          # Database adapters\n\u2502       \u2502   \u2514\u2500\u2500 error.rs     # Server-specific errors\n\u2502       \u2514\u2500\u2500 Cargo.toml\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#22-module-organization","title":"2.2. Module Organization","text":"<p>Each crate should follow this internal structure:</p> <pre><code>// lib.rs or main.rs - Define public API\npub mod domain;\npub mod validation;\n\npub use domain::{Vehicle, Battery};  // Re-export public types\npub use validation::Validator;\n\n// Private modules\nmod internal;\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#23-file-naming","title":"2.3. File Naming","text":"<ul> <li>snake_case for file names: <code>vehicle_repository.rs</code></li> <li>mod.rs for module entry points</li> <li>One public type per file (generally)</li> <li>Related types can share a file if small</li> </ul>"},{"location":"api/RUST_GUIDELINES/#3-naming-conventions","title":"3. Naming Conventions","text":""},{"location":"api/RUST_GUIDELINES/#31-general-rules","title":"3.1. General Rules","text":"Item Convention Example Crates kebab-case <code>ev-core</code>, <code>ev-etl</code> Modules snake_case <code>vehicle_store</code>, <code>json_parser</code> Types PascalCase <code>Vehicle</code>, <code>BatterySpecs</code> Traits PascalCase <code>OutputGenerator</code>, <code>Validator</code> Functions snake_case <code>load_vehicles()</code>, <code>validate_schema()</code> Methods snake_case <code>.to_json()</code>, <code>.save()</code> Constants SCREAMING_SNAKE_CASE <code>MAX_VEHICLES</code>, <code>DEFAULT_PORT</code> Statics SCREAMING_SNAKE_CASE <code>GLOBAL_CONFIG</code> Lifetimes lowercase, short <code>'a</code>, <code>'b</code>, <code>'static</code> Type parameters PascalCase, single letter <code>T</code>, <code>E</code>, or descriptive: <code>TOutput</code>"},{"location":"api/RUST_GUIDELINES/#32-semantic-naming","title":"3.2. Semantic Naming","text":"<p>Types should indicate their purpose: <pre><code>// Good - Clear intent\npub struct VehicleRepository;\npub struct JsonSerializer;\npub struct ValidationError;\n\n// Bad - Vague or generic\npub struct Manager;\npub struct Handler;\npub struct Data;\n</code></pre></p> <p>Functions should be verbs or verb phrases: <pre><code>// Good\nfn load_dataset() -&gt; Result&lt;Dataset&gt;;\nfn validate_vehicle(v: &amp;Vehicle) -&gt; Result&lt;()&gt;;\nfn merge_json_files(files: &amp;[File]) -&gt; Json;\n\n// Bad\nfn dataset() -&gt; Result&lt;Dataset&gt;;\nfn vehicle(v: &amp;Vehicle) -&gt; Result&lt;()&gt;;\n</code></pre></p> <p>Avoid abbreviations unless widely known: <pre><code>// Good\nhttp_client, database_url, repository\n\n// Acceptable\nurl, json, xml, html, api\n\n// Bad\nveh, db_repo, usr\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#4-type-design","title":"4. Type Design","text":""},{"location":"api/RUST_GUIDELINES/#41-prefer-newtype-pattern-for-domain-concepts","title":"4.1. Prefer Newtype Pattern for Domain Concepts","text":"<p>Wrap primitive types to add semantic meaning and validation.</p> <pre><code>// Good - Type-safe and self-documenting\n#[derive(Debug, Clone, PartialEq, Eq)]\npub struct VehicleId(String);\n\nimpl VehicleId {\n    pub fn new(value: String) -&gt; Result&lt;Self, ValidationError&gt; {\n        if value.is_empty() {\n            return Err(ValidationError::EmptyId);\n        }\n        Ok(VehicleId(value))\n    }\n}\n\n// Bad - Easy to confuse different strings\nfn get_vehicle(id: String) -&gt; Vehicle;\nfn get_make(make: String) -&gt; Vec&lt;Vehicle&gt;;\n// Which string is which?\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#42-use-builder-pattern-for-complex-construction","title":"4.2. Use Builder Pattern for Complex Construction","text":"<pre><code>#[derive(Debug)]\npub struct VehicleBuilder {\n    make: Option&lt;SlugName&gt;,\n    model: Option&lt;SlugName&gt;,\n    year: Option&lt;Year&gt;,\n    battery: Option&lt;BatterySpecs&gt;,\n}\n\nimpl VehicleBuilder {\n    pub fn new() -&gt; Self {\n        Self::default()\n    }\n\n    pub fn make(mut self, make: SlugName) -&gt; Self {\n        self.make = Some(make);\n        self\n    }\n\n    pub fn build(self) -&gt; Result&lt;Vehicle, BuilderError&gt; {\n        Ok(Vehicle {\n            make: self.make.ok_or(BuilderError::MissingMake)?,\n            model: self.model.ok_or(BuilderError::MissingModel)?,\n            year: self.year.ok_or(BuilderError::MissingYear)?,\n            battery: self.battery.ok_or(BuilderError::MissingBattery)?,\n        })\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#43-enums-for-state-representation","title":"4.3. Enums for State Representation","text":"<p>Use enums to represent mutually exclusive states.</p> <pre><code>// Good - Clear states\n#[derive(Debug, Clone, PartialEq)]\npub enum VehicleAvailability {\n    Production { start_year: u16 },\n    Discontinued { end_year: u16 },\n    Concept,\n    Announced { expected_year: u16 },\n}\n\n// Bad - Multiple booleans\npub struct VehicleAvailability {\n    pub is_production: bool,\n    pub is_discontinued: bool,\n    pub is_concept: bool,\n    // Unclear which combination is valid\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#44-derive-standard-traits","title":"4.4. Derive Standard Traits","text":"<p>Always derive standard traits when possible:</p> <pre><code>#[derive(Debug, Clone, PartialEq, Eq, Hash)]          // For most types\n#[derive(Debug, Clone, PartialEq)]                    // For types with floats\n#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]   // For small copyable types\n</code></pre> <p>For public domain types, also derive: <pre><code>#[derive(Debug, Clone, PartialEq, serde::Serialize, serde::Deserialize)]\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/RUST_GUIDELINES/#51-error-design","title":"5.1. Error Design","text":"<p>Use <code>thiserror</code> for library errors (ev-core) and <code>anyhow</code> for application errors (ev-etl, ev-server).</p> <p>ev-core (library errors): <pre><code>use thiserror::Error;\n\n#[derive(Debug, Error)]\npub enum ValidationError {\n    #[error(\"Missing required field: {field}\")]\n    MissingField { field: String },\n\n    #[error(\"Invalid year: {0}. Must be between 1900 and 2100\")]\n    InvalidYear(u16),\n\n    #[error(\"At least one battery capacity (gross or net) is required\")]\n    MissingBatteryCapacity,\n\n    #[error(\"Schema validation failed: {0}\")]\n    SchemaError(String),\n}\n</code></pre></p> <p>ev-etl, ev-server (application errors): <pre><code>use anyhow::{Context, Result};\n\npub fn load_dataset(path: &amp;Path) -&gt; Result&lt;Dataset&gt; {\n    let file = File::open(path)\n        .context(format!(\"Failed to open dataset file: {:?}\", path))?;\n\n    let dataset = serde_json::from_reader(file)\n        .context(\"Failed to parse JSON\")?;\n\n    Ok(dataset)\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#52-result-type-usage","title":"5.2. Result Type Usage","text":"<p>Always use <code>Result</code> for operations that can fail:</p> <pre><code>// Good\npub fn validate_vehicle(vehicle: &amp;Vehicle) -&gt; Result&lt;(), ValidationError&gt;;\npub fn save_to_db(&amp;self, vehicle: Vehicle) -&gt; Result&lt;VehicleId&gt;;\n\n// Bad - panicking in library code\npub fn validate_vehicle(vehicle: &amp;Vehicle) {\n    assert!(!vehicle.make.is_empty());  // NO!\n}\n\n// Bad - hiding errors\npub fn save_to_db(&amp;self, vehicle: Vehicle) -&gt; Option&lt;VehicleId&gt;;\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#53-error-propagation","title":"5.3. Error Propagation","text":"<p>Use <code>?</code> operator for error propagation:</p> <pre><code>pub fn process_vehicle(path: &amp;Path) -&gt; Result&lt;Vehicle&gt; {\n    let raw_json = std::fs::read_to_string(path)?;\n    let vehicle: Vehicle = serde_json::from_str(&amp;raw_json)?;\n    vehicle.validate()?;\n    Ok(vehicle)\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#54-never-panic-in-libraries","title":"5.4. Never Panic in Libraries","text":"<p>Libraries (ev-core) should NEVER panic. Applications can panic for unrecoverable errors.</p> <pre><code>// Library code - NO PANIC\npub fn parse_year(s: &amp;str) -&gt; Result&lt;Year, ParseError&gt; {\n    let value: u16 = s.parse()\n        .map_err(|_| ParseError::InvalidFormat)?;\n    Year::new(value)\n}\n\n// Application code - panic is acceptable for truly unrecoverable errors\npub fn main() {\n    let config = load_config()\n        .expect(\"Configuration file is required\");\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#6-architectural-patterns","title":"6. Architectural Patterns","text":""},{"location":"api/RUST_GUIDELINES/#61-port-and-adapter-pattern","title":"6.1. Port and Adapter Pattern","text":"<p>Define traits (ports) in ev-core, implement them (adapters) in outer crates.</p> <p>ev-core (port definition): <pre><code>// Port - abstract interface\npub trait VehicleRepository {\n    fn find_by_id(&amp;self, id: &amp;VehicleId) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt;;\n    fn save(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;VehicleId&gt;;\n    fn list_all(&amp;self) -&gt; Result&lt;Vec&lt;Vehicle&gt;&gt;;\n}\n</code></pre></p> <p>ev-server (adapter implementation): <pre><code>// Adapter - concrete implementation\npub struct SqliteVehicleRepository {\n    connection: rusqlite::Connection,\n}\n\nimpl VehicleRepository for SqliteVehicleRepository {\n    fn find_by_id(&amp;self, id: &amp;VehicleId) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt; {\n        // SQLite-specific implementation\n    }\n\n    fn save(&amp;mut self, vehicle: Vehicle) -&gt; Result&lt;VehicleId&gt; {\n        // SQLite-specific implementation\n    }\n\n    fn list_all(&amp;self) -&gt; Result&lt;Vec&lt;Vehicle&gt;&gt; {\n        // SQLite-specific implementation\n    }\n}\n</code></pre></p>"},{"location":"api/RUST_GUIDELINES/#62-dependency-injection","title":"6.2. Dependency Injection","text":"<p>Use constructor injection with trait bounds:</p> <pre><code>// Service depends on abstraction, not implementation\npub struct EtlPipeline&lt;R, G&gt;\nwhere\n    R: VehicleRepository,\n    G: OutputGenerator,\n{\n    repository: R,\n    generator: G,\n}\n\nimpl&lt;R, G&gt; EtlPipeline&lt;R, G&gt;\nwhere\n    R: VehicleRepository,\n    G: OutputGenerator,\n{\n    pub fn new(repository: R, generator: G) -&gt; Self {\n        Self { repository, generator }\n    }\n\n    pub fn process(&amp;mut self, vehicles: Vec&lt;Vehicle&gt;) -&gt; Result&lt;Vec&lt;u8&gt;&gt; {\n        for vehicle in vehicles {\n            self.repository.save(vehicle)?;\n        }\n        let all_vehicles = self.repository.list_all()?;\n        self.generator.generate(&amp;all_vehicles)\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#63-strategy-pattern","title":"6.3. Strategy Pattern","text":"<p>Use traits to define interchangeable algorithms:</p> <pre><code>pub trait MergeStrategy {\n    fn merge(&amp;self, base: &amp;Json, overlay: &amp;Json) -&gt; Json;\n}\n\npub struct DeepMergeStrategy;\nimpl MergeStrategy for DeepMergeStrategy {\n    fn merge(&amp;self, base: &amp;Json, overlay: &amp;Json) -&gt; Json {\n        // Deep merge implementation\n    }\n}\n\npub struct ShallowMergeStrategy;\nimpl MergeStrategy for ShallowMergeStrategy {\n    fn merge(&amp;self, base: &amp;Json, overlay: &amp;Json) -&gt; Json {\n        // Shallow merge implementation\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#64-repository-pattern","title":"6.4. Repository Pattern","text":"<p>Separate data access from business logic:</p> <pre><code>// Repository handles persistence\npub struct VehicleRepositoryImpl {\n    db: Database,\n}\n\nimpl VehicleRepositoryImpl {\n    fn to_domain(&amp;self, row: DbRow) -&gt; Result&lt;Vehicle&gt; {\n        // Map database row to domain entity\n    }\n\n    fn from_domain(&amp;self, vehicle: &amp;Vehicle) -&gt; DbRow {\n        // Map domain entity to database row\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#7-asyncawait-patterns","title":"7. Async/Await Patterns","text":""},{"location":"api/RUST_GUIDELINES/#71-when-to-use-async","title":"7.1. When to Use Async","text":"<p>Use async for: - HTTP requests/responses (ev-server) - Database connections with async drivers - Concurrent I/O operations</p> <p>Don't use async for: - Pure computation - ev-core (domain logic should be sync) - ETL processing (unless parallelizing I/O)</p>"},{"location":"api/RUST_GUIDELINES/#72-async-trait-methods","title":"7.2. Async Trait Methods","text":"<p>Use <code>async-trait</code> crate for trait methods:</p> <pre><code>use async_trait::async_trait;\n\n#[async_trait]\npub trait AsyncVehicleRepository {\n    async fn find_by_id(&amp;self, id: &amp;VehicleId) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt;;\n    async fn save(&amp;self, vehicle: Vehicle) -&gt; Result&lt;VehicleId&gt;;\n}\n\n#[async_trait]\nimpl AsyncVehicleRepository for PostgresRepository {\n    async fn find_by_id(&amp;self, id: &amp;VehicleId) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt; {\n        // Async implementation\n    }\n\n    async fn save(&amp;self, vehicle: Vehicle) -&gt; Result&lt;VehicleId&gt; {\n        // Async implementation\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#73-concurrent-processing","title":"7.3. Concurrent Processing","text":"<p>Use <code>tokio::spawn</code> for true parallelism, <code>futures::join!</code> for concurrent awaiting:</p> <pre><code>use futures::future::join_all;\n\npub async fn load_multiple_vehicles(ids: Vec&lt;VehicleId&gt;) -&gt; Result&lt;Vec&lt;Vehicle&gt;&gt; {\n    let futures = ids\n        .into_iter()\n        .map(|id| async move {\n            load_vehicle(&amp;id).await\n        });\n\n    join_all(futures).await\n        .into_iter()\n        .collect::&lt;Result&lt;Vec&lt;_&gt;&gt;&gt;()\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#74-tokio-runtime-selection","title":"7.4. Tokio Runtime Selection","text":"<pre><code>// For servers - multi-threaded runtime\n#[tokio::main]\nasync fn main() -&gt; Result&lt;()&gt; {\n    // Server code\n}\n\n// For CLIs - current thread runtime (lighter)\n#[tokio::main(flavor = \"current_thread\")]\nasync fn main() -&gt; Result&lt;()&gt; {\n    // CLI code\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#8-testing-strategy","title":"8. Testing Strategy","text":""},{"location":"api/RUST_GUIDELINES/#81-test-organization","title":"8.1. Test Organization","text":"<pre><code>src/\n  vehicle.rs\n  vehicle_repository.rs\n\ntests/                          # Integration tests\n  vehicle_integration_test.rs\n\nbenches/                        # Benchmarks\n  vehicle_benchmark.rs\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#82-unit-tests","title":"8.2. Unit Tests","text":"<p>Place unit tests in the same file as the code:</p> <pre><code>pub struct Vehicle {\n    // ...\n}\n\nimpl Vehicle {\n    pub fn is_available_in_year(&amp;self, year: u16) -&gt; bool {\n        // implementation\n    }\n}\n\n#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_vehicle_availability() {\n        let vehicle = Vehicle::new(/* ... */);\n        assert!(vehicle.is_available_in_year(2024));\n        assert!(!vehicle.is_available_in_year(1999));\n    }\n\n    #[test]\n    fn test_invalid_year_returns_error() {\n        let result = Year::new(3000);\n        assert!(result.is_err());\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#83-integration-tests","title":"8.3. Integration Tests","text":"<p>Place integration tests in <code>tests/</code> directory:</p> <pre><code>// tests/etl_pipeline_test.rs\nuse ev_etl::EtlPipeline;\nuse ev_core::Vehicle;\n\n#[test]\nfn test_full_etl_pipeline() {\n    let input_dir = \"fixtures/sample_vehicles\";\n    let output_dir = temp_dir();\n\n    let result = EtlPipeline::new()\n        .input(input_dir)\n        .output(output_dir)\n        .formats(vec![\"json\", \"sqlite\"])\n        .run();\n\n    assert!(result.is_ok());\n    assert!(output_dir.join(\"vehicles.json\").exists());\n    assert!(output_dir.join(\"vehicles.db\").exists());\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#84-property-based-testing","title":"8.4. Property-Based Testing","text":"<p>Use <code>proptest</code> for property-based testing:</p> <pre><code>use proptest::prelude::*;\n\nproptest! {\n    #[test]\n    fn test_year_roundtrip(year in 1900u16..=2100u16) {\n        let y = Year::new(year).unwrap();\n        let json = serde_json::to_string(&amp;y).unwrap();\n        let parsed: Year = serde_json::from_str(&amp;json).unwrap();\n        prop_assert_eq!(y, parsed);\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#85-mocking","title":"8.5. Mocking","text":"<p>Use <code>mockall</code> for mocking traits:</p> <pre><code>use mockall::{automock, predicate::*};\n\n#[automock]\npub trait VehicleRepository {\n    fn find_by_id(&amp;self, id: &amp;VehicleId) -&gt; Result&lt;Option&lt;Vehicle&gt;&gt;;\n}\n\n#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_service_with_mock_repository() {\n        let mut mock_repo = MockVehicleRepository::new();\n        mock_repo\n            .expect_find_by_id()\n            .with(eq(VehicleId::new(\"test\".to_string()).unwrap()))\n            .times(1)\n            .returning(|_| Ok(Some(create_test_vehicle())));\n\n        let service = VehicleService::new(mock_repo);\n        let result = service.get_vehicle_details(&amp;VehicleId::new(\"test\".to_string()).unwrap());\n        assert!(result.is_ok());\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#86-test-utilities","title":"8.6. Test Utilities","text":"<p>Create test helpers in a common module:</p> <pre><code>// tests/common/mod.rs\n#![allow(dead_code)]\n\nuse ev_core::*;\n\npub fn create_test_vehicle() -&gt; Vehicle {\n    VehicleBuilder::new()\n        .make(SlugName::new(\"test_make\", \"Test Make\").unwrap())\n        .model(SlugName::new(\"test_model\", \"Test Model\").unwrap())\n        .year(Year::new(2024).unwrap())\n        .battery(create_test_battery())\n        .build()\n        .unwrap()\n}\n\npub fn create_test_battery() -&gt; BatterySpecs {\n    BatterySpecs {\n        pack_capacity_kwh_net: Some(60.0),\n        thermal_management: Some(ThermalManagement::Liquid),\n        ..Default::default()\n    }\n}\n\n// tests/vehicle_test.rs\nmod common;\n\n#[test]\nfn test_something() {\n    let vehicle = common::create_test_vehicle();\n    // ...\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#9-performance-guidelines","title":"9. Performance Guidelines","text":""},{"location":"api/RUST_GUIDELINES/#91-avoid-unnecessary-allocations","title":"9.1. Avoid Unnecessary Allocations","text":"<pre><code>// Good - borrows instead of cloning\npub fn process_vehicles(vehicles: &amp;[Vehicle]) -&gt; Vec&lt;String&gt; {\n    vehicles.iter()\n        .map(|v| format_vehicle(v))\n        .collect()\n}\n\n// Bad - unnecessary clone\npub fn process_vehicles(vehicles: &amp;[Vehicle]) -&gt; Vec&lt;String&gt; {\n    vehicles.to_vec()  // Clones all vehicles!\n        .iter()\n        .map(|v| format_vehicle(v))\n        .collect()\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#92-use-iterators-instead-of-loops","title":"9.2. Use Iterators Instead of Loops","text":"<pre><code>// Good - iterator chain\nlet total_capacity: f64 = vehicles\n    .iter()\n    .filter(|v| v.year == 2024)\n    .filter_map(|v| v.battery.pack_capacity_kwh_net)\n    .sum();\n\n// Bad - manual loop\nlet mut total_capacity = 0.0;\nfor vehicle in vehicles {\n    if vehicle.year == 2024 {\n        if let Some(capacity) = vehicle.battery.pack_capacity_kwh_net {\n            total_capacity += capacity;\n        }\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#93-prefer-str-over-string-in-function-parameters","title":"9.3. Prefer <code>&amp;str</code> Over <code>String</code> in Function Parameters","text":"<pre><code>// Good - accepts both String and &amp;str\npub fn parse_vehicle_id(id: &amp;str) -&gt; Result&lt;VehicleId&gt; {\n    VehicleId::new(id.to_string())\n}\n\n// Bad - forces caller to own a String\npub fn parse_vehicle_id(id: String) -&gt; Result&lt;VehicleId&gt; {\n    VehicleId::new(id)\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#94-use-cow-for-conditional-ownership","title":"9.4. Use <code>Cow</code> for Conditional Ownership","text":"<pre><code>use std::borrow::Cow;\n\npub fn normalize_slug(s: &amp;str) -&gt; Cow&lt;str&gt; {\n    if s.chars().all(|c| c.is_ascii_lowercase() || c == '_') {\n        Cow::Borrowed(s)  // No allocation needed\n    } else {\n        Cow::Owned(s.to_lowercase().replace('-', \"_\"))  // Allocate only if needed\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#95-parallel-processing-with-rayon","title":"9.5. Parallel Processing with Rayon","text":"<p>For CPU-bound work, use <code>rayon</code>:</p> <pre><code>use rayon::prelude::*;\n\npub fn validate_all_vehicles(vehicles: Vec&lt;Vehicle&gt;) -&gt; Vec&lt;Result&lt;(), ValidationError&gt;&gt; {\n    vehicles\n        .par_iter()  // Parallel iterator\n        .map(|v| v.validate())\n        .collect()\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#96-benchmarking","title":"9.6. Benchmarking","text":"<p>Use <code>criterion</code> for benchmarking:</p> <pre><code>// benches/vehicle_benchmark.rs\nuse criterion::{black_box, criterion_group, criterion_main, Criterion};\nuse ev_core::Vehicle;\n\nfn benchmark_vehicle_validation(c: &amp;mut Criterion) {\n    let vehicle = create_test_vehicle();\n\n    c.bench_function(\"validate_vehicle\", |b| {\n        b.iter(|| {\n            vehicle.validate()\n        });\n    });\n}\n\ncriterion_group!(benches, benchmark_vehicle_validation);\ncriterion_main!(benches);\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#10-security-practices","title":"10. Security Practices","text":""},{"location":"api/RUST_GUIDELINES/#101-input-validation","title":"10.1. Input Validation","text":"<p>Always validate untrusted input:</p> <pre><code>pub fn load_vehicle_from_file(path: &amp;Path) -&gt; Result&lt;Vehicle&gt; {\n    // Validate path is within expected directory\n    let canonical_path = path.canonicalize()?;\n    if !canonical_path.starts_with(\"/allowed/directory\") {\n        return Err(SecurityError::InvalidPath.into());\n    }\n\n    // Limit file size\n    let metadata = std::fs::metadata(&amp;canonical_path)?;\n    if metadata.len() &gt; MAX_FILE_SIZE {\n        return Err(SecurityError::FileTooLarge.into());\n    }\n\n    // Parse with size limits\n    let content = std::fs::read_to_string(&amp;canonical_path)?;\n    serde_json::from_str(&amp;content)\n        .map_err(|e| e.into())\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#102-avoid-sql-injection","title":"10.2. Avoid SQL Injection","text":"<p>Use parameterized queries:</p> <pre><code>// Good - parameterized\npub fn find_vehicles_by_make(&amp;self, make: &amp;str) -&gt; Result&lt;Vec&lt;Vehicle&gt;&gt; {\n    let mut stmt = self.conn.prepare(\n        \"SELECT * FROM vehicles WHERE make_slug = ?1\"\n    )?;\n\n    stmt.query_map([make], |row| {\n        // Map row to Vehicle\n    })\n}\n\n// Bad - string concatenation (SQL injection risk)\npub fn find_vehicles_by_make(&amp;self, make: &amp;str) -&gt; Result&lt;Vec&lt;Vehicle&gt;&gt; {\n    let query = format!(\"SELECT * FROM vehicles WHERE make_slug = '{}'\", make);\n    // NEVER DO THIS\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#103-secrets-management","title":"10.3. Secrets Management","text":"<p>Never hardcode secrets:</p> <pre><code>// Good - environment variable\npub fn database_url() -&gt; Result&lt;String&gt; {\n    std::env::var(\"DATABASE_URL\")\n        .context(\"DATABASE_URL environment variable not set\")\n}\n\n// Bad - hardcoded\npub fn database_url() -&gt; String {\n    \"postgresql://user:password123@localhost/db\".to_string()\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#104-dependencies","title":"10.4. Dependencies","text":"<ul> <li>Review dependencies before adding</li> <li>Use <code>cargo audit</code> regularly</li> <li>Pin dependency versions in <code>Cargo.lock</code></li> <li>Prefer well-maintained crates</li> </ul>"},{"location":"api/RUST_GUIDELINES/#11-documentation-standards","title":"11. Documentation Standards","text":""},{"location":"api/RUST_GUIDELINES/#111-module-documentation","title":"11.1. Module Documentation","text":"<p>Every module should have a doc comment:</p> <pre><code>//! Vehicle repository implementations.\n//!\n//! This module provides database access for vehicle entities through\n//! implementations of the `VehicleRepository` trait.\n//!\n//! # Examples\n//!\n//! ```\n//! use ev_core::{Vehicle, VehicleRepository};\n//!\n//! let repo = SqliteVehicleRepository::new(\"vehicles.db\")?;\n//! let vehicle = repo.find_by_id(&amp;id)?;\n//! ```\n\npub mod sqlite;\npub mod postgresql;\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#112-type-documentation","title":"11.2. Type Documentation","text":"<p>Document all public types:</p> <pre><code>/// Represents an electric vehicle with complete specifications.\n///\n/// A `Vehicle` contains all the essential information about an EV including\n/// manufacturer details, battery specifications, charging capabilities, and\n/// performance metrics.\n///\n/// # Examples\n///\n/// ```\n/// use ev_core::{Vehicle, VehicleBuilder};\n///\n/// let vehicle = VehicleBuilder::new()\n///     .make(\"tesla\", \"Tesla\")\n///     .model(\"model_3\", \"Model 3\")\n///     .year(2024)\n///     .build()?;\n/// ```\n#[derive(Debug, Clone, PartialEq, Serialize, Deserialize)]\npub struct Vehicle {\n    /// Vehicle manufacturer information\n    pub make: SlugName,\n\n    /// Vehicle model name and slug\n    pub model: SlugName,\n\n    /// Model year (1900-2100)\n    pub year: Year,\n\n    /// Battery specifications and capabilities\n    pub battery: BatterySpecs,\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#113-function-documentation","title":"11.3. Function Documentation","text":"<p>Document public functions with examples:</p> <pre><code>/// Validates a vehicle against the JSON schema and business rules.\n///\n/// # Errors\n///\n/// Returns `ValidationError` if:\n/// - Required fields are missing\n/// - Values are out of valid range\n/// - Business rules are violated\n///\n/// # Examples\n///\n/// ```\n/// let vehicle = create_test_vehicle();\n/// assert!(validate_vehicle(&amp;vehicle).is_ok());\n/// ```\npub fn validate_vehicle(vehicle: &amp;Vehicle) -&gt; Result&lt;(), ValidationError&gt; {\n    // Implementation\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#114-error-documentation","title":"11.4. Error Documentation","text":"<p>Document error variants:</p> <pre><code>/// Errors that can occur during vehicle validation.\n#[derive(Debug, Error)]\npub enum ValidationError {\n    /// A required field is missing from the vehicle data.\n    ///\n    /// This typically indicates incomplete input data.\n    #[error(\"Missing required field: {field}\")]\n    MissingField {\n        /// The name of the missing field\n        field: String,\n    },\n\n    /// The year value is outside the valid range (1900-2100).\n    #[error(\"Invalid year: {0}. Must be between 1900 and 2100\")]\n    InvalidYear(u16),\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#115-readme-per-crate","title":"11.5. README per Crate","text":"<p>Each crate should have a README.md:</p> <pre><code># ev-core\n\nCore domain types and validation logic for OpenEV Data.\n\n## Features\n\n- Type-safe domain entities\n- Comprehensive validation\n- Zero I/O dependencies\n\n## Usage\n\n```rust\nuse ev_core::{Vehicle, VehicleBuilder};\n\nlet vehicle = VehicleBuilder::new()\n    .make(\"tesla\", \"Tesla\")\n    .build()?;\n```\n\n## Architecture\n\nThis crate forms the Core of the Hexagonal Architecture and has no\ndependencies on I/O, HTTP, or database libraries.\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#12-code-quality-tools","title":"12. Code Quality Tools","text":""},{"location":"api/RUST_GUIDELINES/#121-rustfmt-configuration","title":"12.1. Rustfmt Configuration","text":"<p>Create <code>.rustfmt.toml</code>:</p> <pre><code>edition = \"2024\"\nmax_width = 100\ntab_spaces = 4\nnewline_style = \"Unix\"\nuse_small_heuristics = \"Default\"\nimports_granularity = \"Crate\"\ngroup_imports = \"StdExternalCrate\"\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#122-clippy-configuration","title":"12.2. Clippy Configuration","text":"<p>Create <code>.clippy.toml</code>:</p> <pre><code>cognitive-complexity-threshold = 30\n</code></pre> <p>Run with strict lints:</p> <pre><code>cargo clippy --all-features -- -D warnings \\\n    -W clippy::pedantic \\\n    -W clippy::nursery \\\n    -W clippy::unwrap_used \\\n    -W clippy::expect_used\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#123-allowed-lints-when-necessary","title":"12.3. Allowed Lints (When Necessary)","text":"<pre><code>// At crate level for specific exceptions\n#![allow(clippy::module_name_repetitions)]  // Vehicle in VehicleRepository\n\n// At item level for specific cases\n#[allow(clippy::too_many_arguments)]  // Rare, justified cases\npub fn complex_function(/* many params */) {}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#124-ci-quality-gates","title":"12.4. CI Quality Gates","text":"<p>All code must pass:</p> <pre><code># Format check\ncargo fmt --all -- --check\n\n# Linting\ncargo clippy --all-targets --all-features -- -D warnings\n\n# Tests\ncargo test --all-features\n\n# Documentation\ncargo doc --no-deps --all-features\n\n# Audit\ncargo audit\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#13-common-patterns","title":"13. Common Patterns","text":""},{"location":"api/RUST_GUIDELINES/#131-configuration-management","title":"13.1. Configuration Management","text":"<pre><code>use serde::Deserialize;\n\n#[derive(Debug, Deserialize)]\npub struct Config {\n    pub database_url: String,\n    pub port: u16,\n    #[serde(default = \"default_log_level\")]\n    pub log_level: String,\n}\n\nfn default_log_level() -&gt; String {\n    \"info\".to_string()\n}\n\nimpl Config {\n    pub fn from_env() -&gt; Result&lt;Self&gt; {\n        envy::from_env().context(\"Failed to load configuration from environment\")\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#132-logging","title":"13.2. Logging","text":"<p>Use <code>tracing</code> for structured logging:</p> <pre><code>use tracing::{info, warn, error, debug, instrument};\n\n#[instrument(skip(repository))]\npub async fn load_vehicle(\n    id: &amp;VehicleId,\n    repository: &amp;impl VehicleRepository,\n) -&gt; Result&lt;Vehicle&gt; {\n    debug!(\"Loading vehicle with id: {}\", id);\n\n    let vehicle = repository.find_by_id(id).await?;\n\n    match vehicle {\n        Some(v) =&gt; {\n            info!(\"Successfully loaded vehicle: {} {}\", v.make, v.model);\n            Ok(v)\n        }\n        None =&gt; {\n            warn!(\"Vehicle not found: {}\", id);\n            Err(VehicleError::NotFound)\n        }\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#133-extension-traits","title":"13.3. Extension Traits","text":"<pre><code>// Extend external types with project-specific behavior\npub trait VehicleExt {\n    fn display_name(&amp;self) -&gt; String;\n    fn is_recent(&amp;self) -&gt; bool;\n}\n\nimpl VehicleExt for Vehicle {\n    fn display_name(&amp;self) -&gt; String {\n        format!(\"{} {} {}\", self.year, self.make.name, self.model.name)\n    }\n\n    fn is_recent(&amp;self) -&gt; bool {\n        let current_year = chrono::Utc::now().year() as u16;\n        self.year.0 &gt;= current_year - 3\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#134-type-state-pattern","title":"13.4. Type State Pattern","text":"<pre><code>// Different states represented by types\npub struct Unvalidated;\npub struct Validated;\n\npub struct Vehicle&lt;S&gt; {\n    data: VehicleData,\n    _state: PhantomData&lt;S&gt;,\n}\n\nimpl Vehicle&lt;Unvalidated&gt; {\n    pub fn new(data: VehicleData) -&gt; Self {\n        Self { data, _state: PhantomData }\n    }\n\n    pub fn validate(self) -&gt; Result&lt;Vehicle&lt;Validated&gt;, ValidationError&gt; {\n        // Validation logic\n        Ok(Vehicle { data: self.data, _state: PhantomData })\n    }\n}\n\nimpl Vehicle&lt;Validated&gt; {\n    // Only validated vehicles can be saved\n    pub fn save(&amp;self, repo: &amp;mut impl VehicleRepository) -&gt; Result&lt;()&gt; {\n        repo.save(&amp;self.data)\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#14-anti-patterns-to-avoid","title":"14. Anti-Patterns to Avoid","text":""},{"location":"api/RUST_GUIDELINES/#141-stringly-typed-code","title":"14.1. Stringly-Typed Code","text":"<pre><code>// Bad - relying on strings\nfn get_vehicle_field(vehicle: &amp;Vehicle, field: &amp;str) -&gt; Option&lt;String&gt; {\n    match field {\n        \"make\" =&gt; Some(vehicle.make.clone()),\n        \"model\" =&gt; Some(vehicle.model.clone()),\n        _ =&gt; None,\n    }\n}\n\n// Good - use enums\nenum VehicleField {\n    Make,\n    Model,\n    Year,\n}\n\nfn get_vehicle_field(vehicle: &amp;Vehicle, field: VehicleField) -&gt; String {\n    match field {\n        VehicleField::Make =&gt; vehicle.make.clone(),\n        VehicleField::Model =&gt; vehicle.model.clone(),\n        VehicleField::Year =&gt; vehicle.year.to_string(),\n    }\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#142-overusing-clone","title":"14.2. Overusing <code>clone()</code>","text":"<pre><code>// Bad - unnecessary clone\npub fn format_vehicles(vehicles: &amp;[Vehicle]) -&gt; Vec&lt;String&gt; {\n    vehicles.iter()\n        .map(|v| v.clone())  // Unnecessary!\n        .map(|v| format!(\"{} {}\", v.make, v.model))\n        .collect()\n}\n\n// Good - just borrow\npub fn format_vehicles(vehicles: &amp;[Vehicle]) -&gt; Vec&lt;String&gt; {\n    vehicles.iter()\n        .map(|v| format!(\"{} {}\", v.make, v.model))\n        .collect()\n}\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#143-god-objects","title":"14.3. God Objects","text":"<pre><code>// Bad - one type does everything\npub struct VehicleManager {\n    pub data: Vehicle,\n    pub db_connection: Connection,\n    pub http_client: Client,\n    pub cache: Cache,\n    // ... more responsibilities\n}\n\n// Good - separate concerns\npub struct Vehicle { /* data only */ }\npub struct VehicleRepository { /* persistence */ }\npub struct VehicleService { /* business logic */ }\npub struct VehicleCache { /* caching */ }\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#144-ignoring-results","title":"14.4. Ignoring Results","text":"<pre><code>// Bad - silently ignoring errors\nlet _ = vehicle.validate();  // Error ignored!\n\n// Good - handle or propagate\nvehicle.validate()?;\n\n// Or explicitly acknowledge\nlet _ = vehicle.validate()\n    .map_err(|e| eprintln!(\"Validation warning: {}\", e));\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#145-using-unwrap-in-production-code","title":"14.5. Using <code>unwrap()</code> in Production Code","text":"<pre><code>// Bad - can panic\nlet vehicle = repository.find_by_id(&amp;id).unwrap();\n\n// Good - handle error\nlet vehicle = repository.find_by_id(&amp;id)?;\n\n// Or provide context\nlet vehicle = repository.find_by_id(&amp;id)\n    .expect(\"Vehicle must exist at this point\");  // Only if truly infallible\n</code></pre>"},{"location":"api/RUST_GUIDELINES/#summary","title":"Summary","text":"<p>Following these guidelines ensures:</p> <ol> <li>Correctness: Type safety prevents invalid states</li> <li>Maintainability: Clear separation of concerns and consistent patterns</li> <li>Performance: Efficient use of Rust's zero-cost abstractions</li> <li>Security: Proper input validation and secure practices</li> <li>Testability: Dependency injection and trait-based design</li> <li>Documentation: Self-documenting code with comprehensive docs</li> </ol> <p>When in doubt, prioritize: 1. Correctness over performance 2. Clarity over cleverness 3. Simplicity over optimization</p> <p>All code submitted to the project will be reviewed against these guidelines.</p> <p>Last Updated: 2025-12-25</p>"},{"location":"api/TESTING/","title":"Testing Guide","text":"<p>This guide covers test organization, execution, and best practices for the OpenEV Data API project.</p>"},{"location":"api/TESTING/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/                    # Unit tests mirroring source structure\n\u2502   \u251c\u2500\u2500 ev_core/\n\u2502   \u2502   \u251c\u2500\u2500 domain/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 battery_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 body_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 charging_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 enums_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 metadata_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 powertrain_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 range_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 sources_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 types_test.rs\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 vehicle_test.rs\n\u2502   \u2502   \u251c\u2500\u2500 error_test.rs\n\u2502   \u2502   \u2514\u2500\u2500 validation_test.rs\n\u2502   \u251c\u2500\u2500 ev_etl/\n\u2502   \u2502   \u251c\u2500\u2500 ingest/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 parser_test.rs\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 reader_test.rs\n\u2502   \u2502   \u251c\u2500\u2500 merge/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 strategy_test.rs\n\u2502   \u2502   \u251c\u2500\u2500 output/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 csv_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 json_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 postgresql_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 sqlite_test.rs\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 statistics_test.rs\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 xml_test.rs\n\u2502   \u2502   \u251c\u2500\u2500 cli_test.rs\n\u2502   \u2502   \u251c\u2500\u2500 error_test.rs\n\u2502   \u2502   \u2514\u2500\u2500 validate_test.rs\n\u2502   \u2514\u2500\u2500 ev_server/\n\u2502       \u251c\u2500\u2500 api/\n\u2502       \u2502   \u251c\u2500\u2500 health_test.rs\n\u2502       \u2502   \u251c\u2500\u2500 makes_test.rs\n\u2502       \u2502   \u251c\u2500\u2500 search_test.rs\n\u2502       \u2502   \u2514\u2500\u2500 vehicles_test.rs\n\u2502       \u251c\u2500\u2500 db/\n\u2502       \u2502   \u2514\u2500\u2500 sqlite_test.rs\n\u2502       \u251c\u2500\u2500 config_test.rs\n\u2502       \u251c\u2500\u2500 error_test.rs\n\u2502       \u2514\u2500\u2500 models_test.rs\n\u251c\u2500\u2500 e2e/                     # End-to-end API tests (one file per endpoint)\n\u2502   \u251c\u2500\u2500 health/\n\u2502   \u2502   \u2514\u2500\u2500 health_check_test.rs\n\u2502   \u251c\u2500\u2500 makes/\n\u2502   \u2502   \u251c\u2500\u2500 list_makes_test.rs\n\u2502   \u2502   \u2514\u2500\u2500 list_models_test.rs\n\u2502   \u251c\u2500\u2500 search/\n\u2502   \u2502   \u2514\u2500\u2500 search_vehicles_test.rs\n\u2502   \u2514\u2500\u2500 vehicles/\n\u2502       \u251c\u2500\u2500 list_vehicles_test.rs\n\u2502       \u251c\u2500\u2500 get_vehicle_test.rs\n\u2502       \u251c\u2500\u2500 get_vehicle_by_code_test.rs\n\u2502       \u2514\u2500\u2500 get_vehicle_variants_test.rs\n\u251c\u2500\u2500 integration/             # Integration tests (cross-component)\n\u2502   \u251c\u2500\u2500 etl_pipeline_test.rs\n\u2502   \u251c\u2500\u2500 database_test.rs\n\u2502   \u2514\u2500\u2500 api_database_test.rs\n\u2514\u2500\u2500 others/                  # Other tests\n    \u2514\u2500\u2500 fixtures/\n        \u2514\u2500\u2500 sample_data.json\n</code></pre>"},{"location":"api/TESTING/#test-categories","title":"Test Categories","text":""},{"location":"api/TESTING/#unit-tests-testsunit","title":"Unit Tests (<code>tests/unit/</code>)","text":"<p>Test individual functions and modules in isolation.</p> <p>Structure: Mirrors the <code>crates/</code> directory structure. Each source file has a corresponding <code>_test.rs</code> file.</p> <p>Coverage: 100% of public functions and critical private functions.</p> <p>Example: <pre><code>#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_parse_vehicle_json() {\n        let json = r#\"{\"make\": {\"slug\": \"tesla\"}}\"#;\n        let result = parse_vehicle(json);\n        assert!(result.is_ok());\n    }\n}\n</code></pre></p>"},{"location":"api/TESTING/#e2e-tests-testse2e","title":"E2E Tests (<code>tests/e2e/</code>)","text":"<p>Test complete API workflows from request to response.</p> <p>Structure: Organized by endpoint group (<code>health/</code>, <code>makes/</code>, <code>search/</code>, <code>vehicles/</code>). Each endpoint has its own test file testing all success and error scenarios.</p> <p>Required scenarios per endpoint: - \u2705 Success response (200) - \u274c Not Found (404) where applicable - \u274c Bad Request (400) where applicable - \u274c Internal Error (500) simulation</p> <p>Example: <pre><code>#[tokio::test]\nasync fn test_get_vehicle_success() {\n    let response = client.get(\"/api/v1/vehicles/tesla/model_3/2024\").await;\n    assert_eq!(response.status(), 200);\n}\n\n#[tokio::test]\nasync fn test_get_vehicle_not_found() {\n    let response = client.get(\"/api/v1/vehicles/invalid/invalid/9999\").await;\n    assert_eq!(response.status(), 404);\n    let body: ProblemDetails = response.json().await;\n    assert!(body.error_type.contains(\"not-found\"));\n}\n</code></pre></p>"},{"location":"api/TESTING/#integration-tests-testsintegration","title":"Integration Tests (<code>tests/integration/</code>)","text":"<p>Test component interactions and data flows.</p> <p>Focus: - ETL pipeline end-to-end - Database + API integration - Cross-crate functionality</p>"},{"location":"api/TESTING/#other-tests-testsothers","title":"Other Tests (<code>tests/others/</code>)","text":"<p>Tests that don't fit other categories: - Performance benchmarks - Test fixtures - Helper utilities</p>"},{"location":"api/TESTING/#running-tests","title":"Running Tests","text":""},{"location":"api/TESTING/#all-tests","title":"All Tests","text":"<pre><code>cargo test --workspace\n</code></pre>"},{"location":"api/TESTING/#specific-category","title":"Specific Category","text":"<pre><code># Unit tests only\ncargo test --test unit\n\n# E2E tests only\ncargo test --test e2e\n\n# Integration tests only\ncargo test --test integration\n</code></pre>"},{"location":"api/TESTING/#specific-crate","title":"Specific Crate","text":"<pre><code>cargo test -p ev-core\ncargo test -p ev-etl\ncargo test -p ev-server\n</code></pre>"},{"location":"api/TESTING/#with-output","title":"With Output","text":"<pre><code>cargo test --all -- --nocapture\n</code></pre>"},{"location":"api/TESTING/#watch-mode","title":"Watch Mode","text":"<pre><code>cargo watch -x \"test --all\"\n</code></pre>"},{"location":"api/TESTING/#test-conventions","title":"Test Conventions","text":"<ol> <li>Naming: <code>test_&lt;function_name&gt;_&lt;scenario&gt;</code></li> <li>Assertions: Use descriptive assertions with messages</li> <li>Fixtures: Place in <code>tests/others/fixtures/</code></li> <li>Database: Use in-memory SQLite for unit tests</li> <li>HTTP Client: Use <code>reqwest</code> or test server utilities for e2e</li> </ol>"},{"location":"api/TESTING/#coverage","title":"Coverage","text":"<p>Generate coverage report using <code>cargo-llvm-cov</code> (Recommended):</p> <pre><code># Install the tool\ncargo install cargo-llvm-cov\n\n# Generate text summary\ncargo llvm-cov --workspace\n\n# Generate HTML report (Interactive)\ncargo llvm-cov --workspace --html\n# Report will be at: target/llvm-cov/html/index.html\n\n# Generate LCOV info (for CI)\ncargo llvm-cov --workspace --lcov --output-path lcov.info\n</code></pre>"},{"location":"api/TESTING/#adding-new-tests","title":"Adding New Tests","text":"<ol> <li>Create file in appropriate directory following structure</li> <li>Import the module under test</li> <li>Write tests covering success and error cases</li> <li>Run <code>cargo test</code> to verify</li> <li>Update this guide if adding new test categories</li> </ol>"},{"location":"dataset/","title":"Overview","text":""},{"location":"dataset/#openev-data-dataset","title":"OpenEV Data Dataset","text":"<p>A canonical, open dataset of electric vehicle specifications following a Layered Canonical Dataset (LCD) architecture.</p> <p> </p>"},{"location":"dataset/#overview","title":"Overview","text":"<p>This repository provides a structured, versioned, and community-maintained dataset of electric vehicle specifications. Vehicle data is authored as layered JSON fragments and compiled into canonical, fully-expanded vehicle records suitable for analysis, comparison, and integration.</p>"},{"location":"dataset/#documentation","title":"Documentation","text":""},{"location":"dataset/#getting-started","title":"Getting Started","text":"<ul> <li>How to Consume \u2014 Complete guide on using the dataset in all available formats with examples</li> </ul>"},{"location":"dataset/#repository-documentation","title":"Repository Documentation","text":"<ul> <li>Architecture \u2014 Repository architecture, layered data model, build process, and authoring rules</li> <li>Schema Reference \u2014 Complete field-by-field documentation of the vehicle data schema</li> <li>Contributing Vehicles \u2014 Step-by-step guide to add new vehicles and validate changes</li> </ul>"},{"location":"dataset/#project-governance","title":"Project Governance","text":"<ul> <li>Getting Started \u2014 How to set up the complete development environment with all repositories</li> <li>Contributing Guide \u2014 How to contribute, data quality standards, and commit message guidelines</li> <li>Code of Conduct \u2014 Community standards and expected behavior</li> </ul>"},{"location":"dataset/#data-coverage","title":"Data Coverage","text":"<p>This dataset aims to cover: - Vehicle identity: Make, model, year, trim, and variant configurations - Battery system: Chemistry, capacity (gross/net), voltage, cell/module count, thermal management, warranty, preconditioning - Charging infrastructure: Charge ports (Type 1, Type 2, CCS1, CCS2, NACS, CHAdeMO, GB/T), location, and features - Charging capabilities: AC (power, phases, onboard charger), DC fast charging (peak power, voltage class, curves, protocols) - Bidirectional charging (V2X): V2L (Vehicle-to-Load), V2H (Vehicle-to-Home), V2G (Vehicle-to-Grid) - Range and efficiency: Rated cycles (WLTP, EPA, NEDC, CLTC, JC08), real-world estimates, energy consumption - Powertrain: Motor configuration, power, torque, drivetrain, transmission - Performance: Acceleration (0-100 km/h, 0-60 mph), top speed, quarter mile - Physical specifications: Dimensions, weight, cargo capacity, towing capacity - Wheels and tires: Sizes, recommended pressures - Market data: Availability status, markets (by country), pricing (MSRP) - Software: Operating system, OTA update support - Sources and metadata: Verifiable sources, data quality indicators, contributors</p>"},{"location":"dataset/#use-cases","title":"Use Cases","text":"<ul> <li>Research: EV market analysis, charging infrastructure planning</li> <li>Applications: EV comparison tools, range calculators, charging time estimators</li> <li>APIs: Backend data source for automotive applications</li> <li>Education: Learning about EV technology and specifications</li> </ul>"},{"location":"dataset/#quick-start","title":"Quick Start","text":""},{"location":"dataset/#download-latest-release","title":"Download Latest Release","text":"<pre><code>LATEST_TAG=$(curl -s https://api.github.com/repos/open-ev-data/open-ev-data-dataset/releases/latest | jq -r .tag_name)\ncurl -L -o open-ev-data.json \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.json\"\n</code></pre>"},{"location":"dataset/#run-with-docker-compose-latest-release-version","title":"Run with Docker Compose Latest Release Version","text":"<p>Start the complete stack with API and pre-populated database:</p> <pre><code>docker-compose up -d\n</code></pre> <p>Access the API at <code>http://localhost:8080/api/v1/vehicles</code></p> <p>See How to Consume for detailed usage examples in all formats.</p>"},{"location":"dataset/#license","title":"License","text":"<p>This project is licensed under the Community Data License Agreement - Permissive, Version 2.0 (CDLA-Permissive-2.0).</p> <p>In summary: - Free to use, modify, and share - No restrictions on results or derivatives - No warranty provided</p> <p>See LICENCE for full terms.</p>"},{"location":"dataset/#acknowledgments","title":"Acknowledgments","text":"<p>This project is inspired by the need for open, structured, and verifiable EV data. Special thanks to all contributors who help maintain and improve this dataset.</p>"},{"location":"dataset/ARCHITECTURE/","title":"ARCHITECTURE \u2014 OpenEV Data Dataset","text":""},{"location":"dataset/ARCHITECTURE/#1-repository-architecture","title":"1. Repository Architecture","text":""},{"location":"dataset/ARCHITECTURE/#11-architectural-style-layered-canonical-dataset-lcd","title":"1.1. Architectural Style: Layered Canonical Dataset (LCD)","text":"<p>This repository follows a Layered Canonical Dataset (LCD) architecture: a directory-driven, inheritance-based data model in which vehicle specifications are authored as layered JSON fragments and compiled into canonical, fully-expanded vehicle records.</p> <p>Why LCD - Eliminates repetition: shared attributes live in <code>base.json</code> and are inherited by year and variant files. - Deterministic builds: compilation follows a strict precedence order, producing the same output for the same input. - Low-friction contributions: contributors edit small, localized JSON files instead of a monolithic dataset. - Supports variants cleanly: a single base vehicle can generate multiple canonical vehicles (e.g., a higher-range variant). - Global correctness: a strict contract (schema + units + validation rules) enforces consistency across markets.</p>"},{"location":"dataset/ARCHITECTURE/#12-repository-layout-source-of-truth","title":"1.2. Repository Layout (Source of Truth)","text":"<p>The dataset is authored under <code>src/</code> with this logical structure:</p> <pre><code>src/\n  &lt;make_slug&gt;/\n    &lt;model_slug&gt;/\n      base.json\n      &lt;year&gt;/\n        &lt;vehicle_slug&gt;.json\n        &lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json\n        &lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json\n        ...\n</code></pre> <p>Example</p> <pre><code>src/\n  bmw/\n    ix1/\n      base.json\n      2024/\n        ix1.json\n        ix1_350_autonomy.json\n      2025/\n        ...\n</code></pre>"},{"location":"dataset/ARCHITECTURE/#13-buildcompilation-model-canonicalization","title":"1.3. Build/Compilation Model (Canonicalization)","text":"<p>The build process produces canonical vehicle records by applying a merge pipeline:</p> <p>Merge Precedence (lowest \u2192 highest)</p> <ol> <li><code>src/&lt;make&gt;/&lt;model&gt;/base.json</code> (model-level defaults)</li> <li><code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;.json</code> (year base vehicle)</li> <li><code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code> (variant override, optional)</li> </ol> <p>Output cardinality</p> <ul> <li>Each <code>&lt;vehicle_slug&gt;.json</code> produces one canonical vehicle (the year base).</li> <li>Each matching <code>&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code> produces one additional canonical vehicle.</li> </ul>"},{"location":"dataset/ARCHITECTURE/#14-merge-rules-deterministic","title":"1.4. Merge Rules (Deterministic)","text":"<p>To guarantee predictable compilation:</p> <ul> <li>Objects: deep-merged by key.</li> <li>Scalars (string/number/bool): overridden by the higher-precedence layer.</li> <li>Arrays: replaced entirely by the higher-precedence layer (no implicit concatenation).</li> <li>Nulls: not allowed as a \"delete\" mechanism. If a value must be removed, the schema must represent that state explicitly.</li> <li>Unknown keys: forbidden (schema validation fails).</li> </ul>"},{"location":"dataset/ARCHITECTURE/#15-naming-and-slugs","title":"1.5. Naming and Slugs","text":"<p>Folder slugs (<code>&lt;make_slug&gt;</code>, <code>&lt;model_slug&gt;</code>) and file slugs (<code>&lt;vehicle_slug&gt;</code>, <code>&lt;variant_slug&gt;</code>) must:</p> <ul> <li>be lowercase ASCII</li> <li>use <code>a-z</code>, <code>0-9</code>, and underscore <code>_</code> only</li> <li>not start or end with <code>_</code></li> <li>be stable over time (renames are breaking changes)</li> </ul> <p>A variant file name must match its internal <code>variant.slug</code>.</p>"},{"location":"dataset/ARCHITECTURE/#2-canonical-vehicle-record-contract","title":"2. Canonical Vehicle Record Contract","text":"<p>This section defines the contract for fully-expanded JSON vehicle records produced by compilation.</p> <p>For complete documentation of all fields, data types, and validation rules, see SCHEMA.md.</p>"},{"location":"dataset/ARCHITECTURE/#21-global-rules","title":"2.1. Global Rules","text":"<p>Key style * JSON keys are <code>snake_case</code>. * All semantic identifiers (make/model/trim/variant) use slugs in addition to human-readable names.</p> <p>Units All measures must be stored in SI or explicitly specified units. See SCHEMA.md for the complete units convention.</p> <p>Numbers * Store numeric values as JSON numbers (not strings). * Use <code>.</code> as decimal separator.</p> <p>Sources * Every canonical record must include at least one verifiable source reference in <code>sources</code>. * If a variant changes a spec, the variant must provide a source covering that change. * If values depend on conditions (temperature, wheel size, market), sources must reflect those conditions.</p>"},{"location":"dataset/ARCHITECTURE/#22-identifier-policy-canonical","title":"2.2. Identifier Policy (Canonical)","text":"<p>Each canonical vehicle record must have a stable identifier:</p> <ul> <li><code>unique_code</code>: an optional internal unique code or database key.</li> <li> <p>Recommended format for external usage (normative for canonical output):</p> </li> <li> <p>Base vehicle: <code>oed:&lt;make_slug&gt;:&lt;model_slug&gt;:&lt;year&gt;:&lt;trim_slug&gt;</code></p> </li> <li>Variant vehicle: <code>oed:&lt;make_slug&gt;:&lt;model_slug&gt;:&lt;year&gt;:&lt;trim_slug&gt;:&lt;variant_slug&gt;</code></li> </ul> <p>Where:</p> <ul> <li><code>trim_slug</code> is a stable slug for the trim/grade.</li> <li><code>variant_slug</code> is a stable slug for the variant.</li> </ul>"},{"location":"dataset/ARCHITECTURE/#23-required-fields-root-level","title":"2.3. Required Fields (Root Level)","text":"<p>The following fields are required at the root level of every canonical vehicle record:</p> <ul> <li><code>schema_version</code>: \"1.0.0\"</li> <li><code>make</code>: object with <code>slug</code> and <code>name</code></li> <li><code>model</code>: object with <code>slug</code> and <code>name</code></li> <li><code>year</code>: integer (model year)</li> <li><code>trim</code>: object with <code>slug</code> and <code>name</code></li> <li><code>vehicle_type</code>: classification string</li> <li><code>powertrain</code>: object with <code>drivetrain</code> (and optionally motors, power, etc.)</li> <li><code>battery</code>: object (must include at least one of <code>pack_capacity_kwh_gross</code> or <code>pack_capacity_kwh_net</code>)</li> <li><code>charge_ports</code>: array with at least one port</li> <li><code>charging</code>: object (should include <code>ac</code> and/or <code>dc</code> specifications)</li> <li><code>range</code>: object with <code>rated</code> array (at least one rated range entry)</li> <li><code>sources</code>: array with at least one verifiable source</li> </ul> <p>For detailed specifications of all fields (required and optional), see SCHEMA.md.</p>"},{"location":"dataset/ARCHITECTURE/#3-authoring-rules-base-year-and-variant-layers","title":"3. Authoring Rules: Base, Year, and Variant Layers","text":"<p>This repository is authored in layers, but compiled into canonical full records.</p>"},{"location":"dataset/ARCHITECTURE/#31-model-base-srcmakemodelbasejson","title":"3.1. Model Base (<code>src/&lt;make&gt;/&lt;model&gt;/base.json</code>)","text":"<p>Purpose</p> <ul> <li>Store attributes that are stable across years and trims (or that rarely change), minimizing duplication.</li> </ul> <p>Allowed content (recommended)</p> <ul> <li><code>make</code>, <code>model</code></li> <li><code>vehicle_type</code>, <code>body</code> (if stable)</li> <li><code>dimensions</code> (if stable)</li> <li>charge-port connector defaults (only if stable)</li> <li>high-level links and references</li> </ul> <p>Not recommended in model base</p> <ul> <li><code>year</code></li> <li><code>range</code>, <code>pricing</code>, <code>availability</code> (usually year/market specific)</li> <li><code>performance</code> figures (often change)</li> <li>charge curve / charge times (often change by year, firmware, battery supplier, market)</li> <li>anything that is demonstrably year-dependent</li> </ul>"},{"location":"dataset/ARCHITECTURE/#32-year-base-vehicle-srcmakemodelyearvehicle_slugjson","title":"3.2. Year Base Vehicle (<code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;.json</code>)","text":"<p>Purpose</p> <ul> <li>Defines the canonical base vehicle for a given year (and typically a trim/grade).</li> </ul> <p>Rules</p> <ul> <li>Must include: <code>year</code>, <code>trim</code>, <code>battery</code>, <code>charge_ports</code>, <code>charging</code>, <code>range</code>, and <code>sources</code>.</li> <li>Must compile into a valid canonical vehicle record after merging with model base.</li> <li>File name <code>&lt;vehicle_slug&gt;.json</code> is the variant root for that year.</li> </ul>"},{"location":"dataset/ARCHITECTURE/#33-variant-vehicle-srcmakemodelyearvehicle_slug_variant_slugjson","title":"3.3. Variant Vehicle (<code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code>)","text":"<p>A variant represents a distinct, consumer-relevant configuration that should become a separate canonical record (e.g., higher-range battery option, different charge port, higher DC peak, different protocol support).</p> <p>Mandatory rules</p> <ol> <li> <p>The filename must be:</p> </li> <li> <p><code>&lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json</code></p> </li> <li> <p>The JSON must include:</p> </li> <li> <p><code>variant.slug == \"&lt;variant_slug&gt;\"</code></p> </li> <li><code>variant.name</code> (human label)</li> <li> <p>The file must be a delta:</p> </li> <li> <p>Include only fields that differ from the year base vehicle (plus <code>variant</code> and any required sources).</p> </li> <li>The variant must include sources covering the changed claims.</li> </ol> <p>Variant intent (recommended)</p> <ul> <li> <p>Provide <code>variant.kind</code> to classify the nature of the change, such as:</p> </li> <li> <p><code>range_upgrade</code>, <code>battery_upgrade</code>, <code>charging_upgrade</code>, <code>market_specific</code>, <code>software_unlock</code>, <code>wheel_package</code>, <code>v2x_enabled</code></p> </li> </ul>"},{"location":"dataset/ARCHITECTURE/#34-variant-examples-pattern","title":"3.4. Variant Examples (Pattern)","text":""},{"location":"dataset/ARCHITECTURE/#341-year-base-vehicle-ix1json-minimal-illustration","title":"3.4.1. Year base vehicle (<code>ix1.json</code>) \u2014 minimal illustration","text":"<pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"year\": 2024,\n  \"trim\": { \"slug\": \"base\", \"name\": \"Base\" },\n  \"charge_ports\": [\n    {\n      \"kind\": \"combo\",\n      \"connector\": \"ccs2\",\n      \"location\": { \"side\": \"right\", \"position\": \"rear\" }\n    }\n  ],\n  \"powertrain\": {\n    \"drivetrain\": \"awd\",\n    \"motors\": [\n      { \"position\": \"front\", \"power_kw\": 100 },\n      { \"position\": \"rear\", \"power_kw\": 140 }\n    ],\n    \"system_power_kw\": 230\n  },\n  \"battery\": { \"pack_capacity_kwh_net\": 64.7, \"thermal_management\": \"liquid\" },\n  \"charging\": {\n    \"ac\": { \"max_power_kw\": 11.0, \"phases\": 3 },\n    \"dc\": { \"max_power_kw\": 130.0, \"architecture_voltage_class\": \"400v\" },\n    \"protocols\": { \"dc\": [\"din_70121\", \"iso_15118_2\"], \"plug_and_charge\": true }\n  },\n  \"range\": {\n    \"rated\": [{ \"cycle\": \"wltp\", \"range_km\": 438 }]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Official Specifications\",\n      \"url\": \"https://example.com/specs\",\n      \"accessed_at\": \"2025-12-24T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"dataset/ARCHITECTURE/#342-variant-ix1_350_autonomyjson-delta-illustration","title":"3.4.2. Variant (<code>ix1_350_autonomy.json</code>) \u2014 delta illustration","text":"<pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"variant\": {\n    \"slug\": \"350_autonomy\",\n    \"name\": \"350 Autonomy\",\n    \"kind\": \"range_upgrade\",\n    \"notes\": \"Higher autonomy configuration for this model year.\"\n  },\n  \"range\": {\n    \"rated\": [{ \"cycle\": \"wltp\", \"range_km\": 350 }]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Variant Range Statement\",\n      \"url\": \"https://example.com/variant-range\",\n      \"accessed_at\": \"2025-12-24T00:00:00Z\"\n    }\n  ]\n}\n</code></pre> <p>Compilation outcome</p> <ul> <li> <p>Produces:</p> </li> <li> <p>Base canonical vehicle (from <code>ix1.json</code>)</p> </li> <li>Variant canonical vehicle (merged <code>base.json</code> + <code>ix1.json</code> + <code>ix1_350_autonomy.json</code>)</li> </ul>"},{"location":"dataset/ARCHITECTURE/#35-when-a-variant-must-become-a-new-vehicle-record","title":"3.5. When a \"Variant\" Must Become a New Vehicle Record","text":"<p>A change should be modeled as a separate canonical vehicle record (variant) when it impacts at least one of:</p> <ul> <li>range rating (any test cycle)</li> <li>battery capacity (gross/net), voltage class, or usable SOC window</li> <li>drivetrain or motor configuration</li> <li>charging capability (AC/DC power limits, connector, voltage/current limits)</li> <li>charging protocols / Plug&amp;Charge support (interoperability changes)</li> <li>DC charge curve or charge-time table (material changes)</li> <li>V2X capability (V2L/V2H/V2G support, max power, protocol/connector)</li> <li>official performance metrics (0\u2013100, top speed)</li> <li>regulatory classification impacting consumer comparison</li> </ul> <p>Minor changes that do not affect key specs (e.g., infotainment-only changes) should be stored as notes and not as variants.</p>"},{"location":"dataset/ARCHITECTURE/#4-professional-data-quality-requirements","title":"4. Professional Data Quality Requirements","text":"<ul> <li>No unverifiable claims: every meaningful spec must be backed by at least one source.</li> <li>Market ambiguity must be explicit: if a spec is market-limited, specify <code>markets</code>.</li> <li>Avoid marketing ambiguity: prefer numeric, test-cycle-qualified values over promotional claims.</li> <li>Prefer net capacity when available: if both exist, store both gross and net.</li> <li>Charging data must declare context: charge times and curves must disclose SOC window and conditions when possible.</li> <li>Keep variants minimal: variants are deltas, not full copies.</li> </ul>"},{"location":"dataset/ARCHITECTURE/#5-build-and-validation-process","title":"5. Build and Validation Process","text":""},{"location":"dataset/ARCHITECTURE/#51-compilation-pipeline-future","title":"5.1. Compilation Pipeline (Future)","text":"<p>The repository will provide tooling to:</p> <ol> <li>Discover all vehicle files in <code>src/</code></li> <li>Merge layers according to precedence rules</li> <li>Validate against <code>schema.json</code></li> <li>Generate canonical output files</li> <li>Export to various formats (JSON, CSV, SQL, etc.)</li> </ol>"},{"location":"dataset/ARCHITECTURE/#52-validation","title":"5.2. Validation","text":"<p>All canonical vehicle records must:</p> <ul> <li>Pass JSON Schema validation against <code>schema.json</code></li> <li>Have at least one source</li> <li>Have at least one rated range entry</li> <li>Have at least one charge port</li> <li>Have battery capacity (gross or net)</li> <li>Follow naming conventions for slugs</li> </ul>"},{"location":"dataset/ARCHITECTURE/#6-summary-normative","title":"6. Summary (Normative)","text":"<ul> <li>Author data in layers: model base \u2192 year base \u2192 year variants.</li> <li>Compile deterministically using strict merge rules (objects merge, scalars override, arrays replace).</li> <li>Canonical output must match the full JSON contract defined in <code>schema.json</code> and documented in SCHEMA.md.</li> <li>Variants must be explicit, minimal, source-backed deltas that produce separate vehicles.</li> <li>Charging is first-class: ports, AC/DC limits, protocols, curves, times, and V2X can be represented for global compatibility.</li> <li>Data quality is paramount: every spec must be verifiable, market-specific data must be explicit, and ambiguity must be minimized.</li> </ul> <p>For complete field-by-field documentation of the schema, see SCHEMA.md.</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/","title":"Contributing Vehicles","text":"<p>This guide explains how to add new vehicles to the dataset and validate your changes.</p> <p>For architecture details and merge rules, see ARCHITECTURE.md. For complete field documentation, see SCHEMA.md.</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker installed and running</li> <li>Node.js 22.14.0+ (for npm scripts)</li> <li>Basic understanding of JSON format</li> </ul>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#directory-structure","title":"Directory Structure","text":"<p>Vehicles are organized under <code>src/</code> following the Layered Canonical Dataset (LCD) architecture:</p> <pre><code>src/\n  &lt;make_slug&gt;/\n    &lt;model_slug&gt;/\n      base.json                           # Model-level defaults\n      &lt;year&gt;/\n        &lt;model_slug&gt;.json                 # Year base vehicle\n        &lt;model_slug&gt;_&lt;variant_slug&gt;.json  # Variant (optional)\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#naming-conventions","title":"Naming Conventions","text":"<p>All folder and file names (slugs) must:</p> <ul> <li>Be lowercase ASCII</li> <li>Use only <code>a-z</code>, <code>0-9</code>, and underscore <code>_</code></li> <li>Not start or end with <code>_</code></li> </ul>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#step-1-create-the-directory-structure","title":"Step 1: Create the Directory Structure","text":"<p>For a new manufacturer and model:</p> <pre><code>src/\n  tesla/                    # &lt;make_slug&gt;\n    model_3/                # &lt;model_slug&gt;\n      base.json\n      2024/\n        model_3.json\n</code></pre> <p>For an existing manufacturer with a new model, add only the model directory.</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#step-2-create-the-model-base-file","title":"Step 2: Create the Model Base File","text":"<p>The <code>base.json</code> file contains attributes shared across all years and trims.</p> <p>Location: <code>src/&lt;make&gt;/&lt;model&gt;/base.json</code></p> <p>Include: - <code>$schema</code> (path to schema.json) - <code>schema_version</code> - <code>make</code> (slug and name) - <code>model</code> (slug and name) - <code>vehicle_type</code> - <code>body</code> (if consistent across years) - <code>dimensions</code> (if consistent across years)</p> <p>Example (<code>src/tesla/model_3/base.json</code>):</p> <pre><code>{\n  \"$schema\": \"../../../schema.json\",\n  \"schema_version\": \"1.0.0\",\n  \"make\": {\n    \"slug\": \"tesla\",\n    \"name\": \"Tesla\"\n  },\n  \"model\": {\n    \"slug\": \"model_3\",\n    \"name\": \"Model 3\"\n  },\n  \"vehicle_type\": \"passenger_car\",\n  \"body\": {\n    \"style\": \"sedan\",\n    \"doors\": 4,\n    \"seats\": 5\n  }\n}\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#step-3-create-the-year-vehicle-file","title":"Step 3: Create the Year Vehicle File","text":"<p>The year file contains specifications for a specific model year.</p> <p>Location: <code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;model_slug&gt;.json</code></p> <p>Required fields (after merge with base.json): - <code>schema_version</code> - <code>make</code>, <code>model</code>, <code>year</code>, <code>trim</code> - <code>vehicle_type</code> - <code>powertrain</code> (with <code>drivetrain</code>) - <code>battery</code> (with <code>pack_capacity_kwh_net</code> or <code>pack_capacity_kwh_gross</code>) - <code>charge_ports</code> (at least one) - <code>charging</code> - <code>range</code> (at least one rated entry) - <code>sources</code> (at least one verifiable source)</p> <p>Example (<code>src/tesla/model_3/2024/model_3.json</code>):</p> <pre><code>{\n  \"$schema\": \"../../../../schema.json\",\n  \"schema_version\": \"1.0.0\",\n  \"year\": 2024,\n  \"trim\": {\n    \"slug\": \"standard_range\",\n    \"name\": \"Standard Range\"\n  },\n  \"markets\": [\"US\", \"BR\", \"DE\", \"GB\", \"FR\", \"PT\", \"IT\", \"CN\", \"JP\"],\n  \"availability\": {\n    \"status\": \"production\",\n    \"start_year\": 2024\n  },\n  \"powertrain\": {\n    \"drivetrain\": \"rwd\",\n    \"system_power_kw\": 208,\n    \"motors\": [\n      {\n        \"position\": \"rear\",\n        \"type\": \"pmsm\",\n        \"power_kw\": 208\n      }\n    ]\n  },\n  \"battery\": {\n    \"chemistry\": \"lfp\",\n    \"pack_capacity_kwh_net\": 60.0,\n    \"thermal_management\": \"liquid\"\n  },\n  \"charge_ports\": [\n    {\n      \"kind\": \"combo\",\n      \"connector\": \"nacs\",\n      \"location\": {\n        \"side\": \"left\",\n        \"position\": \"rear\"\n      }\n    }\n  ],\n  \"charging\": {\n    \"ac\": {\n      \"max_power_kw\": 11.0,\n      \"phases\": 1\n    },\n    \"dc\": {\n      \"max_power_kw\": 170,\n      \"architecture_voltage_class\": \"400v\"\n    }\n  },\n  \"range\": {\n    \"rated\": [\n      {\n        \"cycle\": \"wltp\",\n        \"range_km\": 513\n      },\n      {\n        \"cycle\": \"epa\",\n        \"range_km\": 438\n      }\n    ]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Tesla Model 3 Official Specifications\",\n      \"url\": \"https://www.tesla.com/model3\",\n      \"accessed_at\": \"2024-12-28T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#step-4-create-variants-optional","title":"Step 4: Create Variants (Optional)","text":"<p>Variants are for configurations with material differences (battery size, charging capability, etc.).</p> <p>Location: <code>src/&lt;make&gt;/&lt;model&gt;/&lt;year&gt;/&lt;model_slug&gt;_&lt;variant_slug&gt;.json</code></p> <p>Rules: - File name must match <code>variant.slug</code> - Include only fields that differ from the year base vehicle - Must include its own sources for changed claims</p> <p>Example (<code>src/tesla/model_3/2024/model_3_long_range.json</code>):</p> <pre><code>{\n  \"$schema\": \"../../../../schema.json\",\n  \"schema_version\": \"1.0.0\",\n  \"variant\": {\n    \"slug\": \"long_range\",\n    \"name\": \"Long Range\",\n    \"kind\": \"battery_upgrade\"\n  },\n  \"battery\": {\n    \"pack_capacity_kwh_net\": 82.0\n  },\n  \"powertrain\": {\n    \"drivetrain\": \"awd\",\n    \"system_power_kw\": 366\n  },\n  \"charging\": {\n    \"dc\": {\n      \"max_power_kw\": 250\n    }\n  },\n  \"range\": {\n    \"rated\": [\n      {\n        \"cycle\": \"wltp\",\n        \"range_km\": 629\n      }\n    ]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Tesla Model 3 Long Range Specifications\",\n      \"url\": \"https://www.tesla.com/model3\",\n      \"accessed_at\": \"2024-12-28T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#step-5-validate-your-changes","title":"Step 5: Validate Your Changes","text":"<p>The validation system has three levels:</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#quick-syntax-check","title":"Quick Syntax Check","text":"<p>Validates JSON syntax only:</p> <pre><code>npm run validate\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#schema-validation","title":"Schema Validation","text":"<p>Validates directory structure and JSON schema (no Docker required):</p> <pre><code>npm run validate:schema\n</code></pre> <p>This validates:</p> <p>Structure Rules: - Each model directory must contain <code>base.json</code> - Each year directory must contain <code>{model}.json</code> - Variant files must be named <code>{model}_{variant}.json</code> - No other files allowed in model directory</p> <p>Schema Rules: - All required fields present after merge - No extra fields (only fields defined in schema.json allowed) - Field values match expected types and constraints</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#full-validation","title":"Full Validation","text":"<p>Validates everything including the Rust ETL pipeline:</p> <pre><code>npm run validate:full\n</code></pre> <p>This runs schema validation first, then the ev-etl Docker binary for complete compilation testing.</p> <p>Expected output for valid data:</p> <pre><code>=== OpenEV Data Validation ===\n\nStep 1: Validating directory structure...\nStructure validation passed.\n\nStep 2: Validating merged vehicles against schema.json...\nFound 13 vehicles to validate.\nAll 13 vehicles passed schema validation.\n\n=== Validation Complete ===\n</code></pre> <p>Example error output (missing required field):</p> <pre><code>SCHEMA ERRORS: 1 vehicle(s) have errors.\n\nFile: src/byd/dolphin/2024/dolphin.json\nType: year_base\nErrors:\n  - /: must have required property 'sources'\n</code></pre> <p>Example error output (invalid file name):</p> <pre><code>STRUCTURE ERRORS: 1 issue(s) found.\n\n  src/byd/dolphin/2024/wrong_name.json\n    Invalid file name. Variants must be named dolphin_&lt;variant&gt;.json\n</code></pre>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#ide-real-time-validation","title":"IDE Real-Time Validation","text":"<p>VS Code, Cursor, and compatible editors show validation errors while you edit. Look for red squiggly lines under fields with issues.</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#international-data-requirements","title":"International Data Requirements","text":"<p>When adding vehicles, include sources from multiple markets:</p> <ul> <li>USA</li> <li>Brazil</li> <li>European countries (Portugal, Germany, France, Italy, United Kingdom)</li> <li>China</li> <li>Japan</li> </ul> <p>Use the <code>markets</code> field to specify where the vehicle is available.</p> <p>Create variants only when specifications materially differ between configurations (not for minor regional differences).</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#minimal-required-example","title":"Minimal Required Example","text":"<p>See example/minimal_required.json for a complete minimal vehicle with only required fields.</p>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#troubleshooting","title":"Troubleshooting","text":"Issue Solution <code>Loaded 0 vehicle files</code> Check that <code>src/</code> directory contains valid JSON files <code>MissingBatteryCapacity</code> Add <code>pack_capacity_kwh_net</code> or <code>pack_capacity_kwh_gross</code> to <code>battery</code> <code>MissingChargePort</code> Add at least one entry to <code>charge_ports</code> array <code>MissingRatedRange</code> Add at least one entry to <code>range.rated</code> array <code>MissingSource</code> Add at least one entry to <code>sources</code> array <code>InvalidSlug</code> Ensure slugs are lowercase with only <code>a-z</code>, <code>0-9</code>, <code>_</code>"},{"location":"dataset/CONTRIBUTING_VEHICLES/#further-reading","title":"Further Reading","text":"<ul> <li>ARCHITECTURE.md \u2014 Layered data model and merge rules</li> <li>SCHEMA.md \u2014 Complete field documentation</li> <li>RELEASE_PROCESS.md \u2014 How releases are generated</li> </ul>"},{"location":"dataset/HOW_TO_CONSUME/","title":"How to Consume OpenEV Data","text":"<p>This guide explains how to download and use the OpenEV Data dataset in various formats.</p>"},{"location":"dataset/HOW_TO_CONSUME/#available-formats","title":"Available Formats","text":"<p>The dataset is available in multiple formats to suit different use cases:</p> Format Size Best For File Extension JSON ~46 KB APIs, Web Apps, JavaScript <code>.json</code> CSV ~4 KB Spreadsheets, Analytics, Excel <code>.csv</code> PostgreSQL ~37 KB Production Databases, Complex Queries <code>.sql</code> SQLite ~128 KB Mobile Apps, Desktop Apps, Embedded <code>.db</code> XML ~14 KB Enterprise Systems, Legacy Integration <code>.xml</code>"},{"location":"dataset/HOW_TO_CONSUME/#downloading-the-dataset","title":"Downloading the Dataset","text":""},{"location":"dataset/HOW_TO_CONSUME/#latest-release","title":"Latest Release","text":"<p>Download the latest version directly from GitHub:</p> <pre><code>LATEST_TAG=$(curl -s https://api.github.com/repos/open-ev-data/open-ev-data-dataset/releases/latest | jq -r .tag_name)\n\ncurl -L -o open-ev-data.json \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.json\"\ncurl -L -o open-ev-data.csv \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.csv\"\ncurl -L -o open-ev-data.sql \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.sql\"\ncurl -L -o open-ev-data.db \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.db\"\ncurl -L -o open-ev-data.xml \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.xml\"\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#specific-version","title":"Specific Version","text":"<p>Replace <code>v1.0.0</code> with your desired version:</p> <pre><code>VERSION=\"v1.0.0\"\ncurl -L -o open-ev-data.json \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$VERSION/open-ev-data-$VERSION.json\"\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#using-json-format","title":"Using JSON Format","text":""},{"location":"dataset/HOW_TO_CONSUME/#structure","title":"Structure","text":"<pre><code>{\n  \"version\": \"1.0.0\",\n  \"generated_at\": \"2025-01-01T00:00:00Z\",\n  \"vehicles\": [\n    {\n      \"brand\": \"BYD\",\n      \"model\": \"Dolphin\",\n      \"variant\": \"Standard Range\",\n      \"year\": 2024,\n      \"battery\": {\n        \"capacity_kwh\": 44.9\n      },\n      \"range\": {\n        \"wltp\": {\n          \"km\": 340,\n          \"miles\": 211\n        }\n      },\n      \"sources\": [\n        {\n          \"country\": \"Brazil\",\n          \"name\": \"Official Website\",\n          \"url\": \"https://...\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#examples","title":"Examples","text":""},{"location":"dataset/HOW_TO_CONSUME/#javascriptnodejs","title":"JavaScript/Node.js","text":"<pre><code>const fs = require('fs');\n\nconst data = JSON.parse(fs.readFileSync('open-ev-data.json', 'utf8'));\n\nconsole.log(`Dataset version: ${data.version}`);\nconsole.log(`Total vehicles: ${data.vehicles.length}`);\n\nconst bydVehicles = data.vehicles.filter(v =&gt; v.brand === 'BYD');\nconsole.log(`BYD vehicles: ${bydVehicles.length}`);\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#python","title":"Python","text":"<pre><code>import json\nimport requests\n\nurl = \"https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.json\"\nresponse = requests.get(url)\ndata = response.json()\n\nprint(f\"Dataset version: {data['version']}\")\nprint(f\"Total vehicles: {len(data['vehicles'])}\")\n\nbyd_vehicles = [v for v in data['vehicles'] if v['brand'] == 'BYD']\nprint(f\"BYD vehicles: {len(byd_vehicles)}\")\n\nfor vehicle in byd_vehicles:\n    print(f\"- {vehicle['brand']} {vehicle['model']} ({vehicle['year']})\")\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#curl-jq","title":"curl + jq","text":"<pre><code>curl -sL \"https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.json\" | \\\n  jq '.vehicles[] | select(.brand == \"BYD\") | \"\\(.brand) \\(.model) \\(.year)\"'\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#using-csv-format","title":"Using CSV Format","text":""},{"location":"dataset/HOW_TO_CONSUME/#structure_1","title":"Structure","text":"<pre><code>brand,model,variant,year,battery_capacity_kwh,range_km,range_miles,charging_speed_kw,acceleration_0_100_kmh,top_speed_kmh,drive_type,seats,country,source_name,source_url\nBYD,Dolphin,Standard Range,2024,44.9,340,211,60,10.5,160,FWD,5,Brazil,Official Website,https://...\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#examples_1","title":"Examples","text":""},{"location":"dataset/HOW_TO_CONSUME/#excelgoogle-sheets","title":"Excel/Google Sheets","text":"<ol> <li>Download the CSV file</li> <li>Open in Excel or Google Sheets</li> <li>Use built-in filters and pivot tables</li> </ol>"},{"location":"dataset/HOW_TO_CONSUME/#pythonpandas","title":"Python/Pandas","text":"<pre><code>import pandas as pd\n\nurl = \"https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.csv\"\ndf = pd.read_csv(url)\n\nprint(df.describe())\n\navg_range = df.groupby('brand')['range_km'].mean()\nprint(avg_range)\n\ndf_2024 = df[df['year'] == 2024]\nprint(f\"2024 vehicles: {len(df_2024)}\")\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#r","title":"R","text":"<pre><code>library(tidyverse)\n\nurl &lt;- \"https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.csv\"\ndata &lt;- read_csv(url)\n\nsummary(data)\n\ndata %&gt;%\n  group_by(brand) %&gt;%\n  summarise(avg_range = mean(range_km, na.rm = TRUE)) %&gt;%\n  arrange(desc(avg_range))\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#using-postgresql-format","title":"Using PostgreSQL Format","text":""},{"location":"dataset/HOW_TO_CONSUME/#import-into-database","title":"Import into Database","text":"<pre><code>psql -U postgres -d mydb -f open-ev-data.sql\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#docker-postgresql","title":"Docker PostgreSQL","text":"<p>Use the pre-populated Docker image:</p> <pre><code>docker run -d \\\n  --name openev-postgres \\\n  -p 5432:5432 \\\n  -e POSTGRES_PASSWORD=openevdata \\\n  ghcr.io/open-ev-data/open-ev-data-postgres:latest\n</code></pre> <p>Connect: <pre><code>psql -h localhost -U openevdata -d openevdata\n</code></pre></p>"},{"location":"dataset/HOW_TO_CONSUME/#query-examples","title":"Query Examples","text":"<pre><code>SELECT brand, model, year, battery_capacity_kwh\nFROM vehicles\nWHERE brand = 'BYD'\nORDER BY year DESC;\n\nSELECT brand, COUNT(*) as total_models\nFROM vehicles\nGROUP BY brand\nORDER BY total_models DESC;\n\nSELECT v.brand, v.model, v.year, s.country\nFROM vehicles v\nJOIN sources s ON v.id = s.vehicle_id\nWHERE s.country = 'Brazil';\n\nSELECT brand, AVG(range_wltp_km) as avg_range\nFROM vehicles\nWHERE range_wltp_km IS NOT NULL\nGROUP BY brand\nHAVING COUNT(*) &gt; 1\nORDER BY avg_range DESC;\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#using-sqlite-format","title":"Using SQLite Format","text":""},{"location":"dataset/HOW_TO_CONSUME/#query-from-command-line","title":"Query from Command Line","text":"<pre><code>sqlite3 open-ev-data.db \"SELECT brand, model, year FROM vehicles WHERE brand = 'BYD';\"\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#python_1","title":"Python","text":"<pre><code>import sqlite3\n\nconn = sqlite3.connect('open-ev-data.db')\ncursor = conn.cursor()\n\ncursor.execute(\"SELECT brand, COUNT(*) FROM vehicles GROUP BY brand\")\nfor row in cursor.fetchall():\n    print(f\"{row[0]}: {row[1]} models\")\n\nconn.close()\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#nodejs","title":"Node.js","text":"<pre><code>const sqlite3 = require('sqlite3').verbose();\n\nconst db = new sqlite3.Database('open-ev-data.db');\n\ndb.all(\"SELECT brand, model, year FROM vehicles WHERE brand = ?\", ['BYD'], (err, rows) =&gt; {\n  if (err) throw err;\n  rows.forEach(row =&gt; {\n    console.log(`${row.brand} ${row.model} (${row.year})`);\n  });\n});\n\ndb.close();\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#using-xml-format","title":"Using XML Format","text":""},{"location":"dataset/HOW_TO_CONSUME/#structure_2","title":"Structure","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;dataset version=\"1.0.0\" generated_at=\"2025-01-01T00:00:00Z\"&gt;\n  &lt;vehicles&gt;\n    &lt;vehicle&gt;\n      &lt;brand&gt;BYD&lt;/brand&gt;\n      &lt;model&gt;Dolphin&lt;/model&gt;\n      &lt;year&gt;2024&lt;/year&gt;\n      &lt;battery capacity_kwh=\"44.9\"/&gt;\n      &lt;range&gt;\n        &lt;wltp km=\"340\" miles=\"211\"/&gt;\n      &lt;/range&gt;\n    &lt;/vehicle&gt;\n  &lt;/vehicles&gt;\n&lt;/dataset&gt;\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#examples_2","title":"Examples","text":""},{"location":"dataset/HOW_TO_CONSUME/#python_2","title":"Python","text":"<pre><code>import xml.etree.ElementTree as ET\nimport requests\n\nurl = \"https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.xml\"\nresponse = requests.get(url)\n\nroot = ET.fromstring(response.content)\n\nfor vehicle in root.findall('.//vehicle'):\n    brand = vehicle.find('brand').text\n    model = vehicle.find('model').text\n    year = vehicle.find('year').text\n    print(f\"{brand} {model} ({year})\")\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#java","title":"Java","text":"<pre><code>import javax.xml.parsers.*;\nimport org.w3c.dom.*;\n\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nDocument doc = builder.parse(\"open-ev-data.xml\");\n\nNodeList vehicles = doc.getElementsByTagName(\"vehicle\");\nfor (int i = 0; i &lt; vehicles.getLength(); i++) {\n    Element vehicle = (Element) vehicles.item(i);\n    String brand = vehicle.getElementsByTagName(\"brand\").item(0).getTextContent();\n    String model = vehicle.getElementsByTagName(\"model\").item(0).getTextContent();\n    System.out.println(brand + \" \" + model);\n}\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#full-stack-with-docker-compose","title":"Full Stack with Docker Compose","text":"<p>See the <code>docker-compose.yml</code> in the repository root to run the complete stack with API and database.</p> <pre><code>docker-compose up -d\n</code></pre> <p>This starts: - PostgreSQL database with pre-populated data (port 5432) - OpenEV Data API (port 8080)</p> <p>Access the API: <pre><code>curl http://localhost:8080/api/v1/vehicles\ncurl http://localhost:8080/api/v1/vehicles?brand=BYD\n</code></pre></p> <p>See API Documentation for more details.</p>"},{"location":"dataset/HOW_TO_CONSUME/#integration-examples","title":"Integration Examples","text":""},{"location":"dataset/HOW_TO_CONSUME/#rest-api-endpoint","title":"REST API Endpoint","text":"<pre><code>app.get('/api/vehicles', async (req, res) =&gt; {\n  const response = await fetch('https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.json');\n  const data = await response.json();\n\n  const { brand, year } = req.query;\n  let vehicles = data.vehicles;\n\n  if (brand) vehicles = vehicles.filter(v =&gt; v.brand === brand);\n  if (year) vehicles = vehicles.filter(v =&gt; v.year === parseInt(year));\n\n  res.json(vehicles);\n});\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#caching-strategy","title":"Caching Strategy","text":"<pre><code>const NodeCache = require('node-cache');\nconst cache = new NodeCache({ stdTTL: 3600 });\n\nasync function getVehicles() {\n  const cached = cache.get('vehicles');\n  if (cached) return cached;\n\n  const response = await fetch('https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/open-ev-data.json');\n  const data = await response.json();\n\n  cache.set('vehicles', data.vehicles);\n  return data.vehicles;\n}\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#automated-updates","title":"Automated Updates","text":"<pre><code>#!/bin/bash\n\nLATEST_TAG=$(curl -s https://api.github.com/repos/open-ev-data/open-ev-data-dataset/releases/latest | jq -r .tag_name)\nCURRENT_TAG=$(cat .current_version 2&gt;/dev/null || echo \"\")\n\nif [ \"$LATEST_TAG\" != \"$CURRENT_TAG\" ]; then\n  echo \"New version available: $LATEST_TAG\"\n\n  curl -L -o open-ev-data.json \"https://github.com/open-ev-data/open-ev-data-dataset/releases/download/$LATEST_TAG/open-ev-data-$LATEST_TAG.json\"\n\n  echo \"$LATEST_TAG\" &gt; .current_version\n\n  systemctl restart my-app\nfi\n</code></pre>"},{"location":"dataset/HOW_TO_CONSUME/#license","title":"License","text":"<p>This dataset is released under CDLA-Permissive-2.0.</p>"},{"location":"dataset/HOW_TO_CONSUME/#references","title":"References","text":"<ul> <li>Dataset Schema</li> <li>Dataset Architecture</li> <li>API Documentation</li> <li>Release Process</li> </ul>"},{"location":"dataset/RELEASE_PROCESS/","title":"Release Process","text":"<p>This document describes the automated release process for the OpenEV Data Dataset.</p>"},{"location":"dataset/RELEASE_PROCESS/#overview","title":"Overview","text":"<p>The dataset release process is fully automated using semantic-release and GitHub Actions. When changes are pushed to the <code>main</code> branch, the system automatically:</p> <ol> <li>Analyzes commit messages to determine version bump</li> <li>Generates all dataset formats using <code>ev-etl</code></li> <li>Builds a PostgreSQL Docker image with pre-populated data</li> <li>Creates a GitHub release with all artifacts</li> <li>Publishes the Docker image to GitHub Container Registry</li> </ol>"},{"location":"dataset/RELEASE_PROCESS/#workflow-architecture","title":"Workflow Architecture","text":"<pre><code>Push to main \u2192 CI Validation \u2192 Release Workflow \u2192 Semantic Release\n                                                    \u251c\u2500 Version Calculation\n                                                    \u251c\u2500 Changelog Generation\n                                                    \u251c\u2500 Artifact Generation\n                                                    \u2502  \u251c\u2500 JSON\n                                                    \u2502  \u251c\u2500 CSV\n                                                    \u2502  \u251c\u2500 PostgreSQL\n                                                    \u2502  \u251c\u2500 SQLite\n                                                    \u2502  \u2514\u2500 XML\n                                                    \u251c\u2500 Docker Image Build\n                                                    \u251c\u2500 Git Commit &amp; Tag\n                                                    \u2514\u2500 GitHub Release\n</code></pre>"},{"location":"dataset/RELEASE_PROCESS/#release-steps","title":"Release Steps","text":""},{"location":"dataset/RELEASE_PROCESS/#1-ci-validation","title":"1. CI Validation","text":"<p>Before release, the CI workflow validates: - Commit message format - Dataset structure validation - Build process</p>"},{"location":"dataset/RELEASE_PROCESS/#2-version-determination","title":"2. Version Determination","text":"<p>semantic-release analyzes commit messages following Conventional Commits:</p> <ul> <li><code>feat:</code> \u2192 Minor version bump (e.g., 1.0.0 \u2192 1.1.0)</li> <li><code>fix:</code>, <code>perf:</code>, <code>refactor:</code> \u2192 Patch version bump (e.g., 1.0.0 \u2192 1.0.1)</li> <li><code>BREAKING CHANGE:</code> \u2192 Major version bump (e.g., 1.0.0 \u2192 2.0.0)</li> <li><code>docs:</code>, <code>chore:</code>, <code>style:</code>, <code>test:</code>, <code>ci:</code> \u2192 No release</li> </ul>"},{"location":"dataset/RELEASE_PROCESS/#3-artifact-generation","title":"3. Artifact Generation","text":"<p>The release scripts execute in sequence:</p>"},{"location":"dataset/RELEASE_PROCESS/#a-download-ev-etl-binary","title":"a. Download ev-etl Binary","text":"<p><pre><code># Downloads the latest ev-etl binary from API releases\ncurl -L -o ev-etl.tar.gz \\\n  \"https://github.com/open-ev-data/open-ev-data-api/releases/download/$LATEST_RELEASE/ev-etl-x86_64-unknown-linux-gnu.tar.gz\"\n</code></pre> This is fast, lightweight, and doesn't require Docker authentication.</p>"},{"location":"dataset/RELEASE_PROCESS/#b-prepare-artifacts","title":"b. Prepare Artifacts","text":"<p><pre><code>./scripts/release/prepare-artifacts.sh\n</code></pre> Creates the <code>dist/</code> directory structure.</p>"},{"location":"dataset/RELEASE_PROCESS/#c-generate-formats","title":"c. Generate Formats","text":"<p><pre><code>./scripts/release/generate-formats.sh ${version}\n</code></pre> Uses the <code>ev-etl</code> binary to transform source JSON files into: - <code>open-ev-data.json</code> - Canonical JSON format with metadata - <code>open-ev-data.csv</code> - Flattened tabular format - <code>open-ev-data.sql</code> - PostgreSQL dump with DDL and data - <code>open-ev-data.db</code> - SQLite database file - <code>open-ev-data.xml</code> - Hierarchical XML structure</p>"},{"location":"dataset/RELEASE_PROCESS/#d-build-postgresql-image","title":"d. Build PostgreSQL Image","text":"<p><pre><code>./scripts/release/build-postgres-docker.sh ${version}\n</code></pre> Creates a PostgreSQL Docker image pre-populated with dataset and pushes to: - <code>ghcr.io/open-ev-data/open-ev-data-postgres:${version}</code> - <code>ghcr.io/open-ev-data/open-ev-data-postgres:latest</code></p>"},{"location":"dataset/RELEASE_PROCESS/#4-git-operations","title":"4. Git Operations","text":"<p>semantic-release commits and tags: <pre><code>git add CHANGELOG.md package.json package-lock.json\ngit commit -m \"chore(release): ${version} [skip ci]\"\ngit tag v${version}\ngit push origin main --tags\n</code></pre></p>"},{"location":"dataset/RELEASE_PROCESS/#5-github-release","title":"5. GitHub Release","text":"<p>Creates a GitHub release with: - Release notes generated from commits - All dataset format files attached - Docker image information</p>"},{"location":"dataset/RELEASE_PROCESS/#release-assets","title":"Release Assets","text":"<p>Each release includes:</p> Asset Format Description <code>open-ev-data-v*.json</code> JSON Canonical dataset with metadata <code>open-ev-data-v*.csv</code> CSV Tabular format for spreadsheets <code>open-ev-data-v*.sql</code> SQL PostgreSQL dump file <code>open-ev-data-v*.db</code> SQLite SQLite database file <code>open-ev-data-v*.xml</code> XML Hierarchical XML structure <p>Plus Docker image: - <code>ghcr.io/open-ev-data/open-ev-data-postgres:${version}</code></p>"},{"location":"dataset/RELEASE_PROCESS/#manual-release","title":"Manual Release","text":"<p>To manually trigger a release (requires write access):</p> <ol> <li>Ensure all changes follow Conventional Commits</li> <li>Push to <code>main</code> branch</li> <li>CI validation must pass</li> <li>Release workflow automatically triggers</li> </ol>"},{"location":"dataset/RELEASE_PROCESS/#versioning-strategy","title":"Versioning Strategy","text":"<p>The project follows Semantic Versioning 2.0.0:</p> <ul> <li>Major (X.0.0): Breaking changes to dataset structure or schema</li> <li>Minor (0.X.0): New vehicles or data fields added</li> <li>Patch (0.0.X): Bug fixes, data corrections, documentation updates</li> </ul>"},{"location":"dataset/RELEASE_PROCESS/#dependencies","title":"Dependencies","text":"<p>The release process depends on:</p> <ul> <li>ev-etl: CLI tool from open-ev-data-api (downloaded as binary)</li> <li>Docker: Container runtime for PostgreSQL image</li> <li>Node.js: semantic-release and related plugins</li> <li>GitHub Actions: CI/CD automation</li> <li>GitHub Container Registry: Docker image storage</li> </ul>"},{"location":"dataset/RELEASE_PROCESS/#troubleshooting","title":"Troubleshooting","text":""},{"location":"dataset/RELEASE_PROCESS/#release-not-triggered","title":"Release not triggered","text":"<p>Check: - CI workflow completed successfully - Commit messages follow Conventional Commits format - At least one releasable commit type present</p>"},{"location":"dataset/RELEASE_PROCESS/#artifact-generation-failed","title":"Artifact generation failed","text":"<p>Verify: - Latest API release has the <code>ev-etl</code> binary available - Binary is compatible with Linux x86_64 - Source JSON files are valid - Sufficient disk space in runner</p>"},{"location":"dataset/RELEASE_PROCESS/#docker-push-failed","title":"Docker push failed","text":"<p>Ensure: - GitHub Container Registry authentication is configured - Repository has <code>packages: write</code> permission - Network connectivity to ghcr.io</p>"},{"location":"dataset/RELEASE_PROCESS/#references","title":"References","text":"<ul> <li>Semantic Release Documentation</li> <li>Conventional Commits Specification</li> <li>GitHub Actions Documentation</li> <li>ev-etl Documentation</li> </ul>"},{"location":"dataset/SCHEMA/","title":"SCHEMA \u2014 OpenEV Data Dataset Schema Documentation","text":"<p>This document provides a complete reference for all fields defined in the <code>schema.json</code> file. For information about the repository architecture, layered data model, and build process, see ARCHITECTURE.md.</p>"},{"location":"dataset/SCHEMA/#schema-version","title":"Schema Version","text":"<p>Current schema version: 1.0.0</p>"},{"location":"dataset/SCHEMA/#units-convention","title":"Units Convention","text":"<p>All measurements in this schema follow these unit conventions:</p> <ul> <li>Distances: km (kilometers)</li> <li>Energy: kwh (kilowatt-hours)</li> <li>Power: kw (kilowatts)</li> <li>Torque: nm (Newton-meters)</li> <li>Speed: kmh (kilometers per hour)</li> <li>Mass: kg (kilograms)</li> <li>Dimensions: mm (millimeters)</li> <li>Consumption: wh_per_km (watt-hours per kilometer)</li> <li>Temperature: c (Celsius)</li> <li>Pressure: kpa (kilopascals)</li> <li>Time: s (seconds) for performance metrics, min (minutes) for charging times</li> <li>Current: a (amperes)</li> <li>Voltage: v (volts)</li> <li>Dates: ISO-8601 format (YYYY-MM-DD for dates, full datetime with timezone for timestamps)</li> </ul>"},{"location":"dataset/SCHEMA/#root-level-fields","title":"Root Level Fields","text":""},{"location":"dataset/SCHEMA/#schema","title":"<code>$schema</code>","text":"<ul> <li>Type: string</li> <li>Required: No</li> <li>Description: Path or URL to the schema file itself. Used for validation in IDEs and tools.</li> </ul>"},{"location":"dataset/SCHEMA/#schema_version","title":"<code>schema_version</code>","text":"<ul> <li>Type: string</li> <li>Required: Yes</li> <li>Constant: \"1.0.0\"</li> <li>Description: The version of the schema that this vehicle record conforms to. Must always be \"1.0.0\" for current schema.</li> </ul>"},{"location":"dataset/SCHEMA/#unique_code","title":"<code>unique_code</code>","text":"<ul> <li>Type: string</li> <li>Required: No</li> <li>Description: Internal unique code or database key. Optional field that can be used for internal tracking or database references.</li> </ul>"},{"location":"dataset/SCHEMA/#vehicle-identity","title":"Vehicle Identity","text":""},{"location":"dataset/SCHEMA/#make","title":"<code>make</code>","text":"<ul> <li>Type: object (slug_name)</li> <li>Required: Yes</li> <li>Description: The vehicle manufacturer or brand.</li> <li>Properties:</li> <li><code>slug</code> (string, required): Lowercase identifier (e.g., \"bmw\", \"tesla\", \"volkswagen\")</li> <li><code>name</code> (string, required): Human-readable name (e.g., \"BMW\", \"Tesla\", \"Volkswagen\")</li> </ul>"},{"location":"dataset/SCHEMA/#model","title":"<code>model</code>","text":"<ul> <li>Type: object (slug_name)</li> <li>Required: Yes</li> <li>Description: The vehicle model name.</li> <li>Properties:</li> <li><code>slug</code> (string, required): Lowercase identifier (e.g., \"model_3\", \"id4\", \"leaf\")</li> <li><code>name</code> (string, required): Human-readable name (e.g., \"Model 3\", \"ID.4\", \"Leaf\")</li> </ul>"},{"location":"dataset/SCHEMA/#year","title":"<code>year</code>","text":"<ul> <li>Type: integer</li> <li>Required: Yes</li> <li>Range: 1900 to 2100</li> <li>Description: The model year of the vehicle. This is the year the vehicle is marketed as, not necessarily the production year.</li> </ul>"},{"location":"dataset/SCHEMA/#trim","title":"<code>trim</code>","text":"<ul> <li>Type: object (slug_name)</li> <li>Required: Yes</li> <li>Description: The trim level or grade of the vehicle.</li> <li>Properties:</li> <li><code>slug</code> (string, required): Lowercase identifier (e.g., \"base\", \"premium\", \"long_range\")</li> <li><code>name</code> (string, required): Human-readable name (e.g., \"Base\", \"Premium\", \"Long Range\")</li> </ul>"},{"location":"dataset/SCHEMA/#variant","title":"<code>variant</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Used only for variant vehicles that differ from the base configuration in meaningful ways. See ARCHITECTURE.md for variant rules.</li> <li>Properties:</li> <li><code>slug</code> (string, required if variant present): Lowercase identifier for the variant</li> <li><code>name</code> (string, required if variant present): Human-readable variant name</li> <li><code>kind</code> (string, optional): Classification of the variant type (e.g., \"range_upgrade\", \"performance_package\", \"battery_upgrade\", \"market_specific\")</li> <li><code>notes</code> (string, optional): Additional context about the variant</li> </ul>"},{"location":"dataset/SCHEMA/#market-and-availability","title":"Market and Availability","text":""},{"location":"dataset/SCHEMA/#markets","title":"<code>markets</code>","text":"<ul> <li>Type: array of strings</li> <li>Required: No</li> <li>Description: ISO 3166-1 alpha-2 country codes indicating where this vehicle is or was available.</li> <li>Pattern: Two uppercase letters (e.g., \"US\", \"DE\", \"BR\", \"CN\", \"JP\")</li> <li>Example: <code>[\"US\", \"CA\", \"MX\"]</code></li> </ul>"},{"location":"dataset/SCHEMA/#availability","title":"<code>availability</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Information about the vehicle's production and availability status.</li> <li>Properties:</li> <li><code>status</code> (string, required if availability present): Current status of the vehicle<ul> <li>Allowed values: \"production\", \"discontinued\", \"concept\", \"announced\", \"prototype\"</li> </ul> </li> <li><code>start_year</code> (integer, optional): Year production or availability began</li> <li><code>end_year</code> (integer, optional): Year production or availability ended</li> <li><code>notes</code> (string, optional): Additional context about availability</li> </ul>"},{"location":"dataset/SCHEMA/#vehicle-classification","title":"Vehicle Classification","text":""},{"location":"dataset/SCHEMA/#vehicle_type","title":"<code>vehicle_type</code>","text":"<ul> <li>Type: string</li> <li>Required: Yes</li> <li>Description: Primary classification of the vehicle type.</li> <li>Allowed values:</li> <li><code>passenger_car</code>: Standard passenger vehicle</li> <li><code>suv</code>: Sport Utility Vehicle</li> <li><code>pickup</code>: Pickup truck</li> <li><code>van</code>: Van or minivan</li> <li><code>bus</code>: Bus or coach</li> <li><code>motorcycle</code>: Motorcycle</li> <li><code>scooter</code>: Electric scooter or moped</li> <li><code>commercial</code>: Commercial vehicle</li> <li><code>truck</code>: Truck</li> <li><code>other</code>: Other vehicle types</li> </ul>"},{"location":"dataset/SCHEMA/#body","title":"<code>body</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Physical body characteristics of the vehicle.</li> <li>Properties:</li> <li><code>style</code> (string, optional): Body style (e.g., \"sedan\", \"hatchback\", \"crossover\", \"coupe\", \"wagon\", \"convertible\")</li> <li><code>doors</code> (integer, optional): Number of doors</li> <li><code>seats</code> (integer, optional): Number of seats</li> <li><code>rows</code> (integer, optional): Number of seating rows</li> <li><code>platform</code> (string, optional): OEM platform code or name if published</li> <li><code>drag_coefficient_cd</code> (number, optional): Aerodynamic drag coefficient</li> </ul>"},{"location":"dataset/SCHEMA/#physical-specifications","title":"Physical Specifications","text":""},{"location":"dataset/SCHEMA/#dimensions","title":"<code>dimensions</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Physical dimensions of the vehicle in millimeters.</li> <li>Properties:</li> <li><code>length_mm</code> (number, optional): Overall length</li> <li><code>width_mm</code> (number, optional): Width without mirrors</li> <li><code>width_with_mirrors_mm</code> (number, optional): Width including mirrors</li> <li><code>height_mm</code> (number, optional): Overall height</li> <li><code>wheelbase_mm</code> (number, optional): Distance between front and rear axles</li> <li><code>ground_clearance_mm</code> (number, optional): Minimum ground clearance</li> <li><code>turning_circle_m</code> (number, optional): Turning circle diameter in meters</li> </ul>"},{"location":"dataset/SCHEMA/#weights","title":"<code>weights</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Weight specifications in kilograms.</li> <li>Properties:</li> <li><code>curb_weight_kg</code> (number, optional): Weight of the vehicle without passengers or cargo</li> <li><code>gross_vehicle_weight_kg</code> (number, optional): Maximum permissible total weight</li> <li><code>max_payload_kg</code> (number, optional): Maximum payload capacity</li> <li><code>roof_load_kg</code> (number, optional): Maximum roof load capacity</li> </ul>"},{"location":"dataset/SCHEMA/#capacity","title":"<code>capacity</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Cargo and towing capacities.</li> <li>Properties:</li> <li><code>cargo_l</code> (number, optional): Cargo volume in liters (seats up)</li> <li><code>cargo_max_l</code> (number, optional): Maximum cargo volume in liters (seats folded)</li> <li><code>frunk_l</code> (number, optional): Front trunk (frunk) volume in liters</li> <li><code>towing_braked_kg</code> (number, optional): Maximum towing capacity with braked trailer</li> <li><code>towing_unbraked_kg</code> (number, optional): Maximum towing capacity with unbraked trailer</li> <li><code>towing_vertical_load_kg</code> (number, optional): Maximum vertical load on tow hitch</li> </ul>"},{"location":"dataset/SCHEMA/#powertrain","title":"Powertrain","text":""},{"location":"dataset/SCHEMA/#powertrain_1","title":"<code>powertrain</code>","text":"<ul> <li>Type: object</li> <li>Required: Yes</li> <li>Description: Electric powertrain configuration and specifications.</li> <li>Properties:</li> <li><code>drivetrain</code> (string, required): Drive configuration<ul> <li>Allowed values: \"fwd\" (front-wheel drive), \"rwd\" (rear-wheel drive), \"awd\" (all-wheel drive), \"4wd\" (four-wheel drive)</li> </ul> </li> <li><code>system_power_kw</code> (number, optional): Combined system power output in kilowatts</li> <li><code>system_torque_nm</code> (number, optional): Combined system torque in Newton-meters</li> <li><code>motors</code> (array, optional): Array of electric motor specifications<ul> <li><code>position</code> (string, required): Motor location - \"front\", \"rear\", or \"other\"</li> <li><code>type</code> (string, optional): Motor type (e.g., \"pmsm\", \"asm\", \"brushless\", \"induction\")</li> <li><code>power_kw</code> (number, optional): Individual motor power output</li> <li><code>torque_nm</code> (number, optional): Individual motor torque</li> <li><code>cooling</code> (string, optional): Motor cooling method</li> </ul> </li> <li><code>transmission</code> (object, optional): Transmission information<ul> <li><code>gears</code> (integer, optional): Number of gears</li> <li><code>type</code> (string, optional): Transmission type</li> </ul> </li> </ul>"},{"location":"dataset/SCHEMA/#battery-system","title":"Battery System","text":""},{"location":"dataset/SCHEMA/#battery","title":"<code>battery</code>","text":"<ul> <li>Type: object</li> <li>Required: Yes</li> <li>Description: Battery pack specifications and characteristics.</li> <li>Properties:</li> <li><code>manufacturer</code> (string, optional): Battery manufacturer (e.g., \"CATL\", \"LG Energy Solution\", \"Panasonic\")</li> <li><code>chemistry</code> (string, optional): Battery chemistry (e.g., \"li-ion\", \"lfp\", \"nmc\", \"nca\", \"solid_state\")</li> <li><code>cathode_material</code> (string, optional): Specific cathode material designation</li> <li><code>pack_capacity_kwh_gross</code> (number, optional): Total battery capacity including buffer</li> <li><code>pack_capacity_kwh_net</code> (number, optional): Usable battery capacity</li> <li><code>pack_voltage_nominal_v</code> (number, optional): Nominal pack voltage</li> <li><code>pack_voltage_max_v</code> (number, optional): Maximum pack voltage at full charge</li> <li><code>pack_voltage_min_v</code> (number, optional): Minimum pack voltage at low state of charge</li> <li><code>cell_count</code> (integer, optional): Total number of battery cells</li> <li><code>module_count</code> (integer, optional): Number of battery modules</li> <li><code>thermal_management</code> (string, optional): Battery cooling/heating system<ul> <li>Allowed values: \"liquid\", \"air\", \"passive\", \"refrigerant\", \"none\"</li> </ul> </li> <li><code>heat_pump</code> (boolean, optional): Whether vehicle has a heat pump for cabin/battery thermal management</li> <li><code>preconditioning</code> (object, optional): Battery preconditioning capabilities<ul> <li><code>supported</code> (boolean, required if preconditioning present): Whether preconditioning is available</li> <li><code>modes</code> (array of strings, optional): Available preconditioning modes (e.g., \"manual\", \"route_planner\", \"auto_on_dc\")</li> <li><code>notes</code> (string, optional): Additional preconditioning details</li> </ul> </li> <li><code>warranty</code> (object, optional): Battery warranty information<ul> <li><code>years</code> (integer, optional): Warranty duration in years</li> <li><code>distance_km</code> (integer, optional): Warranty distance limit</li> <li><code>capacity_retention_percent</code> (number, optional): Guaranteed capacity retention percentage</li> </ul> </li> <li><code>usable_soc_window_percent</code> (object, optional): Usable state of charge window<ul> <li><code>min_percent</code> (number, optional): Minimum usable SOC percentage</li> <li><code>max_percent</code> (number, optional): Maximum usable SOC percentage</li> <li><code>notes</code> (string, optional): Additional context about SOC window</li> </ul> </li> </ul>"},{"location":"dataset/SCHEMA/#charging-infrastructure","title":"Charging Infrastructure","text":""},{"location":"dataset/SCHEMA/#charge_ports","title":"<code>charge_ports</code>","text":"<ul> <li>Type: array</li> <li>Required: Yes</li> <li>Description: Physical charging port(s) on the vehicle.</li> <li>Items (each charge port):</li> <li><code>kind</code> (string, required): Port type<ul> <li><code>ac_only</code>: AC charging only</li> <li><code>dc_only</code>: DC fast charging only</li> <li><code>combo</code>: Combined AC and DC in one inlet (e.g., CCS)</li> </ul> </li> <li><code>connector</code> (string, required): Connector standard<ul> <li>Allowed values: \"type_1\" (SAE J1772), \"type_2\" (IEC 62196-2), \"ccs1\" (CCS Combo 1), \"ccs2\" (CCS Combo 2), \"nacs\" (North American Charging Standard / Tesla), \"chademo\", \"gb_t_ac\", \"gb_t_dc\", \"tesla_type_2\", \"other\"</li> </ul> </li> <li><code>location</code> (object, optional): Physical location of the port<ul> <li><code>side</code> (string, optional): Side of vehicle - \"left\", \"right\", \"front\", \"rear\", \"center\"</li> <li><code>position</code> (string, optional): Position along side - \"front\", \"rear\", \"mid\"</li> <li><code>notes</code> (string, optional): Additional location details</li> </ul> </li> <li><code>covers</code> (string, optional): Type of port cover (e.g., \"flap\", \"cap\", \"motorized\", \"none\")</li> <li><code>light</code> (boolean, optional): Whether port has illumination</li> <li><code>motorized</code> (boolean, optional): Whether port door is motorized</li> <li><code>notes</code> (string, optional): Additional port information</li> </ul>"},{"location":"dataset/SCHEMA/#charging","title":"<code>charging</code>","text":"<ul> <li>Type: object</li> <li>Required: Yes</li> <li>Description: Charging capabilities and specifications.</li> </ul>"},{"location":"dataset/SCHEMA/#chargingac","title":"<code>charging.ac</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: AC (Level 2) charging specifications.</li> <li>Properties:</li> <li><code>max_power_kw</code> (number, required if ac present): Maximum AC charging power</li> <li><code>supported_power_steps_kw</code> (array of numbers, optional): Supported charging power levels (e.g., [2.3, 3.7, 7.4, 11.0, 22.0])</li> <li><code>phases</code> (integer, optional): Number of phases (1, 2, or 3)</li> <li><code>voltage_range_v</code> (object, optional): Accepted voltage range<ul> <li><code>min_v</code> (number, optional): Minimum voltage</li> <li><code>max_v</code> (number, optional): Maximum voltage</li> </ul> </li> <li><code>frequency_hz</code> (number, optional): AC frequency (50 or 60 Hz)</li> <li><code>max_current_a</code> (number, optional): Maximum current draw in amperes</li> <li><code>onboard_charger_count</code> (integer, optional): Number of onboard chargers (relevant for dual-charger setups)</li> <li><code>notes</code> (string, optional): Additional AC charging information</li> </ul>"},{"location":"dataset/SCHEMA/#chargingdc","title":"<code>charging.dc</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: DC fast charging specifications.</li> <li>Properties:</li> <li><code>max_power_kw</code> (number, required if dc present): Peak DC charging power</li> <li><code>voltage_range_v</code> (object, optional): Accepted voltage range<ul> <li><code>min_v</code> (number, optional): Minimum voltage</li> <li><code>max_v</code> (number, optional): Maximum voltage</li> </ul> </li> <li><code>max_current_a</code> (number, optional): Maximum current acceptance</li> <li><code>architecture_voltage_class</code> (string, optional): Battery architecture voltage class<ul> <li>Allowed values: \"400v\", \"800v\", \"other\"</li> </ul> </li> <li><code>power_limits_by_voltage</code> (array, optional): Different power limits based on charger voltage<ul> <li><code>voltage_class</code> (string, required): Voltage class identifier</li> <li><code>max_power_kw</code> (number, required): Maximum power for this voltage class</li> <li><code>notes</code> (string, optional): Additional context</li> </ul> </li> <li><code>notes</code> (string, optional): Additional DC charging information</li> </ul>"},{"location":"dataset/SCHEMA/#chargingprotocols","title":"<code>charging.protocols</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Supported charging communication protocols.</li> <li>Properties:</li> <li><code>ac</code> (array of strings, optional): AC charging protocols (e.g., [\"iec_61851\"])</li> <li><code>dc</code> (array of strings, optional): DC charging protocols (e.g., [\"din_70121\", \"iso_15118_2\", \"iso_15118_20\", \"chademo\"])</li> <li><code>plug_and_charge</code> (boolean, optional): Whether ISO 15118 Plug &amp; Charge is supported</li> <li><code>notes</code> (string, optional): Additional protocol information</li> </ul>"},{"location":"dataset/SCHEMA/#chargingdc_charge_curve","title":"<code>charging.dc_charge_curve</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: DC fast charging power curve over state of charge. Critical for understanding real-world charging performance.</li> <li>Properties:</li> <li><code>curve_type</code> (string, required if curve present): Type of curve data<ul> <li>Allowed values: \"power_by_soc\" (power at different SOC levels), \"current_by_soc\" (current at different SOC levels)</li> </ul> </li> <li><code>points</code> (array, required if curve present): Array of curve data points<ul> <li><code>soc_percent</code> (number, required): State of charge percentage (0-100)</li> <li><code>power_kw</code> (number, optional): Charging power at this SOC</li> <li><code>current_a</code> (number, optional): Charging current at this SOC</li> <li><code>voltage_v</code> (number, optional): Battery voltage at this SOC</li> </ul> </li> <li><code>conditions</code> (object, optional): Test conditions for this curve (see conditions definition below)</li> <li><code>source_url</code> (string, optional): URL to the source of this curve data</li> <li><code>notes</code> (string, optional): Additional curve information</li> </ul>"},{"location":"dataset/SCHEMA/#chargingcharging_time","title":"<code>charging.charging_time</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Measured or estimated charging times for different scenarios.</li> </ul>"},{"location":"dataset/SCHEMA/#chargingcharging_timeac","title":"<code>charging.charging_time.ac</code>","text":"<ul> <li>Type: array</li> <li>Required: No</li> <li>Description: AC charging time measurements.</li> <li>Items:</li> <li><code>power_kw</code> (number, required): AC charging power used</li> <li><code>from_soc_percent</code> (number, required): Starting state of charge</li> <li><code>to_soc_percent</code> (number, required): Ending state of charge</li> <li><code>time_min</code> (number, required): Time required in minutes</li> <li><code>conditions</code> (object, optional): Test conditions</li> <li><code>notes</code> (string, optional): Additional context</li> </ul>"},{"location":"dataset/SCHEMA/#chargingcharging_timedc","title":"<code>charging.charging_time.dc</code>","text":"<ul> <li>Type: array</li> <li>Required: No</li> <li>Description: DC fast charging time measurements.</li> <li>Items:</li> <li><code>charger_power_kw</code> (number, required): Charger station power rating</li> <li><code>from_soc_percent</code> (number, required): Starting state of charge</li> <li><code>to_soc_percent</code> (number, required): Ending state of charge</li> <li><code>time_min</code> (number, required): Time required in minutes</li> <li><code>conditions</code> (object, optional): Test conditions</li> <li><code>notes</code> (string, optional): Additional context</li> </ul>"},{"location":"dataset/SCHEMA/#bidirectional-charging-v2x","title":"Bidirectional Charging (V2X)","text":""},{"location":"dataset/SCHEMA/#v2x","title":"<code>v2x</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Vehicle-to-everything (V2X) bidirectional charging capabilities.</li> </ul>"},{"location":"dataset/SCHEMA/#v2xv2l","title":"<code>v2x.v2l</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Vehicle-to-Load (powering external devices).</li> <li>Properties:</li> <li><code>supported</code> (boolean, required if v2l present): Whether V2L is supported</li> <li><code>max_power_kw</code> (number, optional): Maximum V2L power output</li> <li><code>outlets</code> (array, optional): Available power outlets<ul> <li><code>kind</code> (string, required): Outlet type (e.g., \"socket_type_f\", \"socket_type_g\", \"usb_c\", \"ac_outlet\")</li> <li><code>count</code> (integer, optional): Number of outlets of this type</li> <li><code>location</code> (string, optional): Location of outlets</li> <li><code>notes</code> (string, optional): Additional outlet information</li> </ul> </li> <li><code>notes</code> (string, optional): Additional V2L information</li> </ul>"},{"location":"dataset/SCHEMA/#v2xv2h","title":"<code>v2x.v2h</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Vehicle-to-Home (powering a home).</li> <li>Properties:</li> <li><code>supported</code> (boolean, required if v2h present): Whether V2H is supported</li> <li><code>max_power_kw</code> (number, optional): Maximum V2H power output</li> <li><code>connector</code> (string, optional): Connector used for V2H</li> <li><code>protocols</code> (array of strings, optional): Supported V2H protocols (e.g., [\"iso_15118_20\", \"chademo\"])</li> <li><code>notes</code> (string, optional): Additional V2H information</li> </ul>"},{"location":"dataset/SCHEMA/#v2xv2g","title":"<code>v2x.v2g</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Vehicle-to-Grid (feeding power back to the electrical grid).</li> <li>Properties:</li> <li><code>supported</code> (boolean, required if v2g present): Whether V2G is supported</li> <li><code>max_power_kw</code> (number, optional): Maximum V2G power output</li> <li><code>connector</code> (string, optional): Connector used for V2G</li> <li><code>protocols</code> (array of strings, optional): Supported V2G protocols</li> <li><code>notes</code> (string, optional): Additional V2G information</li> </ul>"},{"location":"dataset/SCHEMA/#range-and-efficiency","title":"Range and Efficiency","text":""},{"location":"dataset/SCHEMA/#range","title":"<code>range</code>","text":"<ul> <li>Type: object</li> <li>Required: Yes</li> <li>Description: Vehicle range under various testing cycles and real-world conditions.</li> </ul>"},{"location":"dataset/SCHEMA/#rangerated","title":"<code>range.rated</code>","text":"<ul> <li>Type: array</li> <li>Required: Yes</li> <li>Description: Official regulatory test cycle range ratings.</li> <li>Items:</li> <li><code>cycle</code> (string, required): Test cycle used<ul> <li>Allowed values: \"wltp\" (Worldwide Harmonized Light-duty Test Procedure), \"epa\" (US EPA), \"nedc\" (New European Driving Cycle), \"cltc\" (China Light-duty Test Cycle), \"jc08\" (Japanese cycle), \"other\"</li> </ul> </li> <li><code>range_km</code> (number, required): Rated range in kilometers</li> <li><code>notes</code> (string, optional): Additional context about the rating</li> </ul>"},{"location":"dataset/SCHEMA/#rangereal_world","title":"<code>range.real_world</code>","text":"<ul> <li>Type: array</li> <li>Required: No</li> <li>Description: Real-world range measurements or estimates.</li> <li>Items:</li> <li><code>profile</code> (string, required): Driving profile<ul> <li>Allowed values: \"highway\", \"city\", \"mixed\", \"cold_weather\", \"winter\", \"summer\"</li> </ul> </li> <li><code>range_km</code> (number, required): Observed or estimated range</li> <li><code>conditions</code> (object, optional): Test conditions<ul> <li><code>weather</code> (string, optional): Weather description</li> <li><code>speed_kmh</code> (number, optional): Average or constant speed</li> </ul> </li> <li><code>notes</code> (string, optional): Additional context</li> </ul>"},{"location":"dataset/SCHEMA/#efficiency","title":"<code>efficiency</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Energy efficiency metrics.</li> <li>Properties:</li> <li><code>energy_consumption_wh_per_km</code> (number, optional): Energy consumption in watt-hours per kilometer</li> <li><code>mpge</code> (number, optional): Miles per gallon equivalent (US EPA metric)</li> <li><code>notes</code> (string, optional): Additional efficiency information</li> </ul>"},{"location":"dataset/SCHEMA/#performance","title":"Performance","text":""},{"location":"dataset/SCHEMA/#performance_1","title":"<code>performance</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Vehicle performance specifications.</li> <li>Properties:</li> <li><code>acceleration_0_100_kmh_s</code> (number, optional): 0-100 km/h acceleration time in seconds</li> <li><code>acceleration_0_60_mph_s</code> (number, optional): 0-60 mph acceleration time in seconds</li> <li><code>top_speed_kmh</code> (number, optional): Maximum speed in km/h</li> <li><code>quarter_mile_s</code> (number, optional): Quarter mile time in seconds</li> </ul>"},{"location":"dataset/SCHEMA/#wheels-and-tires","title":"Wheels and Tires","text":""},{"location":"dataset/SCHEMA/#wheels_tires","title":"<code>wheels_tires</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Wheel and tire specifications. Can affect range and efficiency.</li> <li>Properties:</li> <li><code>standard_wheel_size_in</code> (number, optional): Standard wheel diameter in inches</li> <li><code>optional_wheel_sizes_in</code> (array of numbers, optional): Available optional wheel sizes</li> <li><code>tire_sizes</code> (array of strings, optional): Tire size designations (e.g., [\"225/55R18\", \"245/45R19\"])</li> <li><code>recommended_pressure_kpa</code> (object, optional): Recommended tire pressures<ul> <li><code>front_kpa</code> (number, optional): Front tire pressure in kilopascals</li> <li><code>rear_kpa</code> (number, optional): Rear tire pressure in kilopascals</li> </ul> </li> <li><code>notes</code> (string, optional): Additional wheel/tire information</li> </ul>"},{"location":"dataset/SCHEMA/#pricing","title":"Pricing","text":""},{"location":"dataset/SCHEMA/#pricing_1","title":"<code>pricing</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Pricing information for different markets and years.</li> </ul>"},{"location":"dataset/SCHEMA/#pricingmsrp","title":"<code>pricing.msrp</code>","text":"<ul> <li>Type: array</li> <li>Required: No</li> <li>Description: Manufacturer's Suggested Retail Price entries.</li> <li>Items:</li> <li><code>currency</code> (string, required): ISO 4217 currency code (exactly 3 characters, e.g., \"USD\", \"EUR\", \"BRL\")</li> <li><code>amount</code> (number, required): Price amount</li> <li><code>country</code> (string, optional): Country where this price applies (ISO 3166-1 alpha-2)</li> <li><code>year</code> (integer, optional): Year this pricing is for</li> <li><code>notes</code> (string, optional): Additional pricing context (e.g., \"before incentives\", \"with destination charge\")</li> </ul>"},{"location":"dataset/SCHEMA/#software-and-technology","title":"Software and Technology","text":""},{"location":"dataset/SCHEMA/#software","title":"<code>software</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Software and infotainment information.</li> <li>Properties:</li> <li><code>os</code> (string, optional): Operating system or software platform name</li> <li><code>ota_supported</code> (boolean, optional): Whether over-the-air software updates are supported</li> <li><code>notes</code> (string, optional): Additional software information</li> </ul>"},{"location":"dataset/SCHEMA/#links-and-media","title":"Links and Media","text":""},{"location":"dataset/SCHEMA/#links","title":"<code>links</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Reference URLs for official resources.</li> <li>Properties:</li> <li><code>manufacturer_url</code> (string, optional): Official manufacturer product page URL</li> <li><code>press_kit_url</code> (string, optional): Press kit or media resources URL</li> <li><code>spec_sheet_url</code> (string, optional): Official specification sheet URL</li> <li><code>configurator_url</code> (string, optional): Online configurator URL</li> </ul>"},{"location":"dataset/SCHEMA/#images","title":"<code>images</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: URLs to images and visual resources.</li> <li>Properties:</li> <li><code>exterior_url</code> (string, optional): Exterior photo URL</li> <li><code>interior_url</code> (string, optional): Interior photo URL</li> <li><code>charging_curve_plot_url</code> (string, optional): Charging curve visualization URL</li> </ul>"},{"location":"dataset/SCHEMA/#sources-and-metadata","title":"Sources and Metadata","text":""},{"location":"dataset/SCHEMA/#sources","title":"<code>sources</code>","text":"<ul> <li>Type: array</li> <li>Required: Yes</li> <li>Description: Verifiable sources for the data in this record. Every vehicle record must have at least one source.</li> <li>Items:</li> <li><code>type</code> (string, required): Source type<ul> <li>Allowed values: \"oem\" (official manufacturer), \"regulatory\" (government/regulatory body), \"press\" (press release/article), \"community\" (community testing/reporting), \"testing_org\" (independent testing organization)</li> </ul> </li> <li><code>title</code> (string, required): Source title or name</li> <li><code>publisher</code> (string, optional): Publishing organization</li> <li><code>url</code> (string, required): URL to the source (must be valid URI)</li> <li><code>accessed_at</code> (string, required): When the source was accessed (ISO-8601 datetime format)</li> <li><code>license</code> (string, optional): License of the source material if known</li> <li><code>notes</code> (string, optional): Additional source context</li> </ul>"},{"location":"dataset/SCHEMA/#metadata","title":"<code>metadata</code>","text":"<ul> <li>Type: object</li> <li>Required: No</li> <li>Description: Internal metadata about this vehicle record.</li> <li>Properties:</li> <li><code>created_at</code> (string, optional): When this record was created (ISO-8601 datetime)</li> <li><code>updated_at</code> (string, optional): When this record was last updated (ISO-8601 datetime)</li> <li><code>contributors</code> (array of strings, optional): Contributors to this record</li> <li><code>data_quality</code> (string, optional): Quality assessment (e.g., \"verified\", \"partially_verified\", \"unverified\")</li> <li><code>internal_notes</code> (string, optional): Internal notes not meant for public consumption</li> </ul>"},{"location":"dataset/SCHEMA/#reusable-definitions","title":"Reusable Definitions","text":"<p>These definitions are referenced throughout the schema using <code>$ref</code>.</p>"},{"location":"dataset/SCHEMA/#slug_name","title":"<code>slug_name</code>","text":"<p>A common pattern for identifiers that need both machine-readable slugs and human-readable names. - Properties:   - <code>slug</code> (string, required): Lowercase identifier matching pattern <code>^[a-z0-9_]+$</code>   - <code>name</code> (string, required): Human-readable name</p>"},{"location":"dataset/SCHEMA/#min_max_v","title":"<code>min_max_v</code>","text":"<p>Voltage range specification. - Properties:   - <code>min_v</code> (number, optional): Minimum voltage   - <code>max_v</code> (number, optional): Maximum voltage</p>"},{"location":"dataset/SCHEMA/#conditions","title":"<code>conditions</code>","text":"<p>Test or measurement conditions that can be referenced by charging curves and charging time measurements. - Properties:   - <code>battery_temp_c</code> (number, optional): Battery temperature in Celsius   - <code>ambient_temp_c</code> (number, optional): Ambient temperature in Celsius   - <code>preconditioning</code> (boolean, optional): Whether battery was preconditioned   - <code>charger_power_kw</code> (number, optional): Charger station power rating   - <code>notes</code> (string, optional): Additional condition details</p>"},{"location":"dataset/SCHEMA/#validation-rules","title":"Validation Rules","text":"<p>Beyond the field definitions above, the following validation rules apply:</p> <ol> <li>At least one battery capacity must be present: either <code>battery.pack_capacity_kwh_gross</code> or <code>battery.pack_capacity_kwh_net</code> (or both)</li> <li>Charge ports array must have at least one item</li> <li>Range rated array must have at least one item</li> <li>Sources array must have at least one item</li> <li>Year must be between 1900 and 2100</li> <li>ISO country codes in <code>markets</code> must be exactly 2 uppercase letters</li> <li>ISO currency codes in <code>pricing.msrp</code> must be exactly 3 characters</li> <li>SOC percentages must be between 0 and 100</li> <li>If variant object is present, both <code>variant.slug</code> and <code>variant.name</code> are required</li> <li>If charging curve is present, must have at least 2 points</li> </ol>"},{"location":"dataset/SCHEMA/#best-practices","title":"Best Practices","text":""},{"location":"dataset/SCHEMA/#required-fields-strategy","title":"Required Fields Strategy","text":"<p>The schema marks relatively few fields as required at the root level to accommodate: - Vehicles with incomplete public data - Incremental data collection - Market-specific variations</p> <p>However, for a high-quality, complete vehicle record, contributors should aim to provide: - Complete battery specifications (both gross and net capacity) - Both AC and DC charging specifications when applicable - At least one rated range value - Performance metrics if publicly available - Multiple verifiable sources</p>"},{"location":"dataset/SCHEMA/#data-quality","title":"Data Quality","text":"<ul> <li>Always provide sources for any non-trivial specification</li> <li>When data varies by market, use the <code>markets</code> field to be explicit</li> <li>Use <code>notes</code> fields to clarify ambiguities or special cases</li> <li>Prefer official OEM sources over secondary sources when available</li> </ul>"},{"location":"dataset/SCHEMA/#variant-usage","title":"Variant Usage","text":"<p>See ARCHITECTURE.md for detailed guidance on when to create variants versus new base vehicles.</p> <p>For information about how to author vehicle data files, the layered data model, compilation process, and directory structure, see ARCHITECTURE.md.</p>"},{"location":"documentation/architecture/","title":"Architecture Overview","text":"<p>OpenEV Data is designed as a modular, scalable system following best practices in software architecture and data engineering.</p>"},{"location":"documentation/architecture/#system-components","title":"System Components","text":"<p>The OpenEV Data ecosystem consists of four main components:</p> <pre><code>graph TB\n    subgraph \"Data Layer\"\n        Dataset[Dataset Repository&lt;br/&gt;Layered JSON Files]\n    end\n\n    subgraph \"Processing Layer\"\n        ETL[ETL Pipeline&lt;br/&gt;Rust]\n    end\n\n    subgraph \"Storage Layer\"\n        JSON[JSON Files]\n        SQLite[SQLite DB]\n        PostgreSQL[PostgreSQL]\n        CSV[CSV Export]\n        XML[XML Export]\n    end\n\n    subgraph \"API Layer\"\n        Server[REST API&lt;br/&gt;Rust/Axum]\n    end\n\n    subgraph \"Presentation Layer\"\n        Docs[Documentation&lt;br/&gt;MkDocs]\n    end\n\n    Dataset --&gt;|Source| ETL\n    ETL --&gt;|Generate| JSON\n    ETL --&gt;|Generate| SQLite\n    ETL --&gt;|Generate| PostgreSQL\n    ETL --&gt;|Generate| CSV\n    ETL --&gt;|Generate| XML\n\n    SQLite --&gt;|Query| Server\n    PostgreSQL --&gt;|Query| Server\n\n    Server --&gt;|Reference| Docs\n    Dataset --&gt;|Link| Docs</code></pre>"},{"location":"documentation/architecture/#repository-structure","title":"Repository Structure","text":""},{"location":"documentation/architecture/#1-dataset-repository","title":"1. Dataset Repository","text":"<p>Purpose: Single source of truth for EV specifications</p> <p>Technology: JSON, JSON Schema</p> <p>Architecture: Layered Canonical Dataset (LCD)</p> <p>The dataset follows a hierarchical structure:</p> <pre><code>src/\n  &lt;make&gt;/\n    &lt;model&gt;/\n      base.json              # Shared specifications\n      &lt;year&gt;/\n        &lt;vehicle&gt;.json       # Base vehicle\n        &lt;vehicle&gt;_&lt;variant&gt;.json  # Variants\n</code></pre> <p>Key Features:</p> <ul> <li>Deep merge inheritance</li> <li>Strict schema validation</li> <li>Version controlled</li> <li>Community reviewed</li> </ul> <p>Read detailed Dataset Architecture \u2192</p>"},{"location":"documentation/architecture/#2-api-repository","title":"2. API Repository","text":"<p>Purpose: High-performance data processing and API serving</p> <p>Technology: Rust, Axum, SQLite, PostgreSQL</p> <p>Architecture: Hexagonal Architecture (Ports and Adapters)</p> <p>The API follows a clean architecture pattern:</p> <pre><code>crates/\n  ev-core/        # Domain types (Pure Rust)\n  ev-etl/         # ETL pipeline (CLI)\n  ev-server/      # REST API server\n</code></pre> <p>Key Features:</p> <ul> <li>Type-safe domain model</li> <li>Multiple output formats</li> <li>Edge-ready deployment</li> <li>&lt;50ms response times</li> </ul> <p>Read detailed API Architecture \u2192</p>"},{"location":"documentation/architecture/#3-documentation-repository","title":"3. Documentation Repository","text":"<p>Purpose: Centralized documentation and guides</p> <p>Technology: MkDocs, Material Theme, Python</p> <p>Architecture: Static site generation with versioning</p> <p>Key Features:</p> <ul> <li>Automatic deployment</li> <li>Version management with mike</li> <li>Search functionality</li> <li>Material design</li> </ul> <p>You're reading it right now!</p>"},{"location":"documentation/architecture/#4-governance-repository","title":"4. Governance Repository","text":"<p>Purpose: Organization-wide policies and templates</p> <p>Technology: Markdown, GitHub templates</p> <p>Contents:</p> <ul> <li>Contributing guidelines</li> <li>Code of conduct</li> <li>Issue templates</li> <li>Pull request templates</li> <li>Workspace configuration</li> </ul>"},{"location":"documentation/architecture/#data-flow","title":"Data Flow","text":""},{"location":"documentation/architecture/#build-time-pipeline","title":"Build-Time Pipeline","text":"<pre><code>sequenceDiagram\n    participant C as Contributor\n    participant D as Dataset Repo\n    participant CI as GitHub Actions\n    participant E as ETL\n    participant R as Releases\n\n    C-&gt;&gt;D: Commit JSON changes\n    D-&gt;&gt;CI: Trigger workflow\n    CI-&gt;&gt;E: Run cargo build\n    E-&gt;&gt;E: Load &amp; validate\n    E-&gt;&gt;E: Merge layers\n    E-&gt;&gt;E: Generate outputs\n    E-&gt;&gt;R: Publish artifacts\n    Note over R: vehicles.json&lt;br/&gt;vehicles.db&lt;br/&gt;vehicles.sql&lt;br/&gt;vehicles.csv&lt;br/&gt;vehicles.xml</code></pre>"},{"location":"documentation/architecture/#runtime-api-flow","title":"Runtime API Flow","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant API as ev-server\n    participant DB as Database\n\n    Client-&gt;&gt;API: GET /v1/vehicles/tesla/model_3/2024\n    API-&gt;&gt;DB: Query vehicle\n    DB--&gt;&gt;API: Vehicle data\n    API--&gt;&gt;Client: JSON response\n    Note over Client,API: &lt;50ms response time</code></pre>"},{"location":"documentation/architecture/#architectural-principles","title":"Architectural Principles","text":""},{"location":"documentation/architecture/#1-separation-of-concerns","title":"1. Separation of Concerns","text":"<p>Each repository has a single, well-defined responsibility:</p> <ul> <li>Dataset: Data curation</li> <li>API: Data processing and serving</li> <li>Docs: Documentation</li> <li>Governance: Policies and templates</li> </ul>"},{"location":"documentation/architecture/#2-data-as-code","title":"2. Data as Code","text":"<p>All vehicle specifications are:</p> <ul> <li>Version controlled (Git)</li> <li>Reviewed (Pull Requests)</li> <li>Validated (Schema + CI)</li> <li>Traceable (Sources)</li> </ul>"},{"location":"documentation/architecture/#3-build-time-optimization","title":"3. Build-Time Optimization","text":"<p>Heavy processing happens once during builds:</p> <ul> <li>Layer merging</li> <li>Schema validation</li> <li>Format conversion</li> <li>Index generation</li> </ul> <p>Runtime is optimized for reads.</p>"},{"location":"documentation/architecture/#4-multiple-consumption-patterns","title":"4. Multiple Consumption Patterns","text":"<p>The same source data powers:</p> <ul> <li>Direct file downloads</li> <li>REST API access</li> <li>Embedded databases</li> <li>Bulk SQL imports</li> <li>CSV analysis</li> </ul>"},{"location":"documentation/architecture/#5-type-safety","title":"5. Type Safety","text":"<p>Rust's type system prevents invalid states:</p> <ul> <li>Compile-time guarantees</li> <li>No null pointer errors</li> <li>Exhaustive pattern matching</li> <li>Zero-cost abstractions</li> </ul>"},{"location":"documentation/architecture/#6-global-performance","title":"6. Global Performance","text":"<p>API deployed at the edge:</p> <ul> <li>Production-ready deployments</li> <li>Low-latency worldwide access</li> <li>Automatic scaling</li> </ul>"},{"location":"documentation/architecture/#design-patterns","title":"Design Patterns","text":""},{"location":"documentation/architecture/#dataset-layered-canonical-dataset-lcd","title":"Dataset: Layered Canonical Dataset (LCD)","text":"<p>Inspired by configuration management systems, LCD provides:</p> <ul> <li>Inheritance: Base \u2192 Year \u2192 Variant</li> <li>DRY: No repeated data</li> <li>Deterministic: Same input = same output</li> <li>Traceable: Clear data lineage</li> </ul>"},{"location":"documentation/architecture/#api-hexagonal-architecture","title":"API: Hexagonal Architecture","text":"<p>Clean separation between:</p> <ul> <li>Core: Pure domain logic</li> <li>Adapters: I/O implementations</li> <li>Ports: Abstract interfaces</li> </ul> <p>Benefits:</p> <ul> <li>Testable without I/O</li> <li>Swappable implementations</li> <li>Framework independent</li> </ul>"},{"location":"documentation/architecture/#documentation-docs-as-code","title":"Documentation: Docs as Code","text":"<p>Documentation follows software practices:</p> <ul> <li>Version controlled</li> <li>CI/CD deployment</li> <li>Automated versioning</li> <li>Pull request reviews</li> </ul>"},{"location":"documentation/architecture/#technology-choices","title":"Technology Choices","text":""},{"location":"documentation/architecture/#why-rust","title":"Why Rust?","text":"<ol> <li>Performance: Near C/C++ speed</li> <li>Safety: No segfaults, no data races</li> <li>Tooling: Cargo, rustfmt, clippy</li> <li>Community: Growing ecosystem</li> </ol>"},{"location":"documentation/architecture/#why-mkdocs-material","title":"Why MkDocs Material?","text":"<ol> <li>Beautiful: Modern, responsive design</li> <li>Features: Search, navigation, tabs</li> <li>Extensions: Mermaid, admonitions, code highlighting</li> <li>Versioning: Built-in support with mike</li> <li>Fast: Static site generation</li> </ol>"},{"location":"documentation/architecture/#why-json-schema","title":"Why JSON Schema?","text":"<ol> <li>Standard: Industry-standard validation</li> <li>Language-agnostic: Works everywhere</li> <li>Documentation: Self-documenting schema</li> <li>Tooling: Wide ecosystem support</li> <li>Strict: Catches errors early</li> </ol>"},{"location":"documentation/architecture/#deployment-architecture","title":"Deployment Architecture","text":""},{"location":"documentation/architecture/#current","title":"Current","text":"<pre><code>graph LR\n    subgraph \"GitHub\"\n        Dataset[Dataset Repo]\n        API[API Repo]\n        Docs[Docs Repo]\n    end\n\n    subgraph \"GitHub Actions\"\n        ETL[ETL Pipeline]\n        DocsBuild[Docs Build]\n    end\n\n    subgraph \"GitHub Releases\"\n        Artifacts[Data Artifacts]\n    end\n\n    subgraph \"GitHub Pages\"\n        Site[Documentation Site]\n    end\n\n    Dataset --&gt;|Trigger| ETL\n    ETL --&gt;|Publish| Artifacts\n\n    Docs --&gt;|Trigger| DocsBuild\n    DocsBuild --&gt;|Deploy| Site</code></pre>"},{"location":"documentation/architecture/#quality-assurance","title":"Quality Assurance","text":""},{"location":"documentation/architecture/#dataset-quality","title":"Dataset Quality","text":"<ul> <li>Schema validation</li> <li>Source verification</li> <li>Peer review</li> <li>Automated checks</li> </ul>"},{"location":"documentation/architecture/#code-quality","title":"Code Quality","text":"<ul> <li>Unit tests</li> <li>Integration tests</li> <li>Clippy linting</li> <li>Format checking</li> </ul>"},{"location":"documentation/architecture/#documentation-quality","title":"Documentation Quality","text":"<ul> <li>Link checking</li> <li>Spell checking</li> <li>Preview builds</li> <li>Version tracking</li> </ul>"},{"location":"documentation/architecture/#scalability","title":"Scalability","text":""},{"location":"documentation/architecture/#data-growth","title":"Data Growth","text":"<p>The architecture supports:</p> <ul> <li>Thousands of vehicles: Efficient indexing</li> <li>Multiple variants: Layered structure</li> <li>Historical data: Version tracking</li> <li>International markets: Multi-source support</li> </ul>"},{"location":"documentation/architecture/#api-scaling","title":"API Scaling","text":"<p>The API scales through:</p> <ul> <li>Horizontal scaling: Stateless design</li> <li>Caching: Database in memory</li> <li>CDN: Static asset delivery</li> <li>Edge deployment: Global distribution</li> </ul>"},{"location":"documentation/architecture/#security","title":"Security","text":""},{"location":"documentation/architecture/#data-integrity","title":"Data Integrity","text":"<ul> <li>Git commit signing</li> <li>Pull request reviews</li> <li>CI validation</li> <li>Checksum verification</li> </ul>"},{"location":"documentation/architecture/#api-security","title":"API Security","text":"<ul> <li>HTTPS only</li> <li>CORS configuration</li> <li>Rate limiting (planned)</li> <li>API keys (planned)</li> </ul>"},{"location":"documentation/architecture/#next-steps","title":"Next Steps","text":"<p>Explore specific architectures:</p> <ul> <li> <p>Dataset Architecture</p> <p>Layered data structure</p> </li> <li> <p>API Architecture</p> <p>Hexagonal architecture in Rust</p> </li> <li> <p>Contributing Guide</p> <p>Start contributing</p> </li> <li> <p>API Reference</p> <p>Complete API documentation</p> </li> </ul>"},{"location":"documentation/dataset/","title":"Dataset Overview","text":"<p>The OpenEV Data Dataset is the core of the project - a canonical, open dataset of electric vehicle specifications following a Layered Canonical Dataset (LCD) architecture.</p>"},{"location":"documentation/dataset/#quick-information","title":"Quick Information","text":"License CDLA-Permissive-2.0 Format JSON (layered structure) Validation JSON Schema Repository open-ev-data-dataset"},{"location":"documentation/dataset/#what-is-the-dataset","title":"What is the Dataset?","text":"<p>The dataset provides structured, versioned, and community-maintained EV specifications authored as layered JSON fragments and compiled into canonical, fully-expanded vehicle records.</p>"},{"location":"documentation/dataset/#key-features","title":"Key Features","text":"<ul> <li>Layered Structure: Base \u2192 Year \u2192 Variant inheritance</li> <li>DRY Principle: No repeated data</li> <li>Schema Validation: Strict type checking</li> <li>Version Controlled: Git-based</li> <li>Community Reviewed: Pull request workflow</li> <li>Multi-Format Output: JSON, SQLite, PostgreSQL, CSV, XML</li> </ul>"},{"location":"documentation/dataset/#repository-structure","title":"Repository Structure","text":"<p>The dataset follows a hierarchical directory structure:</p> <pre><code>src/\n  &lt;make_slug&gt;/\n    &lt;model_slug&gt;/\n      base.json                    # Shared specifications\n      &lt;year&gt;/\n        &lt;vehicle_slug&gt;.json        # Base vehicle for year\n        &lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json  # Variant\n</code></pre>"},{"location":"documentation/dataset/#example-byd-seal","title":"Example: BYD Seal","text":"<pre><code>src/\n  byd/\n    seal/\n      base.json                    # Common to all years\n      2023/\n        seal.json                  # Base 2023 model\n        seal_performance.json      # Performance variant\n      2024/\n        seal.json                  # Base 2024 model\n        seal_performance.json      # Performance variant\n</code></pre>"},{"location":"documentation/dataset/#data-coverage","title":"Data Coverage","text":"<p>The dataset aims to cover:</p>"},{"location":"documentation/dataset/#vehicle-identity","title":"Vehicle Identity","text":"<ul> <li>Make, model, year</li> <li>Trim and variant configurations</li> <li>Market availability</li> </ul>"},{"location":"documentation/dataset/#battery-system","title":"Battery System","text":"<ul> <li>Chemistry (LFP, NMC, etc.)</li> <li>Capacity (gross/net)</li> <li>Voltage and cell count</li> <li>Thermal management</li> <li>Warranty information</li> <li>Preconditioning support</li> </ul>"},{"location":"documentation/dataset/#charging-infrastructure","title":"Charging Infrastructure","text":"<ul> <li>Charge ports (Type 1, Type 2, CCS1, CCS2, NACS, CHAdeMO, GB/T)</li> <li>Port location and features</li> <li>Connector types</li> </ul>"},{"location":"documentation/dataset/#charging-capabilities","title":"Charging Capabilities","text":"<ul> <li>AC power, phases, onboard charger specs</li> <li>DC fast charging peak power</li> <li>Voltage class (400V, 800V)</li> <li>Charging curves</li> <li>Supported protocols</li> </ul>"},{"location":"documentation/dataset/#bidirectional-charging-v2x","title":"Bidirectional Charging (V2X)","text":"<ul> <li>V2L (Vehicle-to-Load)</li> <li>V2H (Vehicle-to-Home)</li> <li>V2G (Vehicle-to-Grid)</li> <li>Power limits and protocols</li> </ul>"},{"location":"documentation/dataset/#range-and-efficiency","title":"Range and Efficiency","text":"<ul> <li>Rated cycles (WLTP, EPA, NEDC, CLTC, JC08)</li> <li>Real-world estimates</li> <li>Energy consumption</li> </ul>"},{"location":"documentation/dataset/#powertrain","title":"Powertrain","text":"<ul> <li>Motor configuration</li> <li>Power and torque</li> <li>Drivetrain (FWD, RWD, AWD)</li> <li>Transmission</li> </ul>"},{"location":"documentation/dataset/#performance","title":"Performance","text":"<ul> <li>Acceleration (0-100 km/h, 0-60 mph)</li> <li>Top speed</li> <li>Quarter mile times</li> </ul>"},{"location":"documentation/dataset/#physical-specifications","title":"Physical Specifications","text":"<ul> <li>Dimensions (length, width, height)</li> <li>Weight (curb, GVWR)</li> <li>Cargo capacity</li> <li>Towing capacity</li> </ul>"},{"location":"documentation/dataset/#wheels-and-tires","title":"Wheels and Tires","text":"<ul> <li>Wheel sizes</li> <li>Tire specifications</li> <li>Recommended pressures</li> </ul>"},{"location":"documentation/dataset/#market-data","title":"Market Data","text":"<ul> <li>Availability status</li> <li>Markets by country</li> <li>Pricing (MSRP)</li> </ul>"},{"location":"documentation/dataset/#software","title":"Software","text":"<ul> <li>Operating system</li> <li>OTA update support</li> </ul>"},{"location":"documentation/dataset/#sources-and-metadata","title":"Sources and Metadata","text":"<ul> <li>Verifiable sources</li> <li>Data quality indicators</li> <li>Contributors</li> </ul>"},{"location":"documentation/dataset/#complete-documentation","title":"Complete Documentation","text":"<p>The dataset has comprehensive documentation in its own repository:</p> <ul> <li> <p>Architecture Documentation</p> <p>Complete architectural details</p> </li> <li> <p>Schema Reference</p> <p>Field-by-field documentation</p> </li> <li> <p>Example Vehicle</p> <p>Minimal example structure</p> </li> <li> <p>Browse Dataset</p> <p>Explore the data</p> </li> </ul>"},{"location":"documentation/dataset/#use-cases","title":"Use Cases","text":""},{"location":"documentation/dataset/#research","title":"Research","text":"<ul> <li>EV market analysis</li> <li>Charging infrastructure planning</li> <li>Battery technology trends</li> <li>Energy consumption studies</li> </ul>"},{"location":"documentation/dataset/#applications","title":"Applications","text":"<ul> <li>EV comparison tools</li> <li>Range calculators</li> <li>Charging time estimators</li> <li>Route planners</li> </ul>"},{"location":"documentation/dataset/#apis","title":"APIs","text":"<ul> <li>Backend data source</li> <li>Automotive applications</li> <li>Charging network integration</li> </ul>"},{"location":"documentation/dataset/#education","title":"Education","text":"<ul> <li>Learning about EV technology</li> <li>Understanding specifications</li> <li>Comparing technologies</li> </ul>"},{"location":"documentation/dataset/#download-pre-built-datasets","title":"Download Pre-Built Datasets","text":"<p>Pre-compiled datasets are available in multiple formats:</p> <p>Download from Releases \u2192</p> <p>Available formats:</p> <ul> <li><code>vehicles.json</code> - Complete canonical dataset</li> <li><code>vehicles.db</code> - SQLite database</li> <li><code>vehicles.sql</code> - PostgreSQL schema + data</li> <li><code>vehicles.csv</code> - Flattened tabular format</li> <li><code>vehicles.xml</code> - XML representation</li> </ul>"},{"location":"documentation/dataset/#contributing-data","title":"Contributing Data","text":"<p>Help expand and maintain the database:</p> <ol> <li>Read the Contributing Guide</li> <li>Review the Data Quality Standards</li> <li>Follow the Adding a Vehicle guide</li> <li>Submit a pull request</li> </ol>"},{"location":"documentation/dataset/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Architecture Details</p> <p>Technical architecture</p> </li> <li> <p>Schema Reference</p> <p>Complete field documentation</p> </li> <li> <p>Quick Start</p> <p>Start using the data</p> </li> <li> <p>Add a Vehicle</p> <p>Contribute data</p> </li> </ul>"},{"location":"documentation/dataset/architecture/","title":"Dataset Architecture","text":"<p>Complete Documentation</p> <p>This page provides an overview of the dataset architecture. For complete technical details, see the Dataset Architecture Documentation in the dataset repository.</p>"},{"location":"documentation/dataset/architecture/#architectural-style-layered-canonical-dataset-lcd","title":"Architectural Style: Layered Canonical Dataset (LCD)","text":"<p>The OpenEV Data Dataset follows a Layered Canonical Dataset (LCD) architecture - a directory-driven, inheritance-based data model where vehicle specifications are authored as layered JSON fragments and compiled into canonical, fully-expanded vehicle records.</p>"},{"location":"documentation/dataset/architecture/#why-lcd","title":"Why LCD?","text":"<ul> <li>Eliminates repetition: Shared attributes live in <code>base.json</code> and are inherited</li> <li>Deterministic builds: Same input produces same output</li> <li>Low-friction contributions: Edit small, localized JSON files</li> <li>Supports variants cleanly: Single base generates multiple canonical vehicles</li> <li>Global correctness: Strict contract ensures consistency</li> </ul>"},{"location":"documentation/dataset/architecture/#repository-layout","title":"Repository Layout","text":"<p>The dataset is authored under <code>src/</code> with this structure:</p> <pre><code>src/\n  &lt;make_slug&gt;/\n    &lt;model_slug&gt;/\n      base.json\n      &lt;year&gt;/\n        &lt;vehicle_slug&gt;.json\n        &lt;vehicle_slug&gt;_&lt;variant_slug&gt;.json\n</code></pre>"},{"location":"documentation/dataset/architecture/#example-bmw-ix1","title":"Example: BMW iX1","text":"<pre><code>src/\n  bmw/\n    ix1/\n      base.json\n      2024/\n        ix1.json\n        ix1_350_autonomy.json\n      2025/\n        ix1.json\n</code></pre>"},{"location":"documentation/dataset/architecture/#merge-precedence","title":"Merge Precedence","text":"<p>The build process merges layers with this precedence (lowest \u2192 highest):</p> <ol> <li>Model Base (<code>base.json</code>) - Shared across all years</li> <li>Year Base (<code>&lt;vehicle&gt;.json</code>) - Specific year configuration</li> <li>Variant (<code>&lt;vehicle&gt;_&lt;variant&gt;.json</code>) - Delta from year base</li> </ol>"},{"location":"documentation/dataset/architecture/#merge-rules","title":"Merge Rules","text":"<ul> <li>Objects: Deep merge by key (recursive)</li> <li>Scalars: Replace (higher precedence wins)</li> <li>Arrays: Complete replacement (no concatenation)</li> <li>Null values: Not allowed</li> <li>Unknown keys: Validation failure</li> </ul>"},{"location":"documentation/dataset/architecture/#file-structure","title":"File Structure","text":""},{"location":"documentation/dataset/architecture/#base-file-basejson","title":"Base File (<code>base.json</code>)","text":"<p>Contains specifications stable across years:</p> <pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"make\": {\n    \"slug\": \"tesla\",\n    \"name\": \"Tesla\"\n  },\n  \"model\": {\n    \"slug\": \"model_3\",\n    \"name\": \"Model 3\"\n  },\n  \"vehicle_type\": \"sedan\",\n  \"body\": {\n    \"style\": \"sedan\",\n    \"doors\": 4,\n    \"seats\": 5\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/architecture/#year-base-file-model_3json","title":"Year Base File (<code>model_3.json</code>)","text":"<p>Contains year-specific specifications:</p> <pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"year\": 2024,\n  \"trim\": {\n    \"slug\": \"base\",\n    \"name\": \"Base\"\n  },\n  \"battery\": {\n    \"pack_capacity_kwh_net\": 60.0,\n    \"thermal_management\": \"liquid\"\n  },\n  \"range\": {\n    \"rated\": [\n      {\n        \"cycle\": \"wltp\",\n        \"range_km\": 513\n      }\n    ]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Official Specifications\",\n      \"url\": \"https://tesla.com/model3\",\n      \"accessed_at\": \"2025-12-25T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"documentation/dataset/architecture/#variant-file-model_3_long_rangejson","title":"Variant File (<code>model_3_long_range.json</code>)","text":"<p>Contains only differences from base:</p> <pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"variant\": {\n    \"slug\": \"long_range\",\n    \"name\": \"Long Range\",\n    \"kind\": \"range_upgrade\"\n  },\n  \"battery\": {\n    \"pack_capacity_kwh_net\": 82.0\n  },\n  \"range\": {\n    \"rated\": [\n      {\n        \"cycle\": \"wltp\",\n        \"range_km\": 629\n      }\n    ]\n  },\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Long Range Specifications\",\n      \"url\": \"https://tesla.com/model3/design#range\",\n      \"accessed_at\": \"2025-12-25T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"documentation/dataset/architecture/#compilation-process","title":"Compilation Process","text":"<p>The ETL pipeline compiles layered files into canonical vehicles:</p> <pre><code>graph LR\n    Base[base.json] --&gt; Merge\n    Year[2024/model_3.json] --&gt; Merge\n    Variant[2024/model_3_long_range.json] --&gt; Merge\n\n    Merge[Deep Merge] --&gt; Validate[Schema Validation]\n\n    Validate --&gt; Canonical1[Canonical Vehicle 1&lt;br/&gt;Base Trim]\n    Validate --&gt; Canonical2[Canonical Vehicle 2&lt;br/&gt;Long Range Variant]</code></pre>"},{"location":"documentation/dataset/architecture/#output-cardinality","title":"Output Cardinality","text":"<ul> <li>Each <code>&lt;vehicle&gt;.json</code> produces one canonical vehicle</li> <li>Each <code>&lt;vehicle&gt;_&lt;variant&gt;.json</code> produces one additional canonical vehicle</li> </ul> <p>Example: <code>model_3.json</code> + <code>model_3_long_range.json</code> = 2 canonical vehicles</p>"},{"location":"documentation/dataset/architecture/#when-to-create-a-variant","title":"When to Create a Variant","text":"<p>Create a separate variant when changes affect:</p> <ul> <li>Range rating (any test cycle)</li> <li>Battery capacity or voltage class</li> <li>Drivetrain or motor configuration</li> <li>Charging capability (AC/DC power, connector, protocols)</li> <li>DC charge curve or charge times</li> <li>V2X capability</li> <li>Official performance metrics</li> <li>Regulatory classification</li> </ul>"},{"location":"documentation/dataset/architecture/#naming-conventions","title":"Naming Conventions","text":""},{"location":"documentation/dataset/architecture/#slugs","title":"Slugs","text":"<p>All slugs must:</p> <ul> <li>Be lowercase ASCII</li> <li>Use <code>a-z</code>, <code>0-9</code>, and underscore <code>_</code> only</li> <li>Not start or end with <code>_</code></li> <li>Be stable over time</li> </ul> <p>Good Examples:</p> <ul> <li><code>tesla</code></li> <li><code>model_3</code></li> <li><code>long_range</code></li> <li><code>performance</code></li> </ul> <p>Bad Examples:</p> <ul> <li><code>Tesla</code> (uppercase)</li> <li><code>model-3</code> (hyphen)</li> <li><code>_base</code> (leading underscore)</li> <li><code>Model 3</code> (space)</li> </ul>"},{"location":"documentation/dataset/architecture/#validation-pipeline","title":"Validation Pipeline","text":"<p>Each canonical vehicle must pass:</p> <ol> <li>JSON Schema Validation: Against <code>schema.json</code></li> <li>Required Fields Check: All mandatory fields present</li> <li>Type Validation: Correct data types</li> <li>Business Rules:</li> <li>At least one battery capacity</li> <li>At least one charge port</li> <li>At least one rated range</li> <li>At least one source</li> <li>Valid slug patterns</li> <li>Referential Integrity: Variants reference valid base vehicles</li> </ol>"},{"location":"documentation/dataset/architecture/#professional-data-quality-requirements","title":"Professional Data Quality Requirements","text":"<ul> <li>No unverifiable claims: Every spec must have sources</li> <li>Market ambiguity must be explicit: Specify markets when limited</li> <li>Avoid marketing ambiguity: Use numeric, test-cycle-qualified values</li> <li>Prefer net capacity: Store both gross and net when available</li> <li>Charging data must declare context: Disclose SOC window and conditions</li> <li>Keep variants minimal: Variants are deltas, not full copies</li> </ul>"},{"location":"documentation/dataset/architecture/#complete-documentation","title":"Complete Documentation","text":"<p>For detailed technical specifications, examples, and advanced topics:</p> <p>Read Complete Architecture Documentation \u2192</p>"},{"location":"documentation/dataset/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li> <p>Schema Reference</p> <p>Field-by-field documentation</p> </li> <li> <p>Adding a Vehicle</p> <p>Step-by-step guide</p> </li> <li> <p>Data Quality</p> <p>Quality standards</p> </li> <li> <p>API Architecture</p> <p>How data is processed</p> </li> </ul>"},{"location":"documentation/dataset/schema/","title":"Dataset Schema Reference","text":"<p>Complete Schema Documentation</p> <p>This page provides an overview of the schema. For complete field-by-field documentation, see the Schema Documentation in the dataset repository.</p>"},{"location":"documentation/dataset/schema/#overview","title":"Overview","text":"<p>The OpenEV Data schema defines the structure and validation rules for all vehicle specifications in the database. It uses JSON Schema for validation and ensures data consistency across all vehicles.</p>"},{"location":"documentation/dataset/schema/#schema-version","title":"Schema Version","text":"<p>Current schema version: 1.0.0</p> <p>All vehicle records must include:</p> <pre><code>{\n  \"schema_version\": \"1.0.0\"\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#required-root-fields","title":"Required Root Fields","text":"<p>Every canonical vehicle record must include:</p> Field Type Description <code>schema_version</code> string Schema version (e.g., \"1.0.0\") <code>make</code> object Manufacturer information <code>model</code> object Model information <code>year</code> integer Model year <code>trim</code> object Trim/grade information <code>vehicle_type</code> string Vehicle classification <code>powertrain</code> object Drivetrain and motors <code>battery</code> object Battery specifications <code>charge_ports</code> array Physical charge ports <code>charging</code> object Charging capabilities <code>range</code> object Range ratings <code>sources</code> array Data sources"},{"location":"documentation/dataset/schema/#key-field-groups","title":"Key Field Groups","text":""},{"location":"documentation/dataset/schema/#vehicle-identification","title":"Vehicle Identification","text":"<pre><code>{\n  \"make\": {\n    \"slug\": \"tesla\",\n    \"name\": \"Tesla\"\n  },\n  \"model\": {\n    \"slug\": \"model_3\",\n    \"name\": \"Model 3\"\n  },\n  \"year\": 2024,\n  \"trim\": {\n    \"slug\": \"base\",\n    \"name\": \"Base\"\n  },\n  \"variant\": {\n    \"slug\": \"long_range\",\n    \"name\": \"Long Range\",\n    \"kind\": \"range_upgrade\"\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#battery-system","title":"Battery System","text":"<pre><code>{\n  \"battery\": {\n    \"pack_capacity_kwh_gross\": 82.0,\n    \"pack_capacity_kwh_net\": 75.0,\n    \"chemistry\": \"nmc\",\n    \"voltage_nominal_v\": 400,\n    \"thermal_management\": \"liquid\",\n    \"warranty\": {\n      \"years\": 8,\n      \"km\": 192000,\n      \"capacity_percent\": 70\n    }\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#charging-capabilities","title":"Charging Capabilities","text":"<pre><code>{\n  \"charge_ports\": [\n    {\n      \"kind\": \"combo\",\n      \"connector\": \"ccs2\",\n      \"location\": {\n        \"side\": \"left\",\n        \"position\": \"rear\"\n      }\n    }\n  ],\n  \"charging\": {\n    \"ac\": {\n      \"max_power_kw\": 11.0,\n      \"phases\": 3,\n      \"onboard_charger_kw\": 11.0\n    },\n    \"dc\": {\n      \"max_power_kw\": 250.0,\n      \"architecture_voltage_class\": \"400v\",\n      \"max_current_a\": 625,\n      \"charge_curve\": [\n        { \"soc_percent\": 0, \"power_kw\": 250 },\n        { \"soc_percent\": 50, \"power_kw\": 250 },\n        { \"soc_percent\": 80, \"power_kw\": 100 }\n      ]\n    },\n    \"protocols\": {\n      \"dc\": [\"iso_15118_2\", \"din_70121\"],\n      \"plug_and_charge\": true\n    }\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#range-and-efficiency","title":"Range and Efficiency","text":"<pre><code>{\n  \"range\": {\n    \"rated\": [\n      {\n        \"cycle\": \"wltp\",\n        \"range_km\": 629,\n        \"consumption_kwh_per_100km\": 13.0\n      },\n      {\n        \"cycle\": \"epa\",\n        \"range_km\": 568,\n        \"consumption_kwh_per_100km\": 14.5\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#powertrain","title":"Powertrain","text":"<pre><code>{\n  \"powertrain\": {\n    \"drivetrain\": \"awd\",\n    \"motors\": [\n      {\n        \"position\": \"front\",\n        \"power_kw\": 180,\n        \"torque_nm\": 420,\n        \"type\": \"permanent_magnet\"\n      },\n      {\n        \"position\": \"rear\",\n        \"power_kw\": 220,\n        \"torque_nm\": 480,\n        \"type\": \"permanent_magnet\"\n      }\n    ],\n    \"system_power_kw\": 400,\n    \"system_torque_nm\": 900\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#performance","title":"Performance","text":"<pre><code>{\n  \"performance\": {\n    \"acceleration_0_100_kmh_s\": 4.4,\n    \"acceleration_0_60_mph_s\": 4.2,\n    \"top_speed_kmh\": 200,\n    \"quarter_mile_s\": 13.0\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#dimensions-and-weight","title":"Dimensions and Weight","text":"<pre><code>{\n  \"dimensions\": {\n    \"length_mm\": 4720,\n    \"width_mm\": 1933,\n    \"height_mm\": 1445,\n    \"wheelbase_mm\": 2875,\n    \"cargo_capacity_l\": 561\n  },\n  \"weight\": {\n    \"curb_kg\": 1844,\n    \"gvwr_kg\": 2340,\n    \"payload_kg\": 496\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#v2x-capabilities","title":"V2X Capabilities","text":"<pre><code>{\n  \"v2x\": {\n    \"v2l\": {\n      \"supported\": true,\n      \"max_power_kw\": 3.6,\n      \"connector\": \"standard_outlet\"\n    },\n    \"v2h\": {\n      \"supported\": true,\n      \"max_power_kw\": 9.6\n    },\n    \"v2g\": {\n      \"supported\": false\n    }\n  }\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#sources","title":"Sources","text":"<pre><code>{\n  \"sources\": [\n    {\n      \"type\": \"oem\",\n      \"title\": \"Tesla Model 3 Official Specifications\",\n      \"url\": \"https://www.tesla.com/model3/specs\",\n      \"country\": \"US\",\n      \"accessed_at\": \"2025-12-25T00:00:00Z\",\n      \"notes\": \"Official manufacturer specifications\"\n    },\n    {\n      \"type\": \"certification\",\n      \"title\": \"EPA Certification\",\n      \"url\": \"https://fueleconomy.gov/...\",\n      \"country\": \"US\",\n      \"accessed_at\": \"2025-12-25T00:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"documentation/dataset/schema/#field-types","title":"Field Types","text":""},{"location":"documentation/dataset/schema/#string-enums","title":"String Enums","text":"<p>Many fields use predefined string values:</p> <p>Vehicle Types: - <code>sedan</code>, <code>suv</code>, <code>crossover</code>, <code>hatchback</code>, <code>coupe</code>, <code>wagon</code>, <code>van</code>, <code>pickup</code>, <code>sports_car</code></p> <p>Drivetrains: - <code>fwd</code>, <code>rwd</code>, <code>awd</code></p> <p>Battery Chemistry: - <code>lfp</code>, <code>nmc</code>, <code>nca</code>, <code>lmo</code>, <code>solid_state</code></p> <p>Connectors: - <code>type1</code>, <code>type2</code>, <code>ccs1</code>, <code>ccs2</code>, <code>nacs</code>, <code>chademo</code>, <code>gbt_ac</code>, <code>gbt_dc</code></p> <p>Test Cycles: - <code>wltp</code>, <code>epa</code>, <code>nedc</code>, <code>cltc</code>, <code>jc08</code></p>"},{"location":"documentation/dataset/schema/#units-convention","title":"Units Convention","text":"<p>All measurements use SI or specified units:</p> Measurement Unit Field Suffix Power Kilowatts <code>_kw</code> Energy Kilowatt-hours <code>_kwh</code> Distance Kilometers <code>_km</code> Distance (short) Millimeters <code>_mm</code> Weight Kilograms <code>_kg</code> Voltage Volts <code>_v</code> Current Amperes <code>_a</code> Time Seconds <code>_s</code> Time (long) Minutes <code>_minutes</code> Torque Newton-meters <code>_nm</code> Volume Liters <code>_l</code> Speed Kilometers per hour <code>_kmh</code> Consumption kWh per 100 km <code>_kwh_per_100km</code>"},{"location":"documentation/dataset/schema/#validation-rules","title":"Validation Rules","text":""},{"location":"documentation/dataset/schema/#slugs","title":"Slugs","text":"<ul> <li>Must match pattern: <code>^[a-z0-9_]+$</code></li> <li>No leading/trailing underscores</li> <li>Lowercase only</li> </ul>"},{"location":"documentation/dataset/schema/#required-relationships","title":"Required Relationships","text":"<ul> <li>At least one battery capacity (gross or net)</li> <li>At least one charge port</li> <li>At least one rated range entry</li> <li>At least one source</li> <li>If variant exists, must reference valid base vehicle</li> </ul>"},{"location":"documentation/dataset/schema/#data-integrity","title":"Data Integrity","text":"<ul> <li>Year must be reasonable (1990-2050)</li> <li>Capacities must be positive</li> <li>Ranges must be positive</li> <li>Dates must be valid ISO 8601</li> <li>URLs must be valid format</li> </ul>"},{"location":"documentation/dataset/schema/#complete-schema","title":"Complete Schema","text":"<p>For the complete JSON Schema definition:</p> <p>View schema.json \u2192</p> <p>For detailed field-by-field documentation:</p> <p>Read Complete Schema Documentation \u2192</p>"},{"location":"documentation/dataset/schema/#related-documentation","title":"Related Documentation","text":"<ul> <li> <p>Architecture</p> <p>Dataset structure</p> </li> <li> <p>Adding a Vehicle</p> <p>Practical guide</p> </li> <li> <p>Data Quality</p> <p>Quality standards</p> </li> <li> <p>Example Files</p> <p>Working examples</p> </li> </ul>"},{"location":"getting-started/","title":"Getting Started with OpenEV Data","text":"<p>Welcome! This guide will help you get started with OpenEV Data, whether you want to use the data, contribute to the project, or integrate the API into your application.</p>"},{"location":"getting-started/#choose-your-path","title":"Choose Your Path","text":"Use the DataUse the APIContribute <p>Best for: Data scientists, researchers, analysts</p> <p>You can access the data in multiple formats:</p> <ol> <li>Direct Download (Simplest)</li> <li>Download pre-compiled datasets from GitHub Releases</li> <li> <p>Available formats: JSON, CSV, SQLite, PostgreSQL, XML</p> </li> <li> <p>Clone the Repository <pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ncd open-ev-data-dataset\n</code></pre></p> </li> <li> <p>Browse the Data</p> </li> <li>Explore the dataset repository structure</li> <li>Read the Schema Reference</li> </ol> <p>Next Steps: Quick Start \u2192</p> <p>Best for: Developers building applications</p> <p>The REST API provides programmatic access to all vehicle data:</p> <p>Base URL: <code>https://api.open-ev-data.org/v1</code></p> <p>Example Request: <pre><code>curl https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024\n</code></pre></p> <p>Features:</p> <ul> <li>Fast response times (&lt;50ms globally)</li> <li>RESTful design</li> <li>OpenAPI documentation</li> <li>Filter and search capabilities</li> <li>Pagination support</li> </ul> <p>Next Steps: API Documentation \u2192</p> <p>Best for: EV enthusiasts, engineers, manufacturers</p> <p>Help us maintain the most accurate EV database:</p> <p>Ways to Contribute:</p> <ol> <li>Add Vehicle Data</li> <li>Submit specifications for new EVs</li> <li> <p>Check the Dataset Documentation</p> </li> <li> <p>Correct Existing Data</p> </li> <li>Report inaccuracies</li> <li> <p>Provide reliable sources</p> </li> <li> <p>Improve Documentation</p> </li> <li>Fix typos and clarify instructions</li> <li> <p>Add examples and tutorials</p> </li> <li> <p>Develop Features</p> </li> <li>Work on the API or ETL pipeline</li> <li>Check the API Documentation</li> </ol> <p>Next Steps: Contributing Guide \u2192</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Choose based on your path:</p> Data UsersAPI ConsumersContributors <p>No prerequisites! Just download the files.</p> <p>Optional: - SQLite viewer for <code>.db</code> files - JSON viewer/editor - Spreadsheet software for CSV</p> <ul> <li>HTTP client (curl, Postman, or your programming language's HTTP library)</li> <li>API key (coming soon - currently open access)</li> </ul> <p>For Dataset Contributors: - Git - Node.js 18+ - Text editor (VS Code recommended) - Understanding of JSON</p> <p>For API Developers: - Rust 1.80+ - Cargo - Understanding of REST APIs</p> <p>For Documentation: - Python 3.13+ - Poetry</p>"},{"location":"getting-started/#installation","title":"Installation","text":"Dataset DevelopmentAPI DevelopmentDocumentation Development <pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ncd open-ev-data-dataset\nnpm install\nnpm run validate\n</code></pre> <pre><code>git clone https://github.com/open-ev-data/open-ev-data-api.git\ncd open-ev-data-api\ncargo build\ncargo test\n</code></pre> <pre><code>git clone https://github.com/open-ev-data/open-ev-data.github.io.git\ncd open-ev-data.github.io\npoetry install\npoetry run mkdocs serve\n</code></pre>"},{"location":"getting-started/#multi-repository-workspace","title":"Multi-Repository Workspace","text":"<p>For contributors working across multiple repositories, we provide a pre-configured workspace:</p> <pre><code>mkdir open-ev-data\ncd open-ev-data\ngit clone https://github.com/open-ev-data/open-ev-data-dataset.git\ngit clone https://github.com/open-ev-data/open-ev-data-api.git\ngit clone https://github.com/open-ev-data/open-ev-data.github.io.git\ngit clone https://github.com/open-ev-data/.github.git\n</code></pre> <p>Then open the workspace file:</p> <pre><code>code .github/open-ev-data.code-workspace\n</code></pre> <p>Benefits:</p> <ul> <li>Unified search across all repositories</li> <li>Cross-repository navigation</li> <li>Consistent settings</li> <li>Organized sidebar</li> </ul> <p>See the API Getting Started or Project Setup Guide for detailed development setup.</p>"},{"location":"getting-started/#quick-examples","title":"Quick Examples","text":""},{"location":"getting-started/#query-the-api","title":"Query the API","text":"cURLPythonJavaScript <pre><code>curl https://api.open-ev-data.org/v1/vehicles?make=tesla\n</code></pre> <pre><code>import requests\n\nresponse = requests.get('https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024')\nvehicle = response.json()\nprint(f\"Range: {vehicle['range']['rated'][0]['range_km']} km\")\n</code></pre> <pre><code>fetch('https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024')\n  .then(response =&gt; response.json())\n  .then(vehicle =&gt; {\n    console.log(`Range: ${vehicle.range.rated[0].range_km} km`);\n  });\n</code></pre>"},{"location":"getting-started/#load-sqlite-database","title":"Load SQLite Database","text":"PythonRust <pre><code>import sqlite3\n\nconn = sqlite3.connect('vehicles.db')\ncursor = conn.cursor()\n\ncursor.execute(\"SELECT * FROM vehicles WHERE make_slug = 'tesla'\")\nvehicles = cursor.fetchall()\n</code></pre> <pre><code>use rusqlite::{Connection, Result};\n\nfn main() -&gt; Result&lt;()&gt; {\n    let conn = Connection::open(\"vehicles.db\")?;\n\n    let mut stmt = conn.prepare(\"SELECT * FROM vehicles WHERE make_slug = ?\")?;\n    let vehicles = stmt.query_map([\"tesla\"], |row| {\n        Ok(row.get::&lt;_, String&gt;(0)?)\n    })?;\n\n    Ok(())\n}\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>Ready to dive deeper? Here are some recommended paths:</p> <ul> <li> <p>Quick Start Guide</p> <p>Step-by-step tutorial</p> </li> <li> <p>API Architecture</p> <p>Understand the API design</p> </li> <li> <p>Contributing Guide</p> <p>Start contributing</p> </li> <li> <p>Dataset Documentation</p> <p>Learn about the dataset</p> </li> </ul>"},{"location":"getting-started/#get-help","title":"Get Help","text":"<ul> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Documentation: You're reading it!</li> </ul>"},{"location":"getting-started/#community","title":"Community","text":"<p>Join our community:</p> <ul> <li>Follow development on GitHub</li> <li>Read our Code of Conduct</li> <li>Check project updates in the Changelogs</li> </ul>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>This guide covers installation for different use cases: data consumption, API integration, and development.</p>"},{"location":"getting-started/installation/#for-data-consumers","title":"For Data Consumers","text":""},{"location":"getting-started/installation/#download-pre-built-datasets","title":"Download Pre-Built Datasets","text":"<p>No installation required! Simply download the files:</p> <ol> <li>Go to Releases</li> <li>Download your preferred format:</li> <li><code>vehicles.json</code> (23 MB)</li> <li><code>vehicles.db</code> (18 MB)</li> <li><code>vehicles.sql</code> (25 MB)</li> <li><code>vehicles.csv</code> (15 MB)</li> <li><code>vehicles.xml</code> (28 MB)</li> </ol>"},{"location":"getting-started/installation/#verify-downloads","title":"Verify Downloads","text":"<p>Check file integrity with SHA256 checksums:</p> <pre><code>sha256sum -c vehicles.json.sha256\n</code></pre>"},{"location":"getting-started/installation/#for-api-consumers","title":"For API Consumers","text":""},{"location":"getting-started/installation/#no-installation-needed","title":"No Installation Needed","text":"<p>The API is hosted and ready to use:</p> <p>Base URL: <code>https://api.open-ev-data.org/v1</code></p> <p>Test the connection:</p> <pre><code>curl https://api.open-ev-data.org/v1/health\n</code></pre>"},{"location":"getting-started/installation/#optional-api-client-libraries","title":"Optional: API Client Libraries","text":"PythonJavaScriptRust <pre><code>pip install requests\n</code></pre> <p>Built-in <code>fetch</code> API (no installation needed)</p> <p>Add to <code>Cargo.toml</code>: <pre><code>[dependencies]\nreqwest = { version = \"0.12\", features = [\"json\"] }\ntokio = { version = \"1\", features = [\"full\"] }\n</code></pre></p>"},{"location":"getting-started/installation/#for-contributors","title":"For Contributors","text":""},{"location":"getting-started/installation/#dataset-development","title":"Dataset Development","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Git: Download</li> <li>Node.js: Version 18+ Download</li> <li>Text Editor: VS Code recommended Download</li> </ul>"},{"location":"getting-started/installation/#installation-steps","title":"Installation Steps","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ncd open-ev-data-dataset\nnpm install\nnpm run validate\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>npm run validate\n</code></pre> <p>Expected output: <pre><code>\u2713 Schema validation passed\n\u2713 All vehicles valid\n\u2713 Sources verified\nTotal vehicles: 1234\n</code></pre></p>"},{"location":"getting-started/installation/#api-development","title":"API Development","text":""},{"location":"getting-started/installation/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Git: Download</li> <li>Rust: Version 1.80+ Install</li> <li>Cargo: Included with Rust</li> </ul>"},{"location":"getting-started/installation/#installation-steps_1","title":"Installation Steps","text":"<pre><code>rustup install stable\nrustup default stable\n</code></pre> <p>Clone and build:</p> <pre><code>git clone https://github.com/open-ev-data/open-ev-data-api.git\ncd open-ev-data-api\ncargo build --release\n</code></pre>"},{"location":"getting-started/installation/#verify-installation_1","title":"Verify Installation","text":"<pre><code>cargo test --all\ncargo clippy\n</code></pre> <p>Expected output: <pre><code>running 45 tests\ntest result: ok. 45 passed; 0 failed; 0 ignored\n</code></pre></p>"},{"location":"getting-started/installation/#documentation-development","title":"Documentation Development","text":""},{"location":"getting-started/installation/#prerequisites_2","title":"Prerequisites","text":"<ul> <li>Git: Download</li> <li>Python: Version 3.13+ Download</li> <li>Poetry: Install</li> </ul>"},{"location":"getting-started/installation/#installation-steps_2","title":"Installation Steps","text":"<p>Install Poetry:</p> <pre><code>curl -sSL https://install.python-poetry.org | python3 -\n</code></pre> <p>Clone and install:</p> <pre><code>git clone https://github.com/open-ev-data/open-ev-data.github.io.git\ncd open-ev-data.github.io\npoetry install\n</code></pre>"},{"location":"getting-started/installation/#verify-installation_2","title":"Verify Installation","text":"<pre><code>poetry run mkdocs serve\n</code></pre> <p>Visit <code>http://localhost:8000</code> to see the documentation.</p>"},{"location":"getting-started/installation/#multi-repository-workspace-setup","title":"Multi-Repository Workspace Setup","text":"<p>For contributors working across multiple repositories.</p>"},{"location":"getting-started/installation/#step-1-create-parent-directory","title":"Step 1: Create Parent Directory","text":"<pre><code>mkdir open-ev-data\ncd open-ev-data\n</code></pre>"},{"location":"getting-started/installation/#step-2-clone-all-repositories","title":"Step 2: Clone All Repositories","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ngit clone https://github.com/open-ev-data/open-ev-data-api.git\ngit clone https://github.com/open-ev-data/open-ev-data.github.io.git\ngit clone https://github.com/open-ev-data/.github.git\n</code></pre>"},{"location":"getting-started/installation/#step-3-open-workspace","title":"Step 3: Open Workspace","text":"<pre><code>code .github/open-ev-data.code-workspace\n</code></pre> <p>Or in Cursor:</p> <pre><code>cursor .github/open-ev-data.code-workspace\n</code></pre>"},{"location":"getting-started/installation/#step-4-install-all-dependencies","title":"Step 4: Install All Dependencies","text":"<p>In separate terminals:</p> <pre><code>cd open-ev-data-dataset &amp;&amp; npm install\n\ncd ../open-ev-data-api &amp;&amp; cargo build\n\ncd ../open-ev-data.github.io &amp;&amp; poetry install\n</code></pre>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"Component Requirement RAM 4 GB Disk Space 1 GB free OS Linux, macOS, Windows 10+ Internet Required for downloads"},{"location":"getting-started/installation/#recommended-requirements","title":"Recommended Requirements","text":"Component Requirement RAM 8 GB+ Disk Space 5 GB+ free CPU 4 cores+ OS Linux, macOS, Windows 11"},{"location":"getting-started/installation/#platform-specific-notes","title":"Platform-Specific Notes","text":""},{"location":"getting-started/installation/#windows","title":"Windows","text":"<p>Install Git Bash or WSL2 for better compatibility:</p> <pre><code>wsl --install\n</code></pre> <p>Use PowerShell for native Windows commands.</p>"},{"location":"getting-started/installation/#macos","title":"macOS","text":"<p>Install Xcode Command Line Tools:</p> <pre><code>xcode-select --install\n</code></pre> <p>Use Homebrew for package management:</p> <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"getting-started/installation/#linux","title":"Linux","text":"<p>Install build essentials:</p> Ubuntu/DebianFedora/RHELArch <pre><code>sudo apt update\nsudo apt install build-essential git curl\n</code></pre> <pre><code>sudo dnf groupinstall \"Development Tools\"\nsudo dnf install git curl\n</code></pre> <pre><code>sudo pacman -S base-devel git curl\n</code></pre>"},{"location":"getting-started/installation/#docker-setup-optional","title":"Docker Setup (Optional)","text":""},{"location":"getting-started/installation/#api-server","title":"API Server","text":"<p>Pull the Docker image:</p> <pre><code>docker pull ghcr.io/open-ev-data/ev-server:latest\n</code></pre> <p>Run the server:</p> <pre><code>docker run -p 3000:3000 \\\n  -v $(pwd)/vehicles.db:/app/vehicles.db:ro \\\n  ghcr.io/open-ev-data/ev-server:latest\n</code></pre>"},{"location":"getting-started/installation/#documentation","title":"Documentation","text":"<p>Build and serve locally:</p> <pre><code>docker build -t openev-docs .\ndocker run -p 8000:8000 openev-docs\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#nodejs-installation-issues","title":"Node.js Installation Issues","text":"<p>Check version:</p> <pre><code>node --version\nnpm --version\n</code></pre> <p>If outdated, use nvm:</p> <pre><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\nnvm install 18\nnvm use 18\n</code></pre>"},{"location":"getting-started/installation/#rust-installation-issues","title":"Rust Installation Issues","text":"<p>Update Rust:</p> <pre><code>rustup update\n</code></pre> <p>Check version:</p> <pre><code>rustc --version\ncargo --version\n</code></pre>"},{"location":"getting-started/installation/#poetry-installation-issues","title":"Poetry Installation Issues","text":"<p>Verify installation:</p> <pre><code>poetry --version\n</code></pre> <p>Update Poetry:</p> <pre><code>poetry self update\n</code></pre>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<p>On Linux/macOS, avoid using <code>sudo</code> with npm:</p> <pre><code>npm config set prefix ~/.npm-global\nexport PATH=~/.npm-global/bin:$PATH\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Quick Start Guide</p> <p>Start using the data</p> </li> <li> <p>Contributing Guide</p> <p>Make your first contribution</p> </li> <li> <p>Project Setup</p> <p>Complete development environment</p> </li> <li> <p>API Documentation</p> <p>Explore the API</p> </li> </ul>"},{"location":"getting-started/installation/#get-help","title":"Get Help","text":"<ul> <li>GitHub Issues</li> <li>Discussions</li> <li>Documentation Home</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>This guide will get you up and running with OpenEV Data in 5 minutes.</p>"},{"location":"getting-started/quick-start/#option-1-use-pre-built-datasets","title":"Option 1: Use Pre-Built Datasets","text":"<p>The fastest way to get started is to download pre-compiled datasets.</p>"},{"location":"getting-started/quick-start/#step-1-download","title":"Step 1: Download","text":"<p>Go to the latest release and download your preferred format:</p> <ul> <li><code>vehicles.json</code> - Complete canonical dataset</li> <li><code>vehicles.db</code> - SQLite database</li> <li><code>vehicles.sql</code> - PostgreSQL schema + data</li> <li><code>vehicles.csv</code> - Flattened tabular format</li> <li><code>vehicles.xml</code> - XML representation</li> </ul>"},{"location":"getting-started/quick-start/#step-2-use-the-data","title":"Step 2: Use the Data","text":"JSONSQLiteCSV <pre><code>import json\n\nwith open('vehicles.json', 'r') as f:\n    data = json.load(f)\n\nprint(f\"Total vehicles: {data['vehicle_count']}\")\n\ntesla_vehicles = [v for v in data['vehicles'] \n                  if v['make']['slug'] == 'tesla']\nprint(f\"Tesla vehicles: {len(tesla_vehicles)}\")\n</code></pre> <pre><code>import sqlite3\n\nconn = sqlite3.connect('vehicles.db')\ncursor = conn.cursor()\n\ncursor.execute(\"\"\"\n    SELECT make_slug, model_slug, year, \n           battery_pack_capacity_kwh_net\n    FROM vehicles \n    WHERE battery_pack_capacity_kwh_net &gt; 75\n\"\"\")\n\nfor row in cursor.fetchall():\n    print(row)\n</code></pre> <pre><code>import pandas as pd\n\ndf = pd.read_csv('vehicles.csv')\n\nprint(df[['make', 'model', 'year', 'range_wltp_km']].head(10))\n\navg_range = df.groupby('make')['range_wltp_km'].mean()\nprint(avg_range)\n</code></pre>"},{"location":"getting-started/quick-start/#option-2-use-the-rest-api","title":"Option 2: Use the REST API","text":"<p>Query the API directly without downloading anything.</p>"},{"location":"getting-started/quick-start/#step-1-make-a-request","title":"Step 1: Make a Request","text":"cURLPythonJavaScript <pre><code>curl https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024 | jq\n</code></pre> <pre><code>import requests\n\nurl = \"https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024\"\nresponse = requests.get(url)\nvehicle = response.json()\n\nprint(f\"Make: {vehicle['make']['name']}\")\nprint(f\"Model: {vehicle['model']['name']}\")\nprint(f\"Range: {vehicle['range']['rated'][0]['range_km']} km\")\n</code></pre> <pre><code>const url = 'https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024';\n\nfetch(url)\n  .then(response =&gt; response.json())\n  .then(vehicle =&gt; {\n    console.log(`Make: ${vehicle.make.name}`);\n    console.log(`Model: ${vehicle.model.name}`);\n    console.log(`Range: ${vehicle.range.rated[0].range_km} km`);\n  });\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-explore-endpoints","title":"Step 2: Explore Endpoints","text":"<p>List all Tesla vehicles:</p> <pre><code>curl https://api.open-ev-data.org/v1/vehicles?make=tesla\n</code></pre> <p>Search for EVs with specific range:</p> <pre><code>curl \"https://api.open-ev-data.org/v1/vehicles?min_range_km=500\"\n</code></pre> <p>Get all manufacturers:</p> <pre><code>curl https://api.open-ev-data.org/v1/makes\n</code></pre>"},{"location":"getting-started/quick-start/#option-3-clone-and-build-locally","title":"Option 3: Clone and Build Locally","text":"<p>For contributors or developers who want to work with the source data.</p>"},{"location":"getting-started/quick-start/#step-1-clone-repository","title":"Step 1: Clone Repository","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ncd open-ev-data-dataset\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-install-dependencies","title":"Step 2: Install Dependencies","text":"<pre><code>npm install\n</code></pre>"},{"location":"getting-started/quick-start/#step-3-validate-data","title":"Step 3: Validate Data","text":"<pre><code>npm run validate\n</code></pre>"},{"location":"getting-started/quick-start/#step-4-explore-the-data","title":"Step 4: Explore the Data","text":"<p>Browse the <code>src/</code> directory to see the layered structure:</p> <pre><code>src/\n  tesla/\n    model_3/\n      base.json           # Shared specifications\n      2024/\n        model_3.json      # Base 2024 trim\n        model_3_long_range.json  # Long Range variant\n</code></pre>"},{"location":"getting-started/quick-start/#common-use-cases","title":"Common Use Cases","text":""},{"location":"getting-started/quick-start/#compare-vehicle-specifications","title":"Compare Vehicle Specifications","text":"Python <pre><code>import requests\n\nmakes = ['tesla', 'byd', 'nissan']\n\nfor make in makes:\n    url = f\"https://api.open-ev-data.org/v1/vehicles?make={make}\"\n    response = requests.get(url)\n    vehicles = response.json()['vehicles']\n\n    avg_range = sum(v['range']['rated'][0]['range_km'] \n                   for v in vehicles) / len(vehicles)\n\n    print(f\"{make.title()}: {avg_range:.0f} km average range\")\n</code></pre>"},{"location":"getting-started/quick-start/#find-compatible-charging-stations","title":"Find Compatible Charging Stations","text":"Python <pre><code>import requests\n\nurl = \"https://api.open-ev-data.org/v1/vehicles/tesla/model_3/2024\"\nvehicle = requests.get(url).json()\n\ncharge_ports = vehicle['charge_ports']\n\nfor port in charge_ports:\n    print(f\"Port: {port['connector']}\")\n    print(f\"Location: {port['location']['side']} {port['location']['position']}\")\n    print(f\"Kind: {port['kind']}\")\n    print()\n</code></pre>"},{"location":"getting-started/quick-start/#calculate-charging-time","title":"Calculate Charging Time","text":"Python <pre><code>import requests\n\nurl = \"https://api.open-ev-data.org/v1/vehicles/byd/seal/2024\"\nvehicle = requests.get(url).json()\n\ndc_charging = vehicle['charging']['dc']\n\nprint(f\"Max DC Power: {dc_charging['max_power_kw']} kW\")\nprint(f\"Voltage Class: {dc_charging['architecture_voltage_class']}\")\n\nif 'charge_time' in dc_charging:\n    for time_spec in dc_charging['charge_time']:\n        print(f\"{time_spec['from_soc']}% \u2192 {time_spec['to_soc']}%: \"\n              f\"{time_spec['time_minutes']} minutes\")\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li> <p>API Documentation</p> <p>Complete API reference</p> </li> <li> <p>Dataset Documentation</p> <p>Learn about the dataset structure</p> </li> <li> <p>Contributing Guide</p> <p>Help improve the database</p> </li> <li> <p>Project Setup</p> <p>Complete development environment setup</p> </li> </ul>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#api-returns-empty-results","title":"API Returns Empty Results","text":"<p>Check if the vehicle exists:</p> <pre><code>curl https://api.open-ev-data.org/v1/makes\n</code></pre> <p>Verify the correct slugs (lowercase, underscores):</p> <pre><code>curl https://api.open-ev-data.org/v1/vehicles?make=tesla\n</code></pre>"},{"location":"getting-started/quick-start/#database-file-wont-open","title":"Database File Won't Open","text":"<p>Ensure you have SQLite 3.45+ installed:</p> <pre><code>sqlite3 --version\n</code></pre> <p>Download the file again if corrupted:</p> <pre><code>wget https://github.com/open-ev-data/open-ev-data-dataset/releases/latest/download/vehicles.db\n</code></pre>"},{"location":"getting-started/quick-start/#validation-fails","title":"Validation Fails","text":"<p>Check Node.js version:</p> <pre><code>node --version  # Should be 18+\n</code></pre> <p>Reinstall dependencies:</p> <pre><code>rm -rf node_modules package-lock.json\nnpm install\n</code></pre>"},{"location":"getting-started/quick-start/#get-help","title":"Get Help","text":"<p>Still stuck? We're here to help:</p> <ul> <li>GitHub Issues</li> <li>Discussions</li> <li>Documentation</li> </ul>"},{"location":"governance/","title":"OpenEV Data","text":"<p>The Single Source of Truth for Electric Vehicle Specifications.</p> <p>The primary goal of OpenEV Data is to develop and maintain the world's most accurate, scientifically validated, and accessible open database of Electric Vehicle (EV) specifications. Unlike fragmented proprietary lists, OpenEV is built on Data-as-Code principles, ensuring version control, strict schema validation, and community review for every data point\u2014from battery chemistry to charging curves.</p> <p>Our infrastructure is powered by a high-performance Rust ecosystem. The API provides global low-latency access to data, while the dataset itself is agnostic and available for direct download in JSON or SQL formats.</p> <p>We aim to speed up eMobility adoption by providing developers, researchers, and charging network operators with a reliable standard (The \"OpenEV Spec\") to build better routing algorithms, chargers, and apps.</p>"},{"location":"governance/#repository-structure","title":"Repository Structure","text":"<p>OpenEV Data is modular by design to separate concerns between data curation and software engineering.</p> Repository Description Tech Stack open-ev-data-dataset The core database. Contains all vehicle JSONs and validation schemas. JSON, JSON Schema open-ev-data-api The high-performance engine. Handles ETL, SQL generation, and the API. Rust open-ev-data.github.io Official documentation, guides, and API reference. MkDocs, Material .github Governance, organization-wide policies, and issue templates. Markdown"},{"location":"governance/#getting-started","title":"Getting Started","text":"<p>To start consuming the data or contributing to the project, please read our Documentation.</p> <ul> <li>For Data Scientists: Clone open-ev-data-dataset to access raw JSON files.</li> <li>For Developers: Check the API Reference to integrate OpenEV into your app.</li> </ul>"},{"location":"governance/#project-status","title":"Project Status","text":"<ul> <li>Website: open-ev-data.github.io</li> <li>API Status: </li> <li>Data Version: </li> </ul>"},{"location":"governance/#technical-overview","title":"Technical Overview","text":"<ul> <li>Strict Typing: All data is validated against rigorous JSON Schemas (<code>vehicle.schema.json</code>) before merging.</li> <li>Deep Merge Architecture: Uses a hierarchical inheritance model (Base -&gt; Year -&gt; Trim) to ensure DRY (Don't Repeat Yourself) data entry.</li> <li>High Performance: The API is optimized for low-latency global access using efficient Rust infrastructure.</li> <li>Rust Core: All tooling (ETL, Validation, Server) is written in Rust for safety and performance.</li> </ul>"},{"location":"governance/#roadmap","title":"Roadmap","text":"<p>See our technical roadmap on our project website.</p>"},{"location":"governance/#supported-standards","title":"Supported Standards","text":"<p>OpenEV Data standardizes specifications across multiple global charging standards:</p> <ul> <li>CCS2 (EU/Global)</li> <li>NACS / J3400 (North America/Tesla)</li> <li>CCS1 (North America Legacy)</li> <li>GB/T (China)</li> <li>CHAdeMO (Japan/Legacy)</li> <li>Type 2 / Type 1 (AC Charging)</li> </ul>"},{"location":"governance/#contributing","title":"Contributing","text":"<p>We welcome contributions from EV enthusiasts, engineers, and manufacturers. Precision is our priority.</p> <ul> <li>To add a vehicle: Please open a Pull Request in the <code>open-ev-data-dataset</code> repository using the provided templates.</li> <li>To improve the API: Please check the issues in the <code>open-ev-data-api</code> repository.</li> </ul> <p>Read our Contribution Guidelines before submitting.</p>"},{"location":"governance/#governance-licensing","title":"Governance &amp; Licensing","text":"<p>This project employs a dual-licensing strategy to best serve the ecosystem:</p> <ol> <li>Software (API/CLI): Licensed under the Apache License, Version 2.0. Safe for enterprise integration and patent protection.</li> <li>Database (Dataset): Licensed under the CDLA-Permissive-2.0 (Community Data License Agreement). Optimized for open data sharing and mining.</li> <li>Documentation: Licensed under CC-BY 4.0.</li> </ol> <p>See LICENSE in each repository for specific details.</p>"},{"location":"governance/#support","title":"Support","text":"<p>If you identify a data error or a bug in the API, please open an issue using the appropriate template.</p>"},{"location":"governance/#contributors","title":"Contributors","text":"Avatar Contributor Contributions @jsrwell Project creator, architecture, API, dataset"},{"location":"governance/CODE_OF_CONDUCT/","title":"Contributor Covenant Code of Conduct","text":""},{"location":"governance/CODE_OF_CONDUCT/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"governance/CODE_OF_CONDUCT/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the overall community</li> <li>Prioritizing data accuracy and scientific rigor in all contributions</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery, and sexual attention or advances of any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email address, without their explicit permission</li> <li>Submitting intentionally false or misleading vehicle data</li> <li>Other conduct which could reasonably be considered inappropriate in a professional setting</li> </ul>"},{"location":"governance/CODE_OF_CONDUCT/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>"},{"location":"governance/CODE_OF_CONDUCT/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official email address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>"},{"location":"governance/CODE_OF_CONDUCT/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at the issue tracker or by contacting the project maintainers directly.</p> <p>All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>"},{"location":"governance/CODE_OF_CONDUCT/#enforcement-guidelines","title":"Enforcement Guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>"},{"location":"governance/CODE_OF_CONDUCT/#1-correction","title":"1. Correction","text":"<p>Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.</p> <p>Consequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.</p>"},{"location":"governance/CODE_OF_CONDUCT/#2-warning","title":"2. Warning","text":"<p>Community Impact: A violation through a single incident or series of actions.</p> <p>Consequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.</p>"},{"location":"governance/CODE_OF_CONDUCT/#3-temporary-ban","title":"3. Temporary Ban","text":"<p>Community Impact: A serious violation of community standards, including sustained inappropriate behavior.</p> <p>Consequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.</p>"},{"location":"governance/CODE_OF_CONDUCT/#4-permanent-ban","title":"4. Permanent Ban","text":"<p>Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.</p> <p>Consequence: A permanent ban from any sort of public interaction within the community.</p>"},{"location":"governance/CODE_OF_CONDUCT/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 2.1, available at https://www.contributor-covenant.org/version/2/1/code_of_conduct.html.</p> <p>Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder.</p> <p>For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq. Translations are available at https://www.contributor-covenant.org/translations.</p>"},{"location":"governance/CONTRIBUTING/","title":"Contributing to OpenEV Data","text":"<p>Thank you for your interest in contributing to OpenEV Data! This project aims to be the single source of truth for electric vehicle specifications, and we welcome contributions from EV enthusiasts, engineers, researchers, and manufacturers worldwide.</p>"},{"location":"governance/CONTRIBUTING/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Code of Conduct</li> <li>How Can I Contribute?</li> <li>Repository Structure</li> <li>Contributing to the Dataset</li> <li>Contributing to the API</li> <li>Contributing to Documentation</li> <li>Pull Request Process</li> <li>Style Guidelines</li> <li>Data Quality Standards</li> </ul>"},{"location":"governance/CONTRIBUTING/#code-of-conduct","title":"Code of Conduct","text":"<p>This project and everyone participating in it is governed by our Code of Conduct. By participating, you are expected to uphold this code.</p>"},{"location":"governance/CONTRIBUTING/#how-can-i-contribute","title":"How Can I Contribute?","text":""},{"location":"governance/CONTRIBUTING/#reporting-bugs","title":"Reporting Bugs","text":"<p>If you find a bug, please create an issue using the bug report template. Include:</p> <ul> <li>Clear description of the issue</li> <li>Steps to reproduce</li> <li>Expected vs actual behavior</li> <li>Environment details</li> <li>Screenshots if applicable</li> </ul>"},{"location":"governance/CONTRIBUTING/#suggesting-features","title":"Suggesting Features","text":"<p>Feature suggestions are welcome via the feature request template. Please:</p> <ul> <li>Clearly describe the feature and its use case</li> <li>Explain why it would be valuable to the community</li> <li>Consider implementation complexity</li> </ul>"},{"location":"governance/CONTRIBUTING/#correcting-vehicle-data","title":"Correcting Vehicle Data","text":"<p>Data accuracy is our top priority. If you find incorrect vehicle specifications:</p> <ul> <li>Use the data correction issue template</li> <li>Provide reliable sources for the correction</li> <li>Specify which field(s) are incorrect and the correct values</li> </ul>"},{"location":"governance/CONTRIBUTING/#adding-new-vehicles","title":"Adding New Vehicles","text":"<p>To add a new vehicle to the dataset:</p> <ul> <li>Use the new vehicle issue template first to discuss</li> <li>Follow the schema structure in <code>open-ev-data-dataset</code></li> <li>Provide multiple reliable sources for all specifications</li> </ul>"},{"location":"governance/CONTRIBUTING/#repository-structure","title":"Repository Structure","text":"<p>OpenEV Data consists of four repositories:</p> Repository Purpose Primary Language open-ev-data-dataset Vehicle data and JSON schemas JSON open-ev-data-api API engine and ETL pipeline Rust open-ev-data.github.io Documentation website MkDocs .github Governance and policies Markdown"},{"location":"governance/CONTRIBUTING/#contributing-to-the-dataset","title":"Contributing to the Dataset","text":""},{"location":"governance/CONTRIBUTING/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ installed</li> <li>Understanding of JSON Schema</li> <li>Familiarity with vehicle specifications</li> </ul>"},{"location":"governance/CONTRIBUTING/#setup","title":"Setup","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ncd open-ev-data-dataset\nnpm install\n</code></pre>"},{"location":"governance/CONTRIBUTING/#adding-a-vehicle","title":"Adding a Vehicle","text":"<ol> <li>Read the Schema Documentation</li> <li>Read the Architecture Documentation</li> <li>Create the vehicle directory structure:</li> </ol> <pre><code>src/\n\u2514\u2500\u2500 manufacturer_slug/\n    \u2514\u2500\u2500 model_slug/\n        \u251c\u2500\u2500 base.json\n        \u2514\u2500\u2500 year/\n            \u2514\u2500\u2500 trim.json\n</code></pre> <ol> <li>Create <code>base.json</code> with specifications common to all years and trims</li> <li>Create year-specific files with year-specific changes</li> <li>Follow the deep merge architecture</li> </ol>"},{"location":"governance/CONTRIBUTING/#data-requirements","title":"Data Requirements","text":"<p>All vehicle entries must include:</p> <ul> <li>Verified Sources: Minimum of 2 reliable sources per specification</li> <li>International Coverage: Include sources from USA, Brazil, EU (Portugal, Germany, France, Italy, UK), China, and Japan where applicable</li> <li>Complete Specifications: Battery capacity, range, charging specs, dimensions, performance</li> <li>Correct Units: Follow SI units as defined in the schema</li> <li>Charging Standards: Accurate connector types and charging curves</li> </ul>"},{"location":"governance/CONTRIBUTING/#validation","title":"Validation","text":"<p>Before submitting:</p> <pre><code>npm run validate\n</code></pre> <p>Fix any schema validation errors before creating a pull request.</p>"},{"location":"governance/CONTRIBUTING/#source-quality-hierarchy","title":"Source Quality Hierarchy","text":"<ol> <li>Official manufacturer specifications</li> <li>Regulatory certifications (EPA, WLTP, CLTC)</li> <li>Professional automotive publications</li> <li>Verified user testing data</li> </ol> <p>Avoid: - Unverified forums or social media - Estimations without clear methodology - Outdated sources</p>"},{"location":"governance/CONTRIBUTING/#contributing-to-the-api","title":"Contributing to the API","text":""},{"location":"governance/CONTRIBUTING/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>Rust 1.75+ installed via rustup</li> <li>Understanding of REST APIs</li> </ul>"},{"location":"governance/CONTRIBUTING/#setup_1","title":"Setup","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data-api.git\ncd open-ev-data-api\ncargo build\ncargo test\n</code></pre>"},{"location":"governance/CONTRIBUTING/#development-guidelines","title":"Development Guidelines","text":"<ul> <li>Follow Rust idioms and best practices</li> <li>Write comprehensive tests for new features</li> <li>Ensure zero-panic code in production paths</li> <li>Document public APIs with rustdoc</li> <li>Run <code>cargo clippy</code> before committing</li> <li>Format code with <code>cargo fmt</code></li> </ul>"},{"location":"governance/CONTRIBUTING/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>API targets &lt;50ms response times globally</li> <li>Optimize for production runtime constraints</li> <li>Consider SQLite query performance</li> </ul>"},{"location":"governance/CONTRIBUTING/#contributing-to-documentation","title":"Contributing to Documentation","text":""},{"location":"governance/CONTRIBUTING/#prerequisites_2","title":"Prerequisites","text":"<ul> <li>Python 3.9+ installed</li> <li>MkDocs Material familiarity</li> </ul>"},{"location":"governance/CONTRIBUTING/#setup_2","title":"Setup","text":"<pre><code>git clone https://github.com/open-ev-data/open-ev-data.github.io.git\ncd open-ev-data.github.io\n</code></pre> <p>Follow the website repository README for complete setup instructions.</p>"},{"location":"governance/CONTRIBUTING/#documentation-standards","title":"Documentation Standards","text":"<ul> <li>Use clear, concise language</li> <li>Include code examples where applicable</li> <li>Test all commands and code snippets</li> <li>Follow DRY principles by referencing other docs instead of duplicating</li> <li>Maintain consistent formatting</li> <li>Update navigation when adding new pages</li> </ul>"},{"location":"governance/CONTRIBUTING/#pull-request-process","title":"Pull Request Process","text":""},{"location":"governance/CONTRIBUTING/#before-submitting","title":"Before Submitting","text":"<ol> <li>Fork the repository</li> <li>Create a branch from <code>main</code>:    <pre><code>git checkout -b feature/your-feature-name\n</code></pre></li> <li>Make your changes following the style guidelines</li> <li>Test thoroughly:</li> <li>Dataset: Run <code>npm run validate</code></li> <li>API: Run <code>cargo test</code> and <code>cargo clippy</code></li> <li>Docs: Build and preview locally</li> <li>Commit with clear messages:    <pre><code>git commit -m \"Add: descriptive message about changes\"\n</code></pre></li> <li>Push to your fork:    <pre><code>git push origin feature/your-feature-name\n</code></pre></li> </ol>"},{"location":"governance/CONTRIBUTING/#submitting-the-pr","title":"Submitting the PR","text":"<ol> <li>Go to the original repository</li> <li>Click \"New Pull Request\"</li> <li>Select your branch</li> <li>Fill out the pull request template completely</li> <li>Link related issues using keywords (Fixes #123, Closes #456)</li> <li>Wait for review</li> </ol>"},{"location":"governance/CONTRIBUTING/#review-process","title":"Review Process","text":"<ul> <li>Maintainers will review within 7 days</li> <li>Address requested changes promptly</li> <li>Keep discussions focused and professional</li> <li>Be open to feedback and suggestions</li> </ul>"},{"location":"governance/CONTRIBUTING/#after-approval","title":"After Approval","text":"<ul> <li>Squash commits if requested</li> <li>Maintainers will merge your PR</li> <li>Your contribution will be included in the next release</li> </ul>"},{"location":"governance/CONTRIBUTING/#style-guidelines","title":"Style Guidelines","text":""},{"location":"governance/CONTRIBUTING/#general","title":"General","text":"<ul> <li>Use English for all code, comments, and documentation</li> <li>Follow SOLID principles for code architecture</li> <li>Apply DRY principles to avoid duplication</li> <li>Avoid unnecessary comments; code should be self-documenting</li> <li>Do not use emojis in code or data files</li> </ul>"},{"location":"governance/CONTRIBUTING/#git-commits","title":"Git Commits","text":"<p>Follow conventional commit format:</p> <pre><code>&lt;type&gt;: &lt;description&gt;\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types: - <code>Add</code>: New feature or data - <code>Fix</code>: Bug fix - <code>Update</code>: Modification to existing feature/data - <code>Remove</code>: Deletion of feature or data - <code>Docs</code>: Documentation changes - <code>Refactor</code>: Code refactoring - <code>Test</code>: Test additions or modifications - <code>Chore</code>: Maintenance tasks</p>"},{"location":"governance/CONTRIBUTING/#json-formatting-dataset","title":"JSON Formatting (Dataset)","text":"<ul> <li>Use 2-space indentation</li> <li>Sort keys alphabetically where logical</li> <li>Use double quotes for strings</li> <li>Include trailing commas in arrays and objects</li> <li>Validate against schema before committing</li> </ul>"},{"location":"governance/CONTRIBUTING/#rust-code-api","title":"Rust Code (API)","text":"<ul> <li>Follow Rust naming conventions</li> <li>Use <code>cargo fmt</code> default configuration</li> <li>Maximum line length: 100 characters</li> <li>Prefer explicit types in public APIs</li> <li>Use Result types for error handling</li> </ul>"},{"location":"governance/CONTRIBUTING/#data-quality-standards","title":"Data Quality Standards","text":""},{"location":"governance/CONTRIBUTING/#accuracy","title":"Accuracy","text":"<ul> <li>All specifications must be verified against reliable sources</li> <li>When sources conflict, prioritize official manufacturer data</li> <li>Document assumptions clearly in source notes</li> <li>Update data when new information becomes available</li> </ul>"},{"location":"governance/CONTRIBUTING/#completeness","title":"Completeness","text":"<p>Each vehicle entry should include: - Battery specifications (capacity, chemistry, voltage) - Range data (WLTP, EPA, CLTC where available) - Charging specifications (AC and DC with curves) - Performance metrics (acceleration, top speed) - Physical dimensions and weight - Market availability by country</p>"},{"location":"governance/CONTRIBUTING/#international-standards","title":"International Standards","text":"<ul> <li>Include regional variations where specifications differ</li> <li>Document charging standards by market</li> <li>Provide sources from multiple regions</li> <li>Note regulatory differences (EPA vs WLTP)</li> </ul>"},{"location":"governance/CONTRIBUTING/#versioning","title":"Versioning","text":"<ul> <li>Use manufacturer model years</li> <li>Document mid-cycle updates as separate variants</li> <li>Track specification changes over time</li> <li>Maintain backward compatibility in data structure</li> </ul>"},{"location":"governance/CONTRIBUTING/#questions","title":"Questions?","text":"<ul> <li>Check existing issues</li> <li>Review documentation</li> <li>Start a discussion</li> </ul>"},{"location":"governance/CONTRIBUTING/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under: - Dataset: CDLA-Permissive-2.0 - API/Code: Apache License 2.0 - Documentation: CC-BY 4.0</p> <p>See the LICENSE file in each repository for details.</p> <p>Thank you for helping make OpenEV Data the most accurate and comprehensive EV specification database!</p>"},{"location":"governance/GET_STARTED/","title":"Getting Started with OpenEV Data Development","text":"<p>This guide will walk you through setting up the complete OpenEV Data development environment by cloning all repositories and configuring your workspace for efficient cross-repository development.</p>"},{"location":"governance/GET_STARTED/#prerequisites","title":"Prerequisites","text":"<ul> <li>Git</li> <li>Visual Studio Code, Cursor, or Antigravity</li> <li>Node.js (for dataset validation)</li> <li>Rust (for API development)</li> </ul>"},{"location":"governance/GET_STARTED/#repository-structure","title":"Repository Structure","text":"<p>OpenEV Data consists of four interconnected repositories:</p> Repository Purpose <code>open-ev-data-dataset</code> Core vehicle database with JSON files and schemas <code>open-ev-data-api</code> Rust-based API and ETL pipeline <code>open-ev-data.github.io</code> Documentation website <code>.github</code> Governance, policies, and organization-wide templates"},{"location":"governance/GET_STARTED/#installation","title":"Installation","text":""},{"location":"governance/GET_STARTED/#step-1-create-project-root-directory","title":"Step 1: Create Project Root Directory","text":"<p>Create a parent directory to hold all repositories:</p> <pre><code>mkdir open-ev-data\ncd open-ev-data\n</code></pre>"},{"location":"governance/GET_STARTED/#step-2-clone-all-repositories","title":"Step 2: Clone All Repositories","text":"<p>Clone each repository into the parent directory:</p> <pre><code>git clone https://github.com/open-ev-data/open-ev-data-dataset.git\ngit clone https://github.com/open-ev-data/open-ev-data-api.git\ngit clone https://github.com/open-ev-data/open-ev-data.github.io.git\ngit clone https://github.com/open-ev-data/.github.git\n</code></pre> <p>Your directory structure should now look like this:</p> <pre><code>open-ev-data/\n\u251c\u2500\u2500 open-ev-data-dataset/\n\u251c\u2500\u2500 open-ev-data-api/\n\u251c\u2500\u2500 open-ev-data.github.io/\n\u2514\u2500\u2500 .github/\n</code></pre>"},{"location":"governance/GET_STARTED/#step-3-open-the-multi-repository-workspace","title":"Step 3: Open the Multi-Repository Workspace","text":"<p>The <code>.github</code> repository contains a pre-configured workspace file that allows you to work with all repositories simultaneously.</p>"},{"location":"governance/GET_STARTED/#using-visual-studio-code-cursor-or-antigravity","title":"Using Visual Studio Code, Cursor, or Antigravity:","text":"<p>Option A: Command Line <pre><code>code .github/open-ev-data.code-workspace\n</code></pre></p> <p>Or if using Cursor: <pre><code>cursor .github/open-ev-data.code-workspace\n</code></pre></p> <p>Or if using Antigravity: <pre><code>antigravity .github/open-ev-data.code-workspace\n</code></pre></p> <p>Option B: GUI 1. Open VS Code, Cursor, or Antigravity 2. Go to <code>File</code> &gt; <code>Open Workspace from File...</code> 3. Navigate to <code>open-ev-data/.github/open-ev-data.code-workspace</code> 4. Click <code>Open</code></p>"},{"location":"governance/GET_STARTED/#workspace-benefits","title":"Workspace Benefits","text":"<p>The multi-repository workspace provides several advantages:</p> <ul> <li>Unified Search: Search across all repositories simultaneously</li> <li>Cross-Repository Navigation: Jump between dataset files, API code, and documentation easily</li> <li>Consistent Settings: Shared editor configurations and exclusions</li> <li>Organized Sidebar: Each repository appears as a separate folder root with a clear name</li> </ul>"},{"location":"governance/GET_STARTED/#next-steps","title":"Next Steps","text":""},{"location":"governance/GET_STARTED/#for-dataset-contributors","title":"For Dataset Contributors","text":"<p>Navigate to the <code>Dataset</code> folder in your workspace:</p> <pre><code>cd open-ev-data-dataset\nnpm install\nnpm run validate\n</code></pre> <p>Read the Dataset Architecture and Schema Documentation.</p>"},{"location":"governance/GET_STARTED/#for-api-developers","title":"For API Developers","text":"<p>Navigate to the <code>API</code> folder in your workspace:</p> <pre><code>cd open-ev-data-api\ncargo build\ncargo test\n</code></pre> <p>Read the API Architecture.</p>"},{"location":"governance/GET_STARTED/#quick-start-with-docker","title":"Quick Start with Docker","text":"<p>To quickly test the latest release without building locally:</p> <pre><code>cd open-ev-data-dataset\ndocker-compose up -d\n</code></pre> <p>This will: - Download the latest dataset SQLite database - Start the API server on http://localhost:8080</p> <p>Access the API: <pre><code>curl http://localhost:8080/api/v1/vehicles\n</code></pre></p> <p>Stop the stack: <pre><code>docker-compose down\n</code></pre></p>"},{"location":"governance/GET_STARTED/#for-documentation-writers","title":"For Documentation Writers","text":"<p>Navigate to the <code>Website</code> folder in your workspace:</p> <pre><code>cd open-ev-data.github.io\n</code></pre> <p>Follow the website repository README for setup instructions.</p>"},{"location":"governance/GET_STARTED/#contributing","title":"Contributing","text":"<p>Before making any contributions, please read:</p> <ul> <li>CONTRIBUTING.md - Contribution guidelines</li> <li>CODE_OF_CONDUCT.md - Community standards</li> </ul>"},{"location":"governance/GET_STARTED/#keeping-repositories-up-to-date","title":"Keeping Repositories Up to Date","text":"<p>To update all repositories, run these commands from the <code>open-ev-data</code> directory:</p> <pre><code>cd open-ev-data-dataset &amp;&amp; git pull origin main &amp;&amp; cd ..\ncd open-ev-data-api &amp;&amp; git pull origin main &amp;&amp; cd ..\ncd open-ev-data.github.io &amp;&amp; git pull origin main &amp;&amp; cd ..\ncd .github &amp;&amp; git pull origin main &amp;&amp; cd ..\n</code></pre>"},{"location":"governance/GET_STARTED/#troubleshooting","title":"Troubleshooting","text":""},{"location":"governance/GET_STARTED/#workspace-not-loading-correctly","title":"Workspace Not Loading Correctly","text":"<p>If folders don't appear in the workspace:</p> <ol> <li>Ensure all repositories are cloned in the correct structure</li> <li>Verify the relative paths in <code>open-ev-data.code-workspace</code> match your setup</li> <li>Try closing and reopening the workspace</li> </ol>"},{"location":"governance/GET_STARTED/#git-credential-issues","title":"Git Credential Issues","text":"<p>If you plan to contribute, set up SSH keys:</p> <pre><code>git remote set-url origin git@github.com:open-ev-data/REPOSITORY_NAME.git\n</code></pre> <p>Replace <code>REPOSITORY_NAME</code> with the appropriate repository name.</p>"},{"location":"governance/GET_STARTED/#support","title":"Support","text":"<p>For questions or issues:</p> <ul> <li>Open an issue in the relevant repository</li> <li>Join discussions in GitHub Discussions</li> <li>Check existing documentation</li> </ul> <p>Ready to contribute? Follow the specific contribution guidelines for the repository you want to work on.</p>"},{"location":"guides/contributing/","title":"Contributing Guide","text":"<p>Thank you for your interest in contributing to OpenEV Data! This project aims to be the single source of truth for electric vehicle specifications, and we welcome contributions from EV enthusiasts, engineers, researchers, and manufacturers worldwide.</p> <p>Community Project</p> <p>OpenEV Data is a community-driven project. Every contribution, no matter how small, helps make the database more accurate and comprehensive.</p>"},{"location":"guides/contributing/#quick-links","title":"Quick Links","text":"<ul> <li>Code of Conduct</li> <li>Project Setup</li> <li>API Documentation</li> <li>Dataset Documentation</li> </ul>"},{"location":"guides/contributing/#ways-to-contribute","title":"Ways to Contribute","text":"Add Vehicle DataCorrect DataImprove CodeWrite Documentation <p>Best for: EV owners, enthusiasts, researchers</p> <p>Help expand the database by adding specifications for new EVs:</p> <ol> <li>Read the Dataset Documentation</li> <li>Gather reliable sources</li> <li>Follow the schema structure</li> <li>Submit a pull request</li> </ol> <p>Requirements: - Minimum 2 reliable sources per specification - International coverage (USA, EU, China, Japan, Brazil) - Complete specifications (battery, range, charging)</p> <p>Best for: Detail-oriented contributors</p> <p>Help maintain accuracy by correcting errors:</p> <ol> <li>Open an issue with the data correction template</li> <li>Provide reliable sources for corrections</li> <li>Specify which fields are incorrect</li> <li>Submit a pull request with fixes</li> </ol> <p>Requirements: - Official sources preferred - Clear documentation of changes - Multiple sources for verification</p> <p>Best for: Developers</p> <p>Enhance the API, ETL pipeline, or tooling:</p> <ol> <li>Check open issues</li> <li>Read the API Architecture</li> <li>Follow Rust Guidelines</li> <li>Submit a pull request</li> </ol> <p>Requirements: - Rust 1.80+ - Tests for new features - Documentation for public APIs</p> <p>Best for: Technical writers</p> <p>Improve guides, tutorials, and documentation:</p> <ol> <li>Check for gaps or unclear sections</li> <li>Fork the documentation repository</li> <li>Make improvements</li> <li>Submit a pull request</li> </ol> <p>Requirements: - Clear, concise writing - Follow DRY principles - Test all code examples</p>"},{"location":"guides/contributing/#getting-started","title":"Getting Started","text":""},{"location":"guides/contributing/#1-read-the-documentation","title":"1. Read the Documentation","text":"<p>Before contributing, familiarize yourself with:</p> <ul> <li>Project Setup</li> <li>API Architecture</li> <li>Dataset Schema</li> <li>Contributing Guidelines</li> </ul>"},{"location":"guides/contributing/#2-set-up-your-environment","title":"2. Set Up Your Environment","text":"<p>Follow the Project Setup Guide, API Getting Started or Dataset Documentation guide to configure your local environment.</p>"},{"location":"guides/contributing/#3-find-something-to-work-on","title":"3. Find Something to Work On","text":"<p>Good first issues:</p> <ul> <li>Adding missing vehicle data</li> <li>Correcting inaccurate specifications</li> <li>Improving documentation</li> <li>Writing tests</li> </ul> <p>Browse issues with the <code>good-first-issue</code> label:</p> <ul> <li>Dataset Issues</li> <li>API Issues</li> </ul>"},{"location":"guides/contributing/#4-make-your-changes","title":"4. Make Your Changes","text":"<p>Follow the specific guides:</p> <ul> <li>Dataset Documentation</li> <li>API Documentation</li> <li>Rust Guidelines</li> </ul>"},{"location":"guides/contributing/#5-submit-a-pull-request","title":"5. Submit a Pull Request","text":"<p>See Pull Request Process below.</p>"},{"location":"guides/contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"guides/contributing/#before-submitting","title":"Before Submitting","text":"<ul> <li> Fork the repository</li> <li> Create a feature branch: <code>git checkout -b feature/your-feature</code></li> <li> Make your changes</li> <li> Test thoroughly</li> <li> Commit with clear messages</li> <li> Push to your fork</li> </ul>"},{"location":"guides/contributing/#commit-message-format","title":"Commit Message Format","text":"<p>Follow conventional commit format:</p> <pre><code>&lt;type&gt;: &lt;description&gt;\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types:</p> <ul> <li><code>Add</code>: New feature or data</li> <li><code>Fix</code>: Bug fix or data correction</li> <li><code>Update</code>: Modification to existing feature/data</li> <li><code>Remove</code>: Deletion of feature or data</li> <li><code>Docs</code>: Documentation changes</li> <li><code>Refactor</code>: Code refactoring</li> <li><code>Test</code>: Test additions or modifications</li> <li><code>Chore</code>: Maintenance tasks</li> </ul> <p>Examples:</p> <pre><code>Add: Tesla Model 3 2024 specifications\n\nAdded complete specifications for Tesla Model 3 2024 including:\n- Battery specifications\n- Charging capabilities\n- Range data (WLTP and EPA)\n- Performance metrics\n\nSources: Tesla.com, EPA certification\n</code></pre> <pre><code>Fix: Correct BYD Seal DC charging power\n\nChanged max DC power from 120kW to 150kW based on official\nspecifications from BYD.\n\nFixes #123\n</code></pre>"},{"location":"guides/contributing/#submitting-the-pr","title":"Submitting the PR","text":"<ol> <li>Go to the original repository</li> <li>Click \"New Pull Request\"</li> <li>Select your branch</li> <li>Fill out the pull request template</li> <li>Link related issues</li> <li>Wait for review</li> </ol>"},{"location":"guides/contributing/#review-process","title":"Review Process","text":"<ul> <li>Maintainers review within 7 days</li> <li>Address feedback promptly</li> <li>Keep discussions focused and professional</li> <li>Be open to suggestions</li> </ul>"},{"location":"guides/contributing/#after-approval","title":"After Approval","text":"<ul> <li>Squash commits if requested</li> <li>Maintainers will merge</li> <li>Your contribution is included in the next release</li> </ul>"},{"location":"guides/contributing/#style-guidelines","title":"Style Guidelines","text":""},{"location":"guides/contributing/#general","title":"General","text":"<ul> <li>Use English for all content</li> <li>Follow SOLID principles</li> <li>Apply DRY principles</li> <li>Avoid unnecessary comments</li> <li>No emojis in code or data</li> </ul>"},{"location":"guides/contributing/#json-formatting","title":"JSON Formatting","text":"<pre><code>{\n  \"schema_version\": \"1.0.0\",\n  \"make\": {\n    \"slug\": \"tesla\",\n    \"name\": \"Tesla\"\n  },\n  \"model\": {\n    \"slug\": \"model_3\",\n    \"name\": \"Model 3\"\n  }\n}\n</code></pre> <p>Rules:</p> <ul> <li>2-space indentation</li> <li>Double quotes for strings</li> <li>Trailing commas in arrays/objects</li> <li>Sort keys alphabetically where logical</li> </ul>"},{"location":"guides/contributing/#rust-code","title":"Rust Code","text":"<pre><code>pub struct Vehicle {\n    pub make: String,\n    pub model: String,\n    pub year: u16,\n}\n\nimpl Vehicle {\n    pub fn new(make: String, model: String, year: u16) -&gt; Self {\n        Self { make, model, year }\n    }\n}\n</code></pre> <p>Rules:</p> <ul> <li>Follow Rust naming conventions</li> <li>Use <code>cargo fmt</code> default configuration</li> <li>Maximum line length: 100 characters</li> <li>Use Result types for error handling</li> <li>Document public APIs with rustdoc</li> </ul>"},{"location":"guides/contributing/#documentation","title":"Documentation","text":"<pre><code># Title\n\nBrief introduction paragraph.\n\n## Section\n\nContent with examples:\n\n    ```python\n    import openev\n\n    vehicle = openev.get_vehicle(\"tesla\", \"model_3\", 2024)\n    ```\n\nSee [Related Guide](./related.md) for details.\n</code></pre> <p>Rules:</p> <ul> <li>Use clear, concise language</li> <li>Include code examples</li> <li>Test all commands</li> <li>Link to related documentation</li> <li>Use frontmatter for metadata</li> </ul>"},{"location":"guides/contributing/#data-quality-standards","title":"Data Quality Standards","text":""},{"location":"guides/contributing/#source-requirements","title":"Source Requirements","text":"<p>Required:</p> <ul> <li>Minimum 2 reliable sources per specification</li> <li>Official manufacturer specifications preferred</li> <li>Regulatory certifications (EPA, WLTP) when available</li> </ul> <p>Source Hierarchy:</p> <ol> <li>Official manufacturer specifications</li> <li>Regulatory certifications</li> <li>Professional automotive publications</li> <li>Verified user testing data</li> </ol> <p>Avoid:</p> <ul> <li>Unverified forums or social media</li> <li>Estimations without methodology</li> <li>Outdated sources</li> </ul>"},{"location":"guides/contributing/#completeness","title":"Completeness","text":"<p>Each vehicle entry should include:</p> <ul> <li>Battery specifications</li> <li>Range data (multiple test cycles)</li> <li>Charging specifications (AC and DC)</li> <li>Performance metrics</li> <li>Physical dimensions</li> <li>Market availability</li> </ul>"},{"location":"guides/contributing/#international-coverage","title":"International Coverage","text":"<p>Include sources from:</p> <ul> <li>USA</li> <li>Brazil</li> <li>EU (Portugal, Germany, France, Italy, UK)</li> <li>China</li> <li>Japan</li> </ul>"},{"location":"guides/contributing/#accuracy","title":"Accuracy","text":"<ul> <li>Verify all specifications</li> <li>Document assumptions clearly</li> <li>Update when new information available</li> <li>Note regional variations</li> </ul> <p>Read the complete Data Quality Standards guide.</p>"},{"location":"guides/contributing/#community-guidelines","title":"Community Guidelines","text":""},{"location":"guides/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>We are committed to providing a welcoming and inclusive environment. Read our Code of Conduct.</p>"},{"location":"guides/contributing/#communication","title":"Communication","text":"<ul> <li>Be respectful and professional</li> <li>Provide constructive feedback</li> <li>Ask questions when unclear</li> <li>Share knowledge generously</li> </ul>"},{"location":"guides/contributing/#best-practices","title":"Best Practices","text":"<ul> <li>Search existing issues before creating new ones</li> <li>Use appropriate issue templates</li> <li>Provide detailed reproduction steps for bugs</li> <li>Include relevant context in discussions</li> </ul>"},{"location":"guides/contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized:</p> <ul> <li>In the contributors list</li> <li>In release notes</li> <li>In the dataset metadata</li> </ul>"},{"location":"guides/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under:</p> <ul> <li>Dataset: CDLA-Permissive-2.0</li> <li>API/Code: Apache License 2.0</li> <li>Documentation: CC-BY 4.0</li> </ul> <p>See License Information for details.</p>"},{"location":"guides/contributing/#get-help","title":"Get Help","text":"<p>Need assistance?</p> <ul> <li>GitHub Issues</li> <li>GitHub Discussions</li> <li>Documentation</li> </ul>"},{"location":"guides/contributing/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Project Setup</p> <p>Complete development environment setup</p> </li> <li> <p>API Documentation</p> <p>Learn about the API</p> </li> <li> <p>Dataset Documentation</p> <p>Understand the dataset structure</p> </li> <li> <p>Code of Conduct</p> <p>Community standards</p> </li> </ul> <p>Thank you for helping make OpenEV Data the most accurate and comprehensive EV specification database!</p>"}]}